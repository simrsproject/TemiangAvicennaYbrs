(function(a,b,k){var e=a.extend;
var c=a.each;
var g=window.kendo;
var f="initialize",h="load",j="render",i="open",d="error";
b.RadPdfViewer=function(l){var m=this;
b.RadPdfViewer.initializeBase(m,[l]);
m._initialized=false;
m._options={};
m.kendoWidget=null;
m._skin=null;
};
b.RadPdfViewer.prototype={initialize:function(){var n=this;
var l=n._options;
if(n._initialized){return;
}b.RadPdfViewer.callBaseMethod(n,"initialize");
n.raiseEvent(f);
n._initializeKendoWidget();
if(a(this.get_element()).parents().last().find(".RadPdfViewer").length==1){window.kendo.mobile.ui.Scroller.fn._wheelScrollOriginal=window.kendo.mobile.ui.Scroller.fn._wheelScroll;
window.kendo.mobile.ui.Scroller.fn._wheelScroll=function(q){this.yinertia._moveTo=function(r){this.transition.moveTo({location:r,duration:200,ease:window.kendo.effects.Transition.easeOutExpo});
};
this._wheelScrollOriginal(q);
};
}this.get_kendoWidget().bind("update",function(q){n.updateClientState();
});
var p=this.get_toolBarComboBox();
if(p){p.bind("open",function(q){setTimeout(function(){var r=q.sender.list.parent();
if(r.hasClass("k-animation-container")){n._addClassesToChildElement(r,"_AnimationContainer");
}});
});
}var m=this.get_kendoWidget().element.find(".k-button-icon[data-command='OpenSearchCommand']");
m.on("click",function(q){setTimeout(function(){var r=n.get_kendoWidget().searchDialog;
if(r){var s=r.dialog.element.parent();
if(s.hasClass("k-window")){n._addClassesToChildElement(s,"_SearchDialog");
}}});
});
var o=this.get_toolBar();
o.bind("overflowOpen",function(q){setTimeout(function(){var r=o.popup.element.parent();
if(r.hasClass("k-animation-container")){n._addClassesToChildElement(r,"_AnimationContainer");
}});
});
n.raiseEvent(h);
n.updateClientState();
n._initialized=true;
},dispose:function(){if(window.kendo.mobile.ui.Scroller.fn._wheelScrollOriginal){window.kendo.mobile.ui.Scroller.fn._wheelScroll=window.kendo.mobile.ui.Scroller.fn._wheelScrollOriginal;
}var l=this;
if(l.kendoWidget){l.kendoWidget.destroy();
}delete l.kendoWidget;
delete l._options;
b.RadPdfViewer.callBaseMethod(l,"dispose");
},_initializeKendoWidget:function(){var n=this;
var l=$telerik.$.extend({},n._options,{render:function(q){var p={page:q.page};
a.raiseControlEvent(n,j,p);
},open:function(q){var p={file:q.file};
if(a.raiseCancellableControlEvent(n,i,p)){q.preventDefault();
}},error:function(q){var p={error:q.error,message:q.message,dialog:q.dialog};
a.raiseControlEvent(n,d,p);
}});
n.kendoWidget=a(n._element).kendoPDFViewer(l).getKendoPDFViewer();
if(l.scaleText){var o=n.get_toolBarComboBox();
if(o){var m=a("li").filter(function(){return a(this).text().trim()==l.scaleText;
});
o.text(l.scaleText);
n.get_kendoWidget().one("render",function(p){o.select(m);
o.trigger("change");
});
}}},_addClassesToChildElement:function(l,m){a(this.get_element().className.split(" ")).each(function(o,n){if(n!="k-pdf-viewer"&&n!="k-widget"){l.addClass(n+m);
}});
},get_kendoWidget:function(){return this.kendoWidget;
},get_visible:function(){return this.get_kendoWidget().element.is(":visible");
},get_pageContainer:function(){return this.get_kendoWidget().pageContainer;
},get_document:function(){return this.get_kendoWidget().document;
},get_pages:function(){return this.get_kendoWidget().pages;
},get_processor:function(){return this.get_kendoWidget().processor;
},get_activePage:function(){return this.get_kendoWidget()._pageNum;
},get_toolBar:function(){return this.get_kendoWidget().toolbar;
},get_toolBarComboBox:function(){return this.get_kendoWidget().element.find(".k-widget.k-combobox > select").data("kendoComboBox");
},get_scale:function(){return{value:this.get_kendoWidget().zoomScale,text:this.get_toolBarComboBox()?this.get_toolBarComboBox().text():""};
},show:function(){this.get_kendoWidget().element.show();
},hide:function(){this.get_kendoWidget().element.hide();
},repaint:function(l){this.get_kendoWidget().resize(l);
},fromFile:function(l){this.get_kendoWidget().fromFile(l);
},set_visible:function(l){if(l){this.show();
}else{this.hide();
}},activatePage:function(l){this.get_kendoWidget().activatePage(l);
},set_activePage:function(l){this.get_kendoWidget().activatePage(l);
},loadPage:function(l){this.get_kendoWidget().loadPage(l);
},execute:function(l){this.get_kendoWidget().execute(l);
},showToolBar:function(){var l=this.get_toolBar();
if(l){l.element.show();
}},hideToolBar:function(){var l=this.get_toolBar();
if(l){l.element.hide();
}},addToolBarItem:function(l){var m=this.get_toolBar();
if(m){m.add(l);
}},set_scale:function(m){var n=this.get_toolBarComboBox();
try{if(!m.text){if(!m.value){throw ("Required format: { value: 2, text: '200%' }");
}m.text=Math.round(m.value*100)+"%";
}n.text(m.text);
n.trigger("change");
}catch(l){console.info(l);
}},saveClientState:function(){var l=this;
return'{"activePage":'+JSON.stringify(l.get_activePage())+',"scale":'+JSON.stringify(l.get_scale())+"}";
},updateClientState:function(){this.set_clientState(this.saveClientState());
}};
b.RadPdfViewer.registerClass("Telerik.Web.UI.RadPdfViewer",b.RadWebControl);
a.registerControlEvents(b.RadPdfViewer,[f,h,j,i,d]);
b.RadPdfViewer._getWidgetOptions=function(){var m=a.extend(true,{},g.ui.PDFViewer.fn.options);
var l=["dplProcessing","name","prefix","toolbar","view","page","scale","pdfjsProcessing"];
c(l,function(n,o){delete m[o];
});
return m;
};
b.RadPdfViewer._registerControlProperties=function(l){a.each(l,function(n,m){if(!b.RadPdfViewer.prototype["get_"+n]){b.RadPdfViewer.prototype["get_"+n]=function(){return this.kendoWidget?this.kendoWidget.options[n]:k;
};
}if(!b.RadPdfViewer.prototype["set_"+n]){if(n!="defaultPageSize"){b.RadPdfViewer.prototype["set_"+n]=function(p){var q=this.kendoWidget;
var o={};
o[n]=p;
if(q){q.setOptions(o);
}};
}}});
};
b.RadPdfViewer._registerControlProperties(b.RadPdfViewer._getWidgetOptions());
})($telerik.$,Telerik.Web.UI);
