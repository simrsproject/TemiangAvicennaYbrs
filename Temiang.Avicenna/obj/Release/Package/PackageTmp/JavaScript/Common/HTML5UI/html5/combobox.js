(function(b,a){a("kendo.combobox",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],b);
}(function(){var a={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};
(function(b,F){var n=window.kendo,E=n.ui,p=E.List,y=E.Select,f=n.caret,D=n.support,v=D.placeholder,c=n._activeElement,o=n.keys,t=".kendoComboBox",u=t+"FocusEvent",h="click"+t,r="mousedown"+t,k="disabled",x="readonly",g="change",q="k-i-loading",j="k-state-default",l="k-state-focused",C="k-state-disabled",d="aria-disabled",e="off",A="filter",z="accept",B="rebind",m="mouseenter"+t+" mouseleave"+t,w=b.proxy,s=/(\r\n|\n|\r)/gm;
var i=y.extend({init:function(H,I){var K=this,J,G;
K.ns=t;
I=b.isArray(I)?{dataSource:I}:I;
y.fn.init.call(K,H,I);
I=K.options;
H=K.element.on("focus"+t,w(K._focusHandler,K));
I.placeholder=I.placeholder||H.attr("placeholder");
K._reset();
K._wrapper();
K._input();
K._clearButton();
K._tabindex(K.input);
K._popup();
K._dataSource();
K._ignoreCase();
K._enable();
K._attachFocusEvents();
K._oldIndex=K.selectedIndex=-1;
K._aria();
K._initialIndex=I.index;
K.requireValueMapper(K.options);
K._initList();
K._cascade();
if(I.autoBind){K._filterSource();
}else{J=I.text;
if(!J&&K._isSelect){J=H.children(":selected").text();
}if(J){K._setText(J);
}}if(!J){K._placeholder();
}G=b(K.element).parents("fieldset").is(":disabled");
if(G){K.enable(false);
}n.notify(K);
K._toggleCloseVisibility();
},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:false,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},virtual:false,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,syncValueAndText:true,autoWidth:false,popup:null},events:["open","close",g,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(H){var G=this._listOptions(H);
y.fn.setOptions.call(this,H);
this.listView.setOptions(G);
this._accessors();
this._aria();
this._clearButton();
},destroy:function(){var G=this;
G.input.off(t);
G.input.off(u);
G.element.off(t);
G.wrapper.off(t);
G._inputWrapper.off(t);
clearTimeout(G._pasteTimeout);
G._arrow.off(h+" "+r);
G._clear.off(h+" "+r);
y.fn.destroy.call(G);
},_change:function(){var K=this;
var J=K.text();
var G=J&&J!==K._oldText&&J!==K.options.placeholder;
var H=K.selectedIndex;
var I=H===-1;
if(!K.options.syncValueAndText&&!K.value()&&I&&G){K._old="";
K._oldIndex=H;
K._oldText=J;
if(!K._typing){K.element.trigger(g);
}K.trigger(g);
K._typing=false;
return;
}y.fn._change.call(K);
K._toggleCloseVisibility();
},_attachFocusEvents:function(){var G=this;
G.input.on("focus"+u,w(G._inputFocus,G)).on("focusout"+u,w(G._inputFocusout,G));
},_focusHandler:function(){this.input.focus();
},_arrowClick:function(){this._toggle();
},_inputFocus:function(){this._inputWrapper.addClass(l);
this._placeholder(false);
},_inputFocusout:function(){var I=this;
var J=I.value();
I._userTriggered=true;
I._inputWrapper.removeClass(l);
clearTimeout(I._typingTimeout);
I._typingTimeout=null;
I.text(I.text());
var H=I._focus();
var G=this.listView.dataItemByIndex(this.listView.getElementIndex(H));
if(J!==I.value()&&I.trigger("select",{dataItem:G,item:H})){I.value(J);
return;
}I._placeholder();
I._blur();
I.element.blur();
},_inputPaste:function(){var G=this;
clearTimeout(G._pasteTimeout);
G._pasteTimeout=null;
G._pasteTimeout=setTimeout(function(){G.search();
});
},_editable:function(K){var M=this,I=K.disable,L=K.readonly,N=M._inputWrapper.off(t),J=M.element.add(M.input.off(t)),G=M._arrow.off(h+" "+r),H=M._clear;
if(!L&&!I){N.addClass(j).removeClass(C).on(m,M._toggleHover);
J.removeAttr(k).removeAttr(x).attr(d,false);
G.on(h,w(M._arrowClick,M)).on(r,function(O){O.preventDefault();
});
H.on(h+" touchend"+t,w(M._clearValue,M));
M.input.on("keydown"+t,w(M._keydown,M)).on("input"+t,w(M._search,M)).on("paste"+t,w(M._inputPaste,M));
M.wrapper.on(h+t,w(M._focusHandler,M));
}else{N.addClass(I?C:j).removeClass(I?j:C);
J.attr(k,I).attr(x,L).attr(d,I);
}M._toggleCloseVisibility();
},open:function(){var J=this;
var I=J._state;
var G=J.dataSource.filter()?J.dataSource.filter().filters.length>0:false;
var H=!J.ul.find(J.listView.focus()).length;
if(J.popup.visible()){return;
}if(!J.listView.bound()&&I!==A||I===z){J._open=true;
J._state=B;
if(J.options.minLength!==1&&!G||G&&J.value()&&J.selectedIndex===-1){J.refresh();
J._openPopup();
if(!this.options.virtual){J.listView.bound(false);
}}else{J._filterSource();
}}else{if(J._allowOpening()){J.popup._hovered=true;
J._openPopup();
if(J.options.virtual){J._focusItem();
}else{if(H&&J.options.highlightFirst){J.listView.focus(0);
}}}}},_scrollToFocusedItem:function(){var G=this.listView;
G.scrollToIndex(G.getElementIndex(G.focus()));
},_openPopup:function(){this.popup.one("activate",w(this._scrollToFocusedItem,this));
this.popup.open();
},_updateSelectionState:function(){var H=this;
var G=H.options.text;
var I=H.options.value;
if(H.listView.isFiltered()){return;
}if(H.selectedIndex===-1){if(G===F||G===null){G=I;
}H._accessor(I);
H.input.val(G||H.input.val());
H._placeholder();
}else{if(H._oldIndex===-1){H._oldIndex=H.selectedIndex;
}}},_buildOptions:function(H){var I=this;
if(!I._isSelect){return;
}var G=I._customOption;
if(I._state===B){I._state="";
}I._customOption=F;
I._options(H,"",I.value());
if(G&&G[0].selected&&!I.listView._emptySearch){I._custom(G.val());
}},_updateSelection:function(){var L=this;
var K=L.listView;
var J=L._initialIndex;
var I=J!==null&&J>-1;
var H=L._state===A;
if(H){b(K.focus()).removeClass("k-state-selected");
return;
}if(L._fetch){return;
}if(!K.value().length){if(I){L.select(J);
}else{if(L._accessor()){K.value(L._accessor());
}}}L._initialIndex=null;
var G=K.selectedDataItems()[0];
if(!G){return;
}if(L._value(G)!==L.value()){L._custom(L._value(G));
}else{if(L._value(G)!==L.element[0].value){L._accessor(L._value(G));
}}if(L.text()&&L.text()!==L._text(G)){L._selectValue(G);
}},_updateItemFocus:function(){var G=this.listView;
if(!this.options.highlightFirst){G.focus(-1);
}else{if(!G.focus()&&!G.focusIndex()){G.focus(0);
}}},_listBound:function(){var M=this;
var I=M.input[0]===c();
var G=M.dataSource.flatView();
var L=M.listView.skip();
var K=G.length;
var H=M.dataSource._group?M.dataSource._group.length:0;
var J=L===F||L===0;
M._presetValue=false;
M._renderFooter();
M._renderNoData();
M._toggleNoData(!K);
M._toggleHeader(!!H&&!!K);
M._resizePopup();
M.popup.position();
M._buildOptions(G);
M._makeUnselectable();
M._updateSelection();
if(G.length&&J){M._updateItemFocus();
if(M.options.suggest&&I&&M.input.val()){M.suggest(G[0]);
}}if(M._open){M._open=false;
if(M._typingTimeout&&!I){M.popup.close();
}else{M.toggle(M._allowOpening());
}M._typingTimeout=null;
}M._hideBusy();
M.trigger("dataBound");
},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);
if(this._presetValue){this._oldIndex=this.selectedIndex;
}},_get:function(G){var H,I,J;
if(typeof G==="function"){H=this.dataSource.flatView();
for(J=0;
J<H.length;
J++){if(G(H[J])){G=J;
I=true;
break;
}}if(!I){G=-1;
}}return G;
},_select:function(G,H){var I=this;
G=I._get(G);
if(G===-1){I.input[0].value="";
I._accessor("");
}return I.listView.select(G).done(function(){if(!H&&I._state===A){I._state=z;
}I._toggleCloseVisibility();
});
},_selectValue:function(G){var H=this.listView.select();
var J="";
var I="";
H=H[H.length-1];
if(H===F){H=-1;
}this.selectedIndex=H;
if(this.listView.isFiltered()&&H!==-1){this._valueBeforeCascade=this._old;
}if(H===-1&&!G){if(this.options.syncValueAndText){if(this.options.dataTextField===this.options.dataValueField){I=this._accessor();
}else{I=this.input[0].value;
}J=I;
}else{I=this.text();
}this.listView.focus(-1);
}else{if(G||G===0){J=this._dataValue(G);
I=this._text(G);
}if(J===null){J="";
}}this._setDomInputValue(I);
this._accessor(J!==F?J:I,H);
this._placeholder();
this._triggerCascade();
},_setDomInputValue:function(J){var K=this;
var H=f(this.input);
var G;
if(H&&H.length){G=H[0];
}this._prev=this.input[0].value=J;
if(G&&this.selectedIndex===-1){var I=D.mobileOS;
if(I.wp||I.android){setTimeout(function(){K.input[0].setSelectionRange(G,G);
},0);
}else{this.input[0].setSelectionRange(G,G);
}}},refresh:function(){this.listView.refresh();
},_toggleCloseVisibility:function(){var G=this.element.is(":disabled")||this.element.is("[readonly]");
if(this.text()&&!G){this._showClear();
}else{this._hideClear();
}},suggest:function(N){var L=this;
var I=L.input[0];
var M=L.text();
var H=f(I)[0];
var K=L._last;
var J;
var G=L.dataSource.options.accentFoldingFiltering;
if(K==o.BACKSPACE||K==o.DELETE){L._last=F;
return;
}N=N||"";
if(typeof N!=="string"){if(N[0]){N=L.dataSource.view()[p.inArray(N[0],L.ul[0])];
}N=N?L._text(N):"";
}if(H<=0){H=(G?M.toLocaleLowerCase(G):M.toLowerCase()).indexOf(G?N.toLocaleLowerCase(G):N.toLowerCase())+1;
}if(N){N=N.toString();
J=(G?N.toLocaleLowerCase(G):N.toLowerCase()).indexOf(G?M.toLocaleLowerCase(G):M.toLowerCase());
if(J>-1){M+=N.substring(J+M.length);
}}else{M=M.substring(0,H);
}if(M.length!==H||!N){I.value=M;
if(I===c()){f(I,H,M.length);
}}},text:function(K){K=K===null?"":K;
var L=this;
var I=L.input[0];
var H=L.options.ignoreCase;
var J=K;
var G;
var M;
if(K===F){return I.value;
}if(L.options.autoBind===false&&!L.listView.bound()){L._setText(K);
return;
}G=L.dataItem();
if(G&&L._text(G).replace&&L._text(G).replace(s,"")===K){M=L._value(G);
if(M===p.unifyType(L._old,typeof M)){L._triggerCascade();
return;
}}if(H){J=J.toLowerCase();
}if(L.dataItem()&&L._text(L.dataItem())===K){return;
}L._select(function(N){N=L._text(N);
if(H){N=(N+"").toLowerCase();
}return N===J;
}).done(function(){if(L.selectedIndex<0){I.value=K;
if(L.options.syncValueAndText){L._accessor(K);
}L._cascadeTriggered=true;
L._triggerCascade();
}L._prev=I.value;
});
L._toggleCloseVisibility();
},toggle:function(G){this._toggle(G,true);
},value:function(J){var I=this;
var H=I.options;
var G=I.listView;
if(J===F){J=I._accessor()||I.listView.value()[0];
return J===F||J===null?"":J;
}I.requireValueMapper(I.options,J);
I.trigger("set",{value:J});
if(J===H.value&&I.input.val()===H.text){return;
}I._accessor(J);
if(I._isFilterEnabled()&&G.bound()&&G.isFiltered()){I._clearFilter();
}else{I._fetchData();
}G.value(J).done(function(){if(I.selectedIndex===-1&&(!G._selectedDataItems||!G._selectedDataItems.length)){I._accessor(J);
I.input.val(J);
I._placeholder(true);
}I._old=I._valueBeforeCascade=I._accessor();
I._oldIndex=I.selectedIndex;
I._prev=I.input.val();
if(I._state===A){I._state=z;
}I._toggleCloseVisibility();
});
},_hideBusy:function(){var G=this;
clearTimeout(G._busy);
G._arrowIcon.removeClass(q);
G._focused.attr("aria-busy",false);
G._busy=null;
G._toggleCloseVisibility();
},_click:function(H){var K=this;
var I=H.item;
var G=K.listView.dataItemByIndex(K.listView.getElementIndex(I));
var J=true;
H.preventDefault();
if(G){J=K._value(G)!==p.unifyType(K.value(),typeof K._value(G));
if(!J){K.input.val(K._text(G));
}}if(J&&K.trigger("select",{dataItem:G,item:I})){K.close();
return;
}K._userTriggered=true;
K._select(I).done(function(){K._blur();
});
},_syncValueAndText:function(){return this.options.syncValueAndText;
},_inputValue:function(){return this.text();
},_searchByWord:function(M){var L=this;
var J=L.options;
var H=L.dataSource;
var I=J.ignoreCase;
var K=function(N){var O=L._text(N);
if(O!==F){O=O+"";
if(O!==""&&M===""){return false;
}if(I){O=O.toLowerCase();
}return O.indexOf(M)===0;
}};
if(I){M=M.toLowerCase();
}if(!L.ul[0].firstChild){H.one(g,function(){if(H.view()[0]){L.search(M);
}}).fetch();
return;
}this.listView.focus(this._get(K));
var G=this.listView.focus();
if(G){if(J.suggest){L.suggest(G);
}this.open();
}if(this.options.highlightFirst&&!M){this.listView.focusFirst();
}},_input:function(){var M=this,H=M.element.removeClass("k-input")[0],G=H.accessKey,N=M.wrapper,L="input.k-input",K=H.name||"",I,J;
if(K){K='name="'+K+'_input" ';
}I=N.find(L);
if(!I[0]){N.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+K+'class="k-input" type="text" autocomplete="'+e+'"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(M.element);
I=N.find(L);
}I[0].style.cssText=H.style.cssText;
I[0].title=H.title;
J=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10);
if(J>-1){I[0].maxLength=J;
}I.addClass(H.className).css({width:"",height:H.style.height}).attr({role:"combobox","aria-expanded":false}).show();
if(v){I.attr("placeholder",M.options.placeholder);
}if(G){H.accessKey="";
I[0].accessKey=G;
}M._focused=M.input=I;
M._inputWrapper=b(N[0].firstChild);
M._arrow=N.find(".k-select").attr({role:"button",tabIndex:-1});
M._arrowIcon=M._arrow.find(".k-icon");
if(H.id){M._arrow.attr("aria-controls",M.ul[0].id);
}},_clearButton:function(){p.fn._clearButton.call(this);
if(this.options.clearButton){this._clear.insertAfter(this.input);
this.wrapper.addClass("k-combobox-clearable");
}},_keydown:function(I){var L=this,J=I.keyCode;
L._last=J;
clearTimeout(L._typingTimeout);
L._typingTimeout=null;
if(J===o.HOME){L._firstItem();
}else{if(J===o.END){L._lastItem();
}else{if(J===o.ENTER||J===o.TAB&&L.popup.visible()){var G=L.listView.focus();
var H=L.dataItem();
var K=true;
if(!L.popup.visible()&&(!H||L.text()!==L._text(H))){G=null;
}if(G){if(L.popup.visible()){I.preventDefault();
}H=L.listView.dataItemByIndex(L.listView.getElementIndex(G));
if(H){K=L._value(H)!==p.unifyType(L.value(),typeof L._value(H));
}if(K&&L.trigger("select",{dataItem:H,item:G})){return;
}L._userTriggered=true;
L._select(G).done(function(){L._blur();
L._valueBeforeCascade=L._old=L.value();
});
}else{if(L._syncValueAndText()||L._isSelect){L._accessor(L.input.val());
}L.listView.value(L.input.val());
L._blur();
}}else{if(J!=o.TAB&&!L._move(I)){L._search();
}else{if(J===o.ESC&&!L.popup.visible()&&L.text()){L._clearValue();
}}}}}},_placeholder:function(I){if(v){return;
}var J=this,G=J.input,H=J.options.placeholder,K;
if(H){K=J.value();
if(I===F){I=!K;
}G.toggleClass("k-readonly",I);
if(!I){if(!K){H="";
}else{return;
}}G.val(H);
if(!H&&G[0]===c()){f(G[0],0,0);
}}},_search:function(){var G=this;
clearTimeout(G._typingTimeout);
G._typingTimeout=setTimeout(function(){var H=G.text();
if(G._prev!==H){G._prev=H;
if(G.options.filter==="none"&&G.options.virtual){G.listView.select(-1);
}G.search(H);
G._toggleCloseVisibility();
}G._typingTimeout=null;
},G.options.delay);
},_setText:function(G){this.input.val(G);
this._prev=G;
},_wrapper:function(){var H=this,G=H.element,I=G.parent();
if(!I.is("span.k-widget")){I=G.hide().wrap("<span />").parent();
I[0].style.cssText=G[0].style.cssText;
}H.wrapper=I.addClass("k-widget k-combobox").addClass(G[0].className).css("display","");
},_clearSelection:function(J,I){var K=this;
var H=J.value();
var G=H&&J.selectedIndex===-1;
if(this.selectedIndex==-1&&this.value()){return;
}if(I||!H||G){K.options.value="";
K.value("");
K._selectedValue=null;
}},_preselect:function(H,G){this.input.val(G);
this._accessor(H);
this._old=this._accessor();
this._oldIndex=this.selectedIndex;
this.listView.setValue(H);
this._placeholder();
this._initialIndex=null;
this._presetValue=true;
this._toggleCloseVisibility();
},_clearValue:function(){y.fn._clearValue.call(this);
this.input.focus();
}});
E.plugin(i);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
