(function(b,a){a("kendo.popup",["kendo.core"],b);
}(function(){var a={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true};
(function(b,R){var w=window.kendo,Q=w.ui,T=Q.Widget,l=w.Class,L=w.support,u=w.getOffset,D=w._outerWidth,C=w._outerHeight,B="open",m="close",p="deactivate",d="activate",k="center",x="left",H="right",O="top",j="bottom",c="absolute",v="hidden",i="body",y="location",F="position",S="visible",r="effects",e="k-state-active",f="k-state-border",g=/k-state-border-(\w+)/,h=".k-picker-wrap, .k-dropdown-wrap, .k-link",z="down",q=b(document.documentElement),G=b.proxy,U=b(window),I="scroll",o=L.transitions.css,P=o+"transform",s=b.extend,A=".kendoPopup",K=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];
function n(V,W){if(!V||!W){return false;
}return V===W||b.contains(V,W);
}var E=T.extend({init:function(V,W){var Y=this,X;
W=W||{};
if(W.isRtl){W.origin=W.origin||j+" "+H;
W.position=W.position||O+" "+H;
}T.fn.init.call(Y,V,W);
V=Y.element;
W=Y.options;
Y.collisions=W.collision?W.collision.split(" "):[];
Y.downEvent=w.applyEventMap(z,w.guid());
if(Y.collisions.length===1){Y.collisions.push(Y.collisions[0]);
}X=b(Y.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");
W.appendTo=b(b(W.appendTo)[0]||X[0]||document.body);
Y.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!W.isRtl).css({position:c}).appendTo(W.appendTo).attr("aria-hidden",true).on("mouseenter"+A,function(){Y._hovered=true;
}).on("wheel"+A,function(Z){var aa=b(Z.target).find(".k-list");
var ab=aa.parent();
if(aa.length&&aa.is(":visible")&&(ab.scrollTop()===0&&Z.originalEvent.deltaY<0||ab.scrollTop()===ab.prop("scrollHeight")-ab.prop("offsetHeight")&&Z.originalEvent.deltaY>0)){Z.preventDefault();
}}).on("mouseleave"+A,function(){Y._hovered=false;
});
Y.wrapper=b();
if(W.animation===false){W.animation={open:{effects:{}},close:{hide:true,effects:{}}};
}s(W.animation.open,{complete:function(){Y.wrapper.css({overflow:S});
Y._activated=true;
Y._trigger(d);
}});
s(W.animation.close,{complete:function(){Y._animationClose();
}});
Y._mousedownProxy=function(Z){Y._mousedown(Z);
};
if(L.mobileOS.android){Y._resizeProxy=function(Z){setTimeout(function(){Y._resize(Z);
},600);
};
}else{Y._resizeProxy=function(Z){Y._resize(Z);
};
}if(W.toggleTarget){b(W.toggleTarget).on(W.toggleEvent+A,b.proxy(Y.toggle,Y));
}},events:[B,d,m,p],options:{name:"Popup",toggleEvent:"click",origin:j+" "+x,position:O+" "+x,anchor:i,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var W=this;
var V=W.wrapper.data(y);
W.wrapper.hide();
if(V){W.wrapper.css(V);
}if(W.options.anchor!=i){W._hideDirClass();
}W._closing=false;
W._trigger(p);
},destroy:function(){var Y=this,W=Y.options,V=Y.element.off(A),X;
T.fn.destroy.call(Y);
if(W.toggleTarget){b(W.toggleTarget).off(A);
}if(!W.modal){q.off(Y.downEvent,Y._mousedownProxy);
Y._toggleResize(false);
}w.destroy(Y.element.children());
V.removeData();
if(W.appendTo[0]===document.body){X=V.parent(".k-animation-container");
if(X[0]){X.remove();
}else{V.remove();
}}},open:function(ad,ae){var ab=this,Y={isFixed:!isNaN(parseInt(ae,10)),x:ad,y:ae},X=ab.element,aa=ab.options,W,ac,V=b(aa.anchor),Z=X[0]&&X.hasClass("km-widget");
if(!ab.visible()){if(aa.copyAnchorStyles){if(Z&&K[0]=="font-size"){K.shift();
}X.css(w.getComputedStyles(V[0],K));
}if(X.data("animating")||ab._trigger(B)){return;
}ab._activated=false;
if(!aa.modal){q.off(ab.downEvent,ab._mousedownProxy).on(ab.downEvent,ab._mousedownProxy);
ab._toggleResize(false);
ab._toggleResize(true);
}ab.wrapper=ac=w.wrap(X,aa.autosize).css({overflow:v,display:"block",position:c}).attr("aria-hidden",false);
if(L.mobileOS.android){ac.css(P,"translatez(0)");
}ac.css(F);
if(b(aa.appendTo)[0]==document.body){ac.css(O,"-10000px");
}ab.flipped=ab._position(Y);
W=ab._openAnimation();
if(aa.anchor!=i){ab._showDirClass(W);
}X.data(r,W.effects).kendoStop(true).kendoAnimate(W).attr("aria-hidden",false);
}},_location:function(X){var ab=this,W=ab.element,aa=ab.options,ac,V=b(aa.anchor),Y=W[0]&&W.hasClass("km-widget");
if(aa.copyAnchorStyles){if(Y&&K[0]=="font-size"){K.shift();
}W.css(w.getComputedStyles(V[0],K));
}ab.wrapper=ac=w.wrap(W,aa.autosize).css({overflow:v,display:"block",position:c});
if(L.mobileOS.android){ac.css(P,"translatez(0)");
}ac.css(F);
if(b(aa.appendTo)[0]==document.body){ac.css(O,"-10000px");
}ab._position(X||{});
var Z=ac.offset();
return{width:w._outerWidth(ac),height:w._outerHeight(ac),left:Z.left,top:Z.top};
},_openAnimation:function(){var V=s(true,{},this.options.animation.open);
V.effects=w.parseEffects(V.effects,this.flipped);
return V;
},_hideDirClass:function(){var V=b(this.options.anchor);
var X=((V.attr("class")||"").match(g)||["","down"])[1];
var W=f+"-"+X;
V.removeClass(W).children(h).removeClass(e).removeClass(W);
this.element.removeClass(f+"-"+w.directions[X].reverse);
},_showDirClass:function(V){var X=V.effects.slideIn?V.effects.slideIn.direction:"down";
var W=f+"-"+X;
b(this.options.anchor).addClass(W).children(h).addClass(e).addClass(W);
this.element.addClass(f+"-"+w.directions[X].reverse);
},position:function(){if(this.visible()){this.flipped=this._position();
}},toggle:function(){var V=this;
V[V.visible()?m:B]();
},visible:function(){return this.element.is(":"+S);
},close:function(Z){var aa=this,Y=aa.options,ab,V,X,W;
if(aa.visible()){ab=aa.wrapper[0]?aa.wrapper:w.wrap(aa.element).hide();
aa._toggleResize(false);
if(aa._closing||aa._trigger(m)){aa._toggleResize(true);
return;
}aa.element.find(".k-popup").each(function(){var ad=b(this),ac=ad.data("kendoPopup");
if(ac){ac.close(Z);
}});
q.off(aa.downEvent,aa._mousedownProxy);
if(Z){V={hide:true,effects:{}};
}else{V=s(true,{},Y.animation.close);
X=aa.element.data(r);
W=V.effects;
if(!W&&!w.size(W)&&X&&w.size(X)){V.effects=X;
V.reverse=true;
}aa._closing=true;
}aa.element.kendoStop(true).attr("aria-hidden",true);
ab.css({overflow:v}).attr("aria-hidden",true);
aa.element.kendoAnimate(V);
if(Z){aa._animationClose();
}}},_trigger:function(V){return this.trigger(V,{type:V});
},_resize:function(V){var W=this;
if(L.resize.indexOf(V.type)!==-1){clearTimeout(W._resizeTimeout);
W._resizeTimeout=setTimeout(function(){W._position();
W._resizeTimeout=null;
},50);
}else{if(!W._hovered||W._activated&&W.element.hasClass("k-list-container")){W.close();
}}},_toggleResize:function(X){var W=X?"on":"off";
var V=L.resize;
if(!(L.mobileOS.ios||L.mobileOS.android)){V+=" "+I;
}if(X&&!this.scrollableParents){this.scrollableParents=this._scrollableParents();
}if(this.scrollableParents&&this.scrollableParents.length){this.scrollableParents[W](I,this._resizeProxy);
}U[W](V,this._resizeProxy);
},_mousedown:function(X){var ac=this,W=ac.element[0],Z=ac.options,V=b(Z.anchor)[0],ad=Z.toggleTarget,ab=w.eventTarget(X),aa=b(ab).closest(".k-popup"),Y=aa.parent().parent(".km-shim").length;
aa=aa[0];
if(!Y&&aa&&aa!==ac.element[0]){return;
}if(b(X.target).closest("a").data("rel")==="popover"){return;
}if(!n(W,ab)&&!n(V,ab)&&!(ad&&n(b(ad)[0],ab))){ac.close();
}},_fit:function(W,X,Y){var V=0;
if(W+X>Y){V=Y-(W+X);
}if(W<0){V=-W;
}return V;
},_flip:function(X,ab,V,ac,Y,aa,W){var Z=0;
W=W||ab;
if(aa!==Y&&aa!==k&&Y!==k){if(X+W>ac){Z+=-(V+ab);
}if(X+Z<0){Z+=V+ab;
}}return Z;
},_scrollableParents:function(){return b(this.options.anchor).parentsUntil("body").filter(function(W,V){return w.isScrollable(V);
});
},_position:function(ac){var at=this,aa=at.element,ay=at.wrapper,ak=at.options,au=b(ak.viewport),aB=L.zoomLevel(),af=!!(au[0]==window&&window.innerWidth&&aB<=1.02),W=b(ak.anchor),al=ak.origin.toLowerCase().split(" "),ap=ak.position.toLowerCase().split(" "),Y=at.collisions,aq,am,an,aA=10002,ae=0,Z=document.documentElement,ag,aw,ax,av;
if(ak.viewport===window){aw={top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0};
}else{aw=au.offset();
}if(af){ax=window.innerWidth;
av=window.innerHeight;
}else{ax=au.width();
av=au.height();
}if(af&&Z.scrollHeight-Z.clientHeight>0){var ar=ak.isRtl?-1:1;
ax-=ar*w.support.scrollbar();
}aq=W.parents().filter(ay.siblings());
if(aq[0]){an=Math.max(Number(aq.css("zIndex")),0);
if(an){aA=an+10;
}else{am=W.parentsUntil(aq);
for(ag=am.length;
ae<ag;
ae++){an=Number(b(am[ae]).css("zIndex"));
if(an&&aA<an){aA=an+10;
}}}}ay.css("zIndex",aA);
if(ac&&ac.isFixed){ay.css({left:ac.x,top:ac.y});
}else{ay.css(at._align(al,ap));
}var ao=u(ay,F,W[0]===ay.offsetParent()[0]),ai=u(ay),X=W.offsetParent().parent(".k-animation-container,.k-popup,.k-group");
if(X.length){ao=u(ay,F,true);
ai=u(ay);
}ai.top-=aw.top;
ai.left-=aw.left;
if(!at.wrapper.data(y)){ay.data(y,s({},ao));
}var aj=s({},ai),ah=s({},ao),V=ak.adjustSize;
if(Y[0]==="fit"){ah.top+=at._fit(aj.top,C(ay)+V.height,av/aB);
}if(Y[1]==="fit"){ah.left+=at._fit(aj.left,D(ay)+V.width,ax/aB);
}var ad=s({},ah);
var ab=C(aa);
var az=C(ay);
if(!ay.height()&&ab){az=az+ab;
}if(Y[0]==="flip"){ah.top+=at._flip(aj.top,ab,C(W),av/aB,al[0],ap[0],az);
}if(Y[1]==="flip"){ah.left+=at._flip(aj.left,D(aa),D(W),ax/aB,al[1],ap[1],D(ay));
}aa.css(F,c);
ay.css(ah);
return ah.left!=ad.left||ah.top!=ad.top;
},_align:function(ag,ah){var aj=this,ab=aj.wrapper,V=b(aj.options.anchor),al=ag[0],ad=ag[1],am=ah[0],ae=ah[1],X=u(V),Z=b(aj.options.appendTo),aa,an=D(ab),ac=C(ab)||C(ab.children().first()),Y=D(V),W=C(V),ak=X.top,af=X.left,ai=Math.round;
if(Z[0]!=document.body){aa=u(Z);
ak-=aa.top;
af-=aa.left;
}if(al===j){ak+=W;
}if(al===k){ak+=ai(W/2);
}if(am===j){ak-=ac;
}if(am===k){ak-=ai(ac/2);
}if(ad===H){af+=Y;
}if(ad===k){af+=ai(Y/2);
}if(ae===H){af-=an;
}if(ae===k){af-=ai(an/2);
}return{top:ak,left:af};
}});
Q.plugin(E);
var J=w.support.stableSort;
var N="kendoTabKeyTrap";
var t="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";
var M=l.extend({init:function(V){this.element=b(V);
this.element.autoApplyNS(N);
},trap:function(){this.element.on("keydown",G(this._keepInTrap,this));
},removeTrap:function(){this.element.kendoDestroy(N);
},destroy:function(){this.element.kendoDestroy(N);
this.element=R;
},shouldTrap:function(){return true;
},_keepInTrap:function(V){if(V.which!==9||!this.shouldTrap()||V.isDefaultPrevented()){return;
}var W=this._focusableElements();
var Y=this._sortFocusableElements(W);
var X=this._nextFocusable(V,Y);
this._focus(X);
V.preventDefault();
},_focusableElements:function(){var V=this.element.find(t).filter(function(W,X){return X.tabIndex>=0&&b(X).is(":visible")&&!b(X).is("[disabled]");
});
if(this.element.is("[tabindex]")){V.push(this.element[0]);
}return V;
},_sortFocusableElements:function(W){var X;
if(J){X=W.sort(function(Z,Y){return Z.tabIndex-Y.tabIndex;
});
}else{var V="__k_index";
W.each(function(Y,Z){Z.setAttribute(V,Y);
});
X=W.sort(function(Z,Y){return Z.tabIndex===Y.tabIndex?parseInt(Z.getAttribute(V),10)-parseInt(Y.getAttribute(V),10):Z.tabIndex-Y.tabIndex;
});
W.removeAttr(V);
}return X;
},_nextFocusable:function(X,Y){var V=Y.length;
var W=Y.index(X.target);
return Y.get((W+(X.shiftKey?-1:1))%V);
},_focus:function(V){if(V.nodeName=="IFRAME"){V.contentWindow.document.body.focus();
return;
}V.focus();
if(V.nodeName=="INPUT"&&V.setSelectionRange&&this._haveSelectionRange(V)){V.setSelectionRange(0,V.value.length);
}},_haveSelectionRange:function(V){var W=V.type.toLowerCase();
return W==="text"||W==="search"||W==="url"||W==="tel"||W==="password";
}});
Q.Popup.TabKeyTrap=M;
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
