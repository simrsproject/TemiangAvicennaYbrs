(function(b,a){a("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],b);
}(function(){var a={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core"]};
(function(b,aq){var w=window.kendo,j=w.Class,ar=w.ui.Widget,V=b.proxy,u=w.isFunction,y=w.keys,D=w._outerWidth,ak="k-toolbar",e="k-button",H="k-overflow-button",ah="k-toggle-button",f="k-button-group",aa="k-split-button",X="k-separator",Z="k-spacer",Y="spacer",S="k-popup",W="k-toolbar-resizable",ac="k-state-active",ad="k-state-disabled",ae="k-state-hidden",r="k-group-start",q="k-group-end",U="k-primary",s="k-icon",t="k-i-",g="k-button-icon",h="k-button-icontext",A="k-list-container k-split-container",ab="k-split-button-arrow",F="k-overflow-anchor",J="k-overflow-container",o="k-toolbar-first-visible",z="k-toolbar-last-visible",k="click",ag="toggle",B="open",l="close",M="overflowOpen",I="overflowClose",L="never",G="auto",E="always",K="k-overflow-hidden",C="_optionlist",x=w.attr("uid");
w.toolbar={};
var m={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};
w.toolbar.registerComponent=function(at,av,au){m[at]={toolbar:av,overflow:au};
};
var v=w.Class.extend({addOverflowAttr:function(){this.element.attr(w.attr("overflow"),this.options.overflow||G);
},addUidAttr:function(){this.element.attr(x,this.options.uid);
},addIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id);
}},addOverflowIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id+"_overflow");
}},attributes:function(){if(this.options.attributes){this.element.attr(this.options.attributes);
}},show:function(){this.element.removeClass(ae).show();
this.options.hidden=false;
},hide:function(){this.element.addClass(ae).hide();
if(this.overflow&&this.overflowHidden){this.overflowHidden();
}this.options.hidden=true;
},remove:function(){this.element.remove();
},enable:function(at){if(at===aq){at=true;
}this.element.toggleClass(ad,!at);
this.options.enable=at;
},twin:function(){var at=this.element.attr(x);
if(this.overflow&&this.options.splitContainerId){return b("#"+this.options.splitContainerId).find("["+x+"='"+at+"']").data(this.options.type);
}else{if(this.overflow){return this.toolbar.element.find("["+x+"='"+at+"']").data(this.options.type);
}else{if(this.toolbar.options.resizable){return this.toolbar.popup.element.find("["+x+"='"+at+"']").data(this.options.type);
}}}}});
w.toolbar.Item=v;
var d=v.extend({init:function(au,av){var at=au.useButtonTag?b('<button tabindex="0"></button>'):b('<a href tabindex="0"></a>');
this.element=at;
this.options=au;
this.toolbar=av;
this.attributes();
if(au.primary){at.addClass(U);
}if(au.togglable){at.addClass(ah);
this.toggle(au.selected);
}if(au.url!==aq&&!au.useButtonTag){at.attr("href",au.url);
if(au.mobile){at.attr(w.attr("role"),"button");
}}if(au.group){at.attr(w.attr("group"),au.group);
this.group=this.toolbar.addToGroup(this,au.group);
}if(!au.togglable&&au.click&&u(au.click)){this.clickHandler=au.click;
}if(au.togglable&&au.toggle&&u(au.toggle)){this.toggleHandler=au.toggle;
}},toggle:function(au,at){au=!!au;
if(this.group&&au){this.group.select(this);
}else{if(!this.group){this.select(au);
}}if(at&&this.twin()){this.twin().toggle(au);
}},getParentGroup:function(){if(this.options.isChild){return this.element.closest("."+f).data("buttonGroup");
}},_addGraphics:function(){var at=this.element,au=this.options.icon,az=this.options.spriteCssClass,av=this.options.imageUrl,ax,ay,aw;
if(az||av||au){ax=true;
at.contents().filter(function(){return !b(this).hasClass("k-sprite")&&!b(this).hasClass(s)&&!b(this).hasClass("k-image");
}).each(function(aB,aA){if(aA.nodeType==1||aA.nodeType==3&&b.trim(aA.nodeValue).length>0){ax=false;
}});
if(ax){at.addClass(g);
}else{at.addClass(h);
}}if(au){ay=at.children("span."+s).first();
if(!ay[0]){ay=b('<span class="'+s+'"></span>').prependTo(at);
}ay.addClass(t+au);
}else{if(az){ay=at.children("span.k-sprite").first();
if(!ay[0]){ay=b('<span class="k-sprite '+s+'"></span>').prependTo(at);
}ay.addClass(az);
}else{if(av){aw=at.children("img.k-image").first();
if(!aw[0]){aw=b('<img alt="icon" class="k-image" />').prependTo(at);
}aw.attr("src",av);
}}}}});
w.toolbar.Button=d;
var al=d.extend({init:function(au,av){d.fn.init.call(this,au,av);
var at=this.element;
at.addClass(e);
this.addIdAttr();
if(au.align){at.addClass("k-align-"+au.align);
}if(au.showText!="overflow"&&au.text){if(au.mobile){at.html('<span class="km-text">'+au.text+"</span>");
}else{at.html(au.text);
}}au.hasIcon=au.showIcon!="overflow"&&(au.icon||au.spriteCssClass||au.imageUrl);
if(au.hasIcon){this._addGraphics();
}this.addUidAttr();
this.addOverflowAttr();
this.enable(au.enable);
if(au.hidden){this.hide();
}this.element.data({type:"button",button:this});
},select:function(at){if(at===aq){at=false;
}this.element.toggleClass(ac,at);
this.options.selected=at;
}});
w.toolbar.ToolBarButton=al;
var N=d.extend({init:function(au,av){this.overflow=true;
d.fn.init.call(this,b.extend({},au),av);
var at=this.element;
if(au.showText!="toolbar"&&au.text){if(au.mobile){at.html('<span class="km-text">'+au.text+"</span>");
}else{at.html('<span class="k-text">'+au.text+"</span>");
}}au.hasIcon=au.showIcon!="toolbar"&&(au.icon||au.spriteCssClass||au.imageUrl);
if(au.hasIcon){this._addGraphics();
}if(!au.isChild){this._wrap();
}this.addOverflowIdAttr();
this.attributes();
this.addUidAttr();
this.addOverflowAttr();
this.enable(au.enable);
at.addClass(H+" "+e);
if(au.hidden){this.hide();
}if(au.togglable){this.toggle(au.selected);
}this.element.data({type:"button",button:this});
},_wrap:function(){this.element=this.element.wrap("<li></li>").parent();
},overflowHidden:function(){this.element.addClass(K);
},select:function(at){if(at===aq){at=false;
}if(this.options.isChild){this.element.toggleClass(ac,at);
}else{this.element.find(".k-button").toggleClass(ac,at);
}this.options.selected=at;
}});
w.toolbar.OverflowButton=N;
w.toolbar.registerComponent("button",al,N);
var i=v.extend({createButtons:function(at){var ax=this.options;
var aw=ax.buttons||[];
var av;
for(var au=0;
au<aw.length;
au++){if(!aw[au].uid){aw[au].uid=w.guid();
}av=new at(b.extend({mobile:ax.mobile,isChild:true,type:"button"},aw[au]),this.toolbar);
av.element.appendTo(this.element);
}},refresh:function(){this.element.children().filter(":not('."+ae+"'):first").addClass(r);
this.element.children().filter(":not('."+ae+"'):last").addClass(q);
}});
w.toolbar.ButtonGroup=i;
var am=i.extend({init:function(au,av){var at=this.element=b("<div></div>");
this.options=au;
this.toolbar=av;
this.addIdAttr();
if(au.align){at.addClass("k-align-"+au.align);
}this.createButtons(al);
this.attributes();
this.addUidAttr();
this.addOverflowAttr();
this.refresh();
at.addClass(f);
this.element.data({type:"buttonGroup",buttonGroup:this});
}});
w.toolbar.ToolBarButtonGroup=am;
var O=i.extend({init:function(au,av){var at=this.element=b("<li></li>");
this.options=au;
this.toolbar=av;
this.overflow=true;
this.addOverflowIdAttr();
this.createButtons(N);
this.attributes();
this.addUidAttr();
this.addOverflowAttr();
this.refresh();
at.addClass((au.mobile?"":f)+" k-overflow-group");
this.element.data({type:"buttonGroup",buttonGroup:this});
},overflowHidden:function(){this.element.addClass(K);
}});
w.toolbar.OverflowButtonGroup=O;
w.toolbar.registerComponent("buttonGroup",am,O);
var ap=v.extend({init:function(au,av){var at=this.element=b('<div class="'+aa+'" tabindex="0"></div>');
this.options=au;
this.toolbar=av;
this.mainButton=new al(b.extend({},au,{hidden:false}),av);
this.arrowButton=b('<a class="'+e+" "+ab+'"><span class="'+(au.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>');
this.popupElement=b('<ul class="'+A+'"></ul>');
this.mainButton.element.removeAttr("href tabindex").appendTo(at);
this.arrowButton.appendTo(at);
this.popupElement.appendTo(at);
if(au.align){at.addClass("k-align-"+au.align);
}if(!au.id){au.id=au.uid;
}at.attr("id",au.id+"_wrapper");
this.addOverflowAttr();
this.addUidAttr();
this.createMenuButtons();
this.createPopup();
this._navigatable();
this.mainButton.main=true;
this.enable(au.enable);
if(au.hidden){this.hide();
}at.data({type:"splitButton",splitButton:this,kendoPopup:this.popup});
},_navigatable:function(){var at=this;
at.popupElement.on("keydown","."+e,function(au){var av=b(au.target).parent();
au.preventDefault();
if(au.keyCode===y.ESC||au.keyCode===y.TAB||au.altKey&&au.keyCode===y.UP){at.toggle();
at.focus();
}else{if(au.keyCode===y.DOWN){n(av,"next").focus();
}else{if(au.keyCode===y.UP){n(av,"prev").focus();
}else{if(au.keyCode===y.SPACEBAR||au.keyCode===y.ENTER){at.toolbar.userEvents.trigger("tap",{target:b(au.target)});
}else{if(au.keyCode===y.HOME){av.parent().find(":kendoFocusable").first().focus();
}else{if(au.keyCode===y.END){av.parent().find(":kendoFocusable").last().focus();
}}}}}}});
},createMenuButtons:function(){var aw=this.options;
var av=aw.menuButtons;
var au;
for(var at=0;
at<av.length;
at++){au=new al(b.extend({mobile:aw.mobile,type:"button",click:aw.click},av[at]),this.toolbar);
au.element.wrap("<li></li>").parent().appendTo(this.popupElement);
}},createPopup:function(){var av=this;
var au=this.options;
var at=this.element;
this.popupElement.attr("id",au.id+C).attr(x,au.rootUid);
if(au.mobile){this.popupElement=c(this.popupElement);
}this.popup=this.popupElement.kendoPopup({appendTo:au.mobile?b(au.mobile).children(".km-pane"):null,anchor:at,isRtl:this.toolbar._isRtl,copyAnchorStyles:false,animation:au.animation,open:function(aw){var ax=av.toolbar.trigger(B,{target:at});
if(ax){aw.preventDefault();
return;
}av.adjustPopupWidth(aw.sender);
},activate:function(){this.element.find(":kendoFocusable").first().focus();
},close:function(aw){var ax=av.toolbar.trigger(l,{target:at});
if(ax){aw.preventDefault();
}at.focus();
}}).data("kendoPopup");
this.popup.element.on(k,"a.k-button",T);
},adjustPopupWidth:function(av){var at=av.options.anchor,au=D(at),aw;
w.wrap(av.element).addClass("k-split-wrapper");
if(av.element.css("box-sizing")!=="border-box"){aw=au-(D(av.element)-av.element.width());
}else{aw=au;
}av.element.css({fontFamily:at.css("font-family"),"min-width":aw});
},remove:function(){this.popup.element.off(k,"a.k-button");
this.popup.destroy();
this.element.remove();
},toggle:function(){if(this.options.enable||this.popup.visible()){this.popup.toggle();
}},enable:function(at){if(at===aq){at=true;
}this.mainButton.enable(at);
this.element.toggleClass(ad,!at);
this.options.enable=at;
},focus:function(){this.element.focus();
},hide:function(){if(this.popup){this.popup.close();
}this.element.addClass(ae).hide();
this.options.hidden=true;
},show:function(){this.element.removeClass(ae).hide();
this.options.hidden=false;
}});
w.toolbar.ToolBarSplitButton=ap;
var Q=v.extend({init:function(ax,az){var at=this.element=b('<li class="'+aa+'"></li>'),aw=ax.menuButtons,av,ay;
this.options=ax;
this.toolbar=az;
this.overflow=true;
ay=(ax.id||ax.uid)+C;
this.mainButton=new N(b.extend({},ax));
this.mainButton.element.appendTo(at);
for(var au=0;
au<aw.length;
au++){av=new N(b.extend({mobile:ax.mobile,type:"button",splitContainerId:ay},aw[au]),this.toolbar);
av.element.appendTo(at);
}this.addUidAttr();
this.addOverflowAttr();
this.mainButton.main=true;
at.data({type:"splitButton",splitButton:this});
},overflowHidden:function(){this.element.addClass(K);
}});
w.toolbar.OverflowSplitButton=Q;
w.toolbar.registerComponent("splitButton",ap,Q);
var an=v.extend({init:function(au,av){var at=this.element=b("<div>&nbsp;</div>");
this.element=at;
this.options=au;
this.toolbar=av;
this.attributes();
this.addIdAttr();
this.addUidAttr();
this.addOverflowAttr();
at.addClass(X);
at.data({type:"separator",separator:this});
}});
var P=v.extend({init:function(au,av){var at=this.element=b("<li>&nbsp;</li>");
this.element=at;
this.options=au;
this.toolbar=av;
this.overflow=true;
this.attributes();
this.addUidAttr();
this.addOverflowIdAttr();
at.addClass(X);
at.data({type:"separator",separator:this});
},overflowHidden:function(){this.element.addClass(K);
}});
w.toolbar.registerComponent("separator",an,P);
var ao=v.extend({init:function(au,av){var at=this.element=b("<div>&nbsp;</div>");
this.element=at;
this.options=au;
this.toolbar=av;
at.addClass(Z);
at.data({type:Y});
}});
w.toolbar.registerComponent(Y,ao);
var af=v.extend({init:function(av,au,aw){var at=u(av)?av(au):av;
if(!(at instanceof jQuery)){at=b("<div></div>").html(at);
}else{at=at.wrap("<div></div>").parent();
}this.element=at;
this.options=au;
this.options.type="template";
this.toolbar=aw;
this.attributes();
this.addUidAttr();
this.addIdAttr();
this.addOverflowAttr();
at.data({type:"template",template:this});
}});
w.toolbar.TemplateItem=af;
var R=v.extend({init:function(av,au,aw){var at=u(av)?b(av(au)):b(av);
if(!(at instanceof jQuery)){at=b("<li></li>").html(at);
}else{at=at.wrap("<li></li>").parent();
}this.element=at;
this.options=au;
this.options.type="template";
this.toolbar=aw;
this.overflow=true;
this.attributes();
this.addUidAttr();
this.addOverflowIdAttr();
this.addOverflowAttr();
at.data({type:"template",template:this});
},overflowHidden:function(){this.element.addClass(K);
}});
w.toolbar.OverflowTemplateItem=R;
function ai(at){if(!at.target.is(".k-toggle-button")){at.target.toggleClass(ac,at.type=="press");
}}function c(at){at=b(at);
return at.hasClass("km-actionsheet")?at.closest(".km-popup-wrapper"):at.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent();
}function T(at){if(b(at.target).closest("a.k-button").length){at.preventDefault();
}}function n(av,au){var aw=au==="next"?b.fn.next:b.fn.prev;
var ax=au==="next"?b.fn.first:b.fn.last;
var at=aw.call(av);
if(!at.length&&av.is("."+F)){return av;
}if(at.is(":kendoFocusable")||!at.length){return at;
}if(at.find(":kendoFocusable").length){return ax.call(at.find(":kendoFocusable"));
}return n(at,au);
}var p=j.extend({init:function(at){this.name=at;
this.buttons=[];
},add:function(at){this.buttons[this.buttons.length]=at;
},remove:function(at){var au=b.inArray(at,this.buttons);
this.buttons.splice(au,1);
},select:function(at){var av;
for(var au=0;
au<this.buttons.length;
au++){av=this.buttons[au];
av.select(false);
}at.select(true);
if(at.twin()){at.twin().select(true);
}}});
var aj=ar.extend({init:function(at,av){var aw=this;
ar.fn.init.call(aw,at,av);
av=aw.options;
at=aw.wrapper=aw.element;
at.addClass(ak+" k-widget");
this.uid=w.guid();
this._isRtl=w.support.isRtl(at);
this._groups={};
at.attr(x,this.uid);
aw.isMobile=typeof av.mobile==="boolean"?av.mobile:aw.element.closest(".km-root")[0];
aw.animation=aw.isMobile?{open:{effects:"fade"}}:{};
if(aw.isMobile){at.addClass("km-widget");
s="km-icon";
t="km-";
e="km-button";
f="km-buttongroup";
ac="km-state-active";
ad="km-state-disabled";
}if(av.resizable){aw._renderOverflow();
at.addClass(W);
aw.overflowUserEvents=new w.UserEvents(aw.element,{threshold:5,allowSelection:true,filter:"."+F,tap:V(aw._toggleOverflow,aw)});
aw._resizeHandler=w.onResize(function(){aw.resize();
});
}else{aw.popup={element:b([])};
}if(av.items&&av.items.length){for(var au=0;
au<av.items.length;
au++){aw.add(av.items[au]);
}if(av.resizable){aw._shrink(aw.element.innerWidth());
}}aw.userEvents=new w.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+x+"="+this.uid+"] a."+e+", ["+x+"="+this.uid+"] ."+H,tap:V(aw._buttonClick,aw),press:ai,release:ai});
aw.element.on(k,"a.k-button",T);
aw._navigatable();
if(av.resizable){aw.popup.element.on(k,+"a.k-button",T);
}if(av.resizable){this._toggleOverflowAnchor();
}w.notify(aw);
},events:[k,ag,B,l,M,I],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(at,av){var au;
if(!this._groups[av]){au=this._groups[av]=new p();
}else{au=this._groups[av];
}au.add(at);
return au;
},destroy:function(){var at=this;
at.element.find("."+aa).each(function(av,au){b(au).data("kendoPopup").destroy();
});
at.element.off(k,"a.k-button");
at.userEvents.destroy();
if(at.options.resizable){w.unbindResize(at._resizeHandler);
at.overflowUserEvents.destroy();
at.popup.element.off(k,"a.k-button");
at.popup.destroy();
}ar.fn.destroy.call(at);
},add:function(aw){var at=m[aw.type],az=aw.template,aB,aA=this,av=aA.isMobile?"":"k-item k-state-default",ax=aw.overflowTemplate,ay;
b.extend(aw,{uid:w.guid(),animation:aA.animation,mobile:aA.isMobile,rootUid:aA.uid});
if(aw.menuButtons){for(var au=0;
au<aw.menuButtons.length;
au++){b.extend(aw.menuButtons[au],{uid:w.guid()});
}}if(az&&!ax||aw.type===Y){aw.overflow=L;
}else{if(!aw.overflow){aw.overflow=G;
}}if(aw.overflow!==L&&aA.options.resizable){if(ax){ay=new R(ax,aw,aA);
}else{if(at){ay=new at.overflow(aw,aA);
ay.element.addClass(av);
}}if(ay){if(aw.overflow===G){ay.overflowHidden();
}ay.element.appendTo(aA.popup.container);
aA.angular("compile",function(){return{elements:ay.element.get()};
});
}}if(aw.overflow!==E){if(az){aB=new af(az,aw,aA);
}else{if(at){aB=new at.toolbar(aw,aA);
}}if(aB){aB.element.appendTo(aA.element);
aA.angular("compile",function(){return{elements:aB.element.get()};
});
}}},_getItem:function(at){var au,ax,aw,av=this.options.resizable,ay;
au=this.element.find(at);
if(!au.length){au=b(".k-split-container[data-uid="+this.uid+"]").find(at);
}ay=au.length?au.data("type"):"";
ax=au.data(ay);
if(ax){if(ax.main){au=au.parent("."+aa);
ay="splitButton";
ax=au.data(ay);
}if(av){aw=ax.twin();
}}else{if(av){au=this.popup.element.find(at);
ay=au.length?au.data("type"):"";
aw=au.data(ay);
if(aw&&aw.main){au=au.parent("."+aa);
ay="splitButton";
aw=au.data(ay);
}}}return{type:ay,toolbar:ax,overflow:aw};
},remove:function(at){var au=this._getItem(at);
if(au.toolbar){au.toolbar.remove();
}if(au.overflow){au.overflow.remove();
}this.resize(true);
},hide:function(au){var av=this._getItem(au);
var at;
if(av.toolbar){if(av.toolbar.options.type==="button"&&av.toolbar.options.isChild){at=av.toolbar.getParentGroup();
av.toolbar.hide();
if(at){at.refresh();
}}else{if(!av.toolbar.options.hidden){av.toolbar.hide();
}}}if(av.overflow){if(av.overflow.options.type==="button"&&av.overflow.options.isChild){at=av.overflow.getParentGroup();
av.overflow.hide();
if(at){at.refresh();
}}else{if(!av.overflow.options.hidden){av.overflow.hide();
}}}this.resize(true);
},show:function(at){var au=this._getItem(at);
if(au.toolbar){if(au.toolbar.options.type==="button"&&au.toolbar.options.isChild){au.toolbar.show();
au.toolbar.getParentGroup().refresh();
}else{if(au.toolbar.options.hidden){au.toolbar.show();
}}}if(au.overflow){if(au.overflow.options.type==="button"&&au.overflow.options.isChild){au.toolbar.show();
au.overflow.getParentGroup().refresh();
}else{if(au.overflow.options.hidden){au.overflow.show();
}}}this.resize(true);
},enable:function(at,au){var av=this._getItem(at);
if(typeof au=="undefined"){au=true;
}if(av.toolbar){av.toolbar.enable(au);
}if(av.overflow){av.overflow.enable(au);
}},getSelectedFromGroup:function(at){return this.element.find("."+ah+"[data-group='"+at+"']").filter("."+ac);
},toggle:function(at,au){var av=b(at),aw=av.data("button");
if(aw.options.togglable){if(au===aq){au=true;
}aw.toggle(au,true);
}},_renderOverflow:function(){var aw=this,av=m.overflowContainer,au=aw._isRtl,at=au?"left":"right";
aw.overflowAnchor=b(m.overflowAnchor).addClass(e);
aw.element.append(aw.overflowAnchor);
if(aw.isMobile){aw.overflowAnchor.append('<span class="km-icon km-more"></span>');
av=c(av);
}else{aw.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');
}aw.popup=new w.ui.Popup(av,{origin:"bottom "+at,position:"top "+at,anchor:aw.overflowAnchor,isRtl:au,animation:aw.animation,appendTo:aw.isMobile?b(aw.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(ax){var ay=w.wrap(aw.popup.element).addClass("k-overflow-wrapper");
if(!aw.isMobile){ay.css("margin-left",(au?-1:1)*((D(ay)-ay.width())/2+1));
}else{aw.popup.container.css("max-height",parseFloat(b(".km-content:visible").innerHeight())-15+"px");
}if(aw.trigger(M)){ax.preventDefault();
}},activate:function(){this.element.find(":kendoFocusable").first().focus();
},close:function(ax){if(aw.trigger(I)){ax.preventDefault();
}this.element.focus();
}});
aw.popup.element.on("keydown","."+e,function(ax){var aB=b(ax.target),aA=aB.parent(),az=aA.is("."+f)||aA.is("."+aa),ay;
ax.preventDefault();
if(ax.keyCode===y.ESC||ax.keyCode===y.TAB||ax.altKey&&ax.keyCode===y.UP){aw._toggleOverflow();
aw.overflowAnchor.focus();
}else{if(ax.keyCode===y.DOWN){ay=!az||az&&aB.is(":last-child")?aA:aB;
n(ay,"next").focus();
}else{if(ax.keyCode===y.UP){ay=!az||az&&aB.is(":first-child")?aA:aB;
n(ay,"prev").focus();
}else{if(ax.keyCode===y.SPACEBAR||ax.keyCode===y.ENTER){aw.userEvents.trigger("tap",{target:b(ax.target)});
aw.overflowAnchor.focus();
}else{if(ax.keyCode===y.HOME){aA.parent().find(":kendoFocusable").first().focus();
}else{if(ax.keyCode===y.END){aA.parent().find(":kendoFocusable").last().focus();
}}}}}}});
if(aw.isMobile){aw.popup.container=aw.popup.element.find("."+J);
}else{aw.popup.container=aw.popup.element;
}aw.popup.container.attr(x,this.uid);
},_toggleOverflowAnchor:function(){var at=false;
var au=this._isRtl?"padding-left":"padding-right";
if(this.options.mobile){at=this.popup.element.find("."+J).children(":not(."+K+", ."+S+")").length>0;
}else{at=this.popup.element.children(":not(."+K+", ."+S+")").length>0;
}if(at){this.overflowAnchor.css({visibility:"visible",width:""});
this.wrapper.css(au,this.overflowAnchor.outerWidth(true));
}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"});
this.wrapper.css(au,"");
}},_buttonClick:function(at){var aB=this,ay,aA,ax,az,aw=at.target.closest("."+ab).length,av,au,aC;
at.preventDefault();
if(aw){aB._toggle(at);
return;
}aA=b(at.target).closest("."+e,aB.element);
if(aA.hasClass(F)){return;
}ax=aA.data("button");
if(!ax&&aB.popup){aA=b(at.target).closest("."+H,aB.popup.container);
ax=aA.parent("li").data("button");
}if(!ax||!ax.options.enable){return;
}if(ax.options.togglable){av=u(ax.toggleHandler)?ax.toggleHandler:null;
ax.toggle(!ax.options.selected,true);
au={target:aA,group:ax.options.group,checked:ax.options.selected,id:ax.options.id,item:ax};
if(av){av.call(aB,au);
}aB.trigger(ag,au);
}else{av=u(ax.clickHandler)?ax.clickHandler:null;
au={sender:aB,target:aA,id:ax.options.id,item:ax};
if(av){av.call(aB,au);
}aB.trigger(k,au);
}if(ax.options.url){if(ax.options.attributes&&ax.options.attributes.target){aC=ax.options.attributes.target;
}window.open(ax.options.url,aC||"_self");
}if(aA.hasClass(H)){aB.popup.close();
}az=aA.closest(".k-split-container");
if(az[0]){ay=az.data("kendoPopup");
(ay?ay:az.parents(".km-popup-wrapper").data("kendoPopup")).close();
}},_navigatable:function(){var at=this;
at.element.attr("tabindex",0).on("focusin",function(av){var aw=b(av.target);
var au=b(this).find(":kendoFocusable:first");
if(!aw.is("."+ak)||au.length===0){return;
}if(au.is("."+F)){au=n(au,"next");
}if(au.length){au[0].focus();
}}).on("keydown",V(at._keydown,at));
},_keydown:function(au){var aG=b(au.target),aB=au.keyCode,aA=this.element.children(":not(.k-separator):visible"),at=this._isRtl?-1:1;
if(aB===y.TAB){var av=aG.parentsUntil(this.element).last(),aC=false,aw=false,ay=false;
if(!aA.not("."+F).length){ay=true;
}if(!av.length){av=aG;
}if(av.is("."+F)&&!ay){var aD=aA.last();
if(au.shiftKey){au.preventDefault();
}if(aD.is(":kendoFocusable")){aA.last().focus();
}else{aA.last().find(":kendoFocusable").last().focus();
}}if(!au.shiftKey&&aA.index(av)===aA.length-1){if(av.is("."+f)){aC=aG.is(":last-child");
}else{aC=true;
}}var ax=aA.index(av)===aA.not(".k-overflow-anchor").first().index();
if(au.shiftKey&&ax){if(av.is("."+f)){aw=aG.is(":first-child");
}else{aw=true;
}}if(aC&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"&&!ay){au.preventDefault();
this.overflowAnchor.focus();
}if(aw||ay&&au.shiftKey){au.preventDefault();
var aE=this._getPrevFocusable(this.wrapper);
if(aE){aE.focus();
}}this._preventNextFocus=false;
}if(au.altKey&&aB===y.DOWN){var aF=b(document.activeElement).data("splitButton");
var az=b(document.activeElement).is("."+F);
if(aF){aF.toggle();
}else{if(az){this._toggleOverflow();
}}return;
}if((aB===y.SPACEBAR||aB===y.ENTER)&&!aG.is("input, checkbox")){if(aB===y.SPACEBAR){au.preventDefault();
}if(aG.is("."+aa)){aG=aG.children().first();
this.userEvents.trigger("tap",{target:aG});
}else{if(aB===y.SPACEBAR){this.userEvents.trigger("tap",{target:aG});
}}return;
}if(aB===y.HOME){if(aG.is(".k-dropdown")||aG.is("input")){return;
}if(this.overflowAnchor){aA.eq(1).focus();
}else{aA.first().focus();
}au.preventDefault();
}else{if(aB===y.END){if(aG.is(".k-dropdown")||aG.is("input")){return;
}if(this.overflowAnchor&&b(this.overflowAnchor).css("visibility")!="hidden"){this.overflowAnchor.focus();
}else{aA.last().focus();
}au.preventDefault();
}else{if(aB===y.RIGHT&&!this._preventNextFocus&&!aG.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(au.target,1*at)){this._getNextElement(au.target,1*at).focus();
au.preventDefault();
}else{if(aB===y.LEFT&&!this._preventNextFocus&&!aG.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(au.target,-1*at)){this._getNextElement(au.target,-1*at).focus();
au.preventDefault();
}}}}},_getNextElement:function(ax,at){var az=this.element.children(":not(.k-separator):visible");
var ay=az.index(ax)===-1?az.index(ax.parentElement):az.index(ax);
var aB=this.overflowAnchor?1:0;
var au=at;
var aA=at===1?az.length-1:aB;
var aw=at===1?aB:az.length-1;
var av=az[ay+at];
this._preventNextFocus=false;
if(b(ax).closest("."+f).length&&!b(ax).is(at===1?":last-child":":first-child")){return b(ax).closest("."+f).children()[b(ax).closest("."+f).children().index(ax)+at];
}if(this.overflowAnchor&&ax===this.overflowAnchor[0]&&at===-1){av=az[az.length-1];
}if(ay===aA){av=!this.overflowAnchor||this.overflowAnchor&&b(this.overflowAnchor).css("visibility")==="hidden"?az[aw]:this.overflowAnchor;
}while(!b(av).is(":kendoFocusable")){if(at===-1&&b(av).closest("."+f).length){av=b(av).children(":not(label, div)").last();
}else{av=b(av).children(":not(label, div)").first();
}if(!av.length){au=au+at;
av=az[ay+au];
if(!av){return this.overflowAnchor;
}}this._preventNextFocus=b(av).closest("."+f).length?false:true;
}return av;
},_getPrevFocusable:function(at){if(at.is("html")){return at;
}var au,av,aw=at.prevAll();
aw.each(function(){av=b(this);
if(av.is(":kendoFocusable")){au=av;
return false;
}else{if(av.find(":kendoFocusable").length>0){au=av.find(":kendoFocusable").last();
return false;
}}});
if(au){return au;
}else{return this._getPrevFocusable(at.parent());
}},_toggle:function(at){var au=b(at.target).closest("."+aa).data("splitButton");
at.preventDefault();
if(!au.options.enable){return;
}au.toggle();
},_toggleOverflow:function(){this.popup.toggle();
},_resize:function(au){var at=au.width;
if(!this.options.resizable){return;
}this.popup.close();
this._shrink(at);
this._stretch(at);
this._markVisibles();
this._toggleOverflowAnchor();
},_childrenWidth:function(){var at=0;
this.element.children(":visible:not(."+ae+", ."+Z+")").each(function(){at+=D(b(this),true);
});
return Math.ceil(at);
},_shrink:function(au){var at,aw;
if(au<this._childrenWidth()){aw=this.element.children(":visible:not([data-overflow='never'], ."+F+")");
for(var av=aw.length-1;
av>=0;
av--){at=aw.eq(av);
if(au>this._childrenWidth()){break;
}else{this._hideItem(at);
}}}},_stretch:function(au){var at,av;
if(au>this._childrenWidth()){av=this.element.children(":hidden:not('."+ae+"')");
for(var aw=0;
aw<av.length;
aw++){at=av.eq(aw);
if(au<this._childrenWidth()||!this._showItem(at,au)){break;
}}}},_hideItem:function(at){at.hide();
if(this.popup){this.popup.container.find(">li[data-uid='"+at.data("uid")+"']").removeClass(K);
}},_showItem:function(au,at){if(au.length&&at>this._childrenWidth()+D(au,true)){au.show();
if(this.popup){this.popup.container.find(">li[data-uid='"+au.data("uid")+"']").addClass(K);
}return true;
}return false;
},_markVisibles:function(){var at=this.popup.container.children(),au=this.element.children(":not(.k-overflow-anchor)"),av=at.filter(":not(.k-overflow-hidden)"),aw=au.filter(":visible");
at.add(au).removeClass(o+" "+z);
av.first().add(aw.first()).addClass(o);
av.last().add(aw.last()).addClass(z);
}});
w.ui.plugin(aj);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
