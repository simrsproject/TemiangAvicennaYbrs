(function(b,a){a("util/text-metrics",["kendo.core"],b);
}(function(){(function(a){window.kendo.util=window.kendo.util||{};
var e=kendo.Class.extend({init:function(m){this._size=m;
this._length=0;
this._map={};
},put:function(n,p){var o=this._map;
var m={key:n,value:p};
o[n]=m;
if(!this._head){this._head=this._tail=m;
}else{this._tail.newer=m;
m.older=this._tail;
this._tail=m;
}if(this._length>=this._size){o[this._head.key]=null;
this._head=this._head.newer;
this._head.older=null;
}else{this._length++;
}},get:function(n){var m=this._map[n];
if(m){if(m===this._head&&m!==this._tail){this._head=m.newer;
this._head.older=null;
}if(m!==this._tail){if(m.older){m.older.newer=m.newer;
m.newer.older=m.older;
}m.older=this._tail;
m.newer=null;
this._tail.newer=m;
this._tail=m;
}return m.value;
}}});
var i=/\r?\n|\r|\t/g;
var j=" ";
function g(m){return String(m).replace(i,j);
}function h(n){var o=[];
for(var m in n){o.push(m+n[m]);
}return o.sort().join("");
}function d(o){var m=2166136261;
for(var n=0;
n<o.length;
++n){m+=(m<<1)+(m<<4)+(m<<7)+(m<<8)+(m<<24);
m^=o.charCodeAt(n);
}return m>>>0;
}function l(){return{width:0,height:0,baseline:0};
}var b={baselineMarkerSize:1};
var c;
if(typeof document!=="undefined"){c=document.createElement("div");
c.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;";
}var k=kendo.Class.extend({init:function(m){this._cache=new e(1000);
this.options=a.extend({},b,m);
},measure:function(v,t,r){if(r===void 0){r={};
}if(!v){return l();
}var u=h(t);
var o=d(v+u);
var n=this._cache.get(o);
if(n){return n;
}var s=l();
var q=r.box||c;
var m=this._baselineMarker().cloneNode(false);
for(var p in t){var x=t[p];
if(typeof x!=="undefined"){q.style[p]=x;
}}var w=r.normalizeText!==false?g(v):String(v);
q.textContent=w;
q.appendChild(m);
document.body.appendChild(q);
if(w.length){s.width=q.offsetWidth-this.options.baselineMarkerSize;
s.height=q.offsetHeight;
s.baseline=m.offsetTop+this.options.baselineMarkerSize;
}if(s.width>0&&s.height>0){this._cache.put(o,s);
}q.parentNode.removeChild(q);
return s;
},_baselineMarker:function(){var m=document.createElement("div");
m.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;";
return m;
}});
k.current=new k();
function f(o,n,m){return k.current.measure(o,n,m);
}kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:k,measureText:f,objectKey:h,hashKey:d,normalizeText:g});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("util/main",["kendo.core"],b);
}(function(){(function(){var d=window.kendo,b=d.deepExtend;
function k(m){return m*m;
}var f=Date.now;
if(!f){f=function(){return new Date().getTime();
};
}function h(m){if(typeof m!=="string"){m+="px";
}return m;
}function g(o){var p=[];
if(o){var n=d.toHyphens(o).split("-");
for(var m=0;
m<n.length;
m++){p.push("k-pos-"+n[m]);
}}return p.join(" ");
}function a(o){var m={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};
var q=[1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];
var p="";
while(o>0){if(o<q[0]){q.shift();
}else{p+=m[q[0]];
o-=q[0];
}}return p;
}function i(p){p=p.toLowerCase();
var m={i:1,v:5,x:10,l:50,c:100,d:500,m:1000};
var s=0,o=0;
for(var n=0;
n<p.length;
++n){var q=m[p.charAt(n)];
if(!q){return null;
}s+=q;
if(q>o){s-=2*o;
}o=q;
}return s;
}function e(n){var m=Object.create(null);
return function(){var p="";
for(var o=arguments.length;
--o>=0;
){p+=":"+arguments[o];
}return p in m?m[p]:m[p]=n.apply(this,arguments);
};
}function c(m){return j.test(m);
}function l(n,o){try{return n.call(o,function(q){throw new p(q);
});
}catch(m){if(m instanceof p){return m.value;
}throw m;
}function p(q){this.value=q;
}}b(d,{util:{now:f,renderPos:g,renderSize:h,sqr:k,romanToArabic:i,arabicToRoman:a,memoize:e,isUnicodeLetter:c,withExit:l}});
var j=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
}());
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/location",["kendo.drawing","util/main"],b);
}(function(){(function(a,v){var n=Math,b=n.abs,c=n.atan,d=n.atan2,f=n.cos,o=n.max,p=n.min,s=n.sin,u=n.tan,l=window.kendo,e=l.Class,g=l.dataviz,h=l.deepExtend,w=l.drawing.util,i=w.defined,j=w.deg,q=w.rad,r=w.round,x=w.valueOrDefault,t=l.util.sqr;
var m=e.extend({init:function(y,z){if(arguments.length===1){this.lat=y[0];
this.lng=y[1];
}else{this.lat=y;
this.lng=z;
}},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng];
},equals:function(y){return y&&y.lat===this.lat&&y.lng===this.lng;
},clone:function(){return new m(this.lat,this.lng);
},round:function(y){this.lng=r(this.lng,y);
this.lat=r(this.lat,y);
return this;
},wrap:function(){this.lng=this.lng%180;
this.lat=this.lat%90;
return this;
},distanceTo:function(z,y){return this.greatCircleTo(z,y).distance;
},destination:function(A,y,z){y=q(y);
z=z||g.map.datums.WGS84;
var C=q(this.lat);
var D=q(this.lng);
var B=A/l.dataviz.map.datums.WGS84.a;
var E=n.asin(s(C)*f(B)+f(C)*s(B)*f(y));
var F=D+d(s(y)*s(B)*f(C),f(B)-s(C)*s(E));
return new m(j(E),j(F));
},greatCircleTo:function(S,Q){S=m.create(S);
Q=Q||g.map.datums.WGS84;
if(!S||this.clone().round(8).equals(S.clone().round(8))){return{distance:0,azimuthFrom:0,azimuthTo:0};
}var y=Q.a;
var F=Q.b;
var T=Q.f;
var V=q(S.lng-this.lng);
var ae=c((1-T)*u(q(this.lat)));
var ac=s(ae);
var O=f(ae);
var ag=c((1-T)*u(q(S.lat)));
var ad=s(ag);
var P=f(ag);
var W=V;
var X;
var U=this.DISTANCE_ITERATIONS;
var I=false;
var aa;
var M;
var ab;
var K;
var N;
var J;
var Y;
while(!I&&U-->0){aa=s(W);
M=f(W);
ab=n.sqrt(t(P*aa)+t(O*ad-ac*P*M));
N=ac*ad+O*P*M;
Y=d(ab,N);
var Z=O*P*aa/ab;
K=1-t(Z);
J=0;
if(K!==0){J=N-2*ac*ad/K;
}X=W;
var H=T/16*K*(4+T*(4-3*K));
W=V+(1-H)*T*Z*(Y+H*ab*(J+H*N*(-1+2*t(J))));
I=b(W-X)<=this.DISTANCE_CONVERGENCE;
}var af=K*(t(y)-t(F))/t(F);
var z=1+af/16384*(4096+af*(-768+af*(320-175*af)));
var G=af/1024*(256+af*(-128+af*(74-47*af)));
var R=G*ab*(J+G/4*(N*(-1+2*t(J))-G/6*J*(-3+4*t(ab))*(-3+4*t(J))));
var D=d(P*aa,O*ad-ac*P*M);
var E=d(O*aa,-ac*P+O*ad*M);
return{distance:r(F*z*(Y-R),this.DISTANCE_PRECISION),azimuthFrom:j(D),azimuthTo:j(E)};
}});
m.fn.toString=function(){return l.format(this.FORMAT,this.lat,this.lng);
};
m.fromLngLat=function(y){return new m(y[1],y[0]);
};
m.fromLatLng=function(y){return new m(y[0],y[1]);
};
m.create=function(y,z){if(i(y)){if(y instanceof m){return y.clone();
}else{if(arguments.length===1&&y.length===2){return m.fromLatLng(y);
}else{return new m(y,z);
}}}};
var k=e.extend({init:function(y,z){y=m.create(y);
z=m.create(z);
if(y.lng+180>z.lng+180&&y.lat+90<z.lat+90){this.se=y;
this.nw=z;
}else{this.se=z;
this.nw=y;
}},contains:function(A){var B=this.nw,C=this.se,z=x(A.lng,A[1]),y=x(A.lat,A[0]);
return A&&z+180>=B.lng+180&&z+180<=C.lng+180&&y+90>=C.lat+90&&y+90<=B.lat+90;
},center:function(){var A=this.nw;
var B=this.se;
var z=A.lng+(B.lng-A.lng)/2;
var y=A.lat+(B.lat-A.lat)/2;
return new m(y,z);
},containsAny:function(z){var A=false;
for(var y=0;
y<z.length;
y++){A=A||this.contains(z[y]);
}return A;
},include:function(A){var B=this.nw,C=this.se,z=x(A.lng,A[1]),y=x(A.lat,A[0]);
B.lng=p(B.lng,z);
B.lat=o(B.lat,y);
C.lng=o(C.lng,z);
C.lat=p(C.lat,y);
},includeAll:function(z){for(var y=0;
y<z.length;
y++){this.include(z[y]);
}},edges:function(){var y=this.nw,z=this.se;
return{nw:this.nw,ne:new m(y.lat,z.lng),se:this.se,sw:new m(z.lat,y.lng)};
},toArray:function(){var y=this.nw,z=this.se;
return[y,new m(y.lat,z.lng),z,new m(z.lat,y.lng)];
},overlaps:function(y){return this.containsAny(y.toArray())||y.containsAny(this.toArray());
}});
k.World=new k([90,-180],[-90,180]);
k.create=function(y,z){if(y instanceof k){return y;
}else{if(y&&z){return new k(y,z);
}else{if(y&&y.length===4&&!z){return new k([y[0],y[1]],[y[2],y[3]]);
}}}};
h(g,{map:{Extent:k,Location:m}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/attribution",["kendo.drawing"],b);
}(function(){(function(){var c=window.kendo,g=c.ui.Widget,d=c.template,e=c.drawing.util,f=e.valueOrDefault,b=e.defined;
var a=g.extend({init:function(h,i){g.fn.init.call(this,h,i);
this._initOptions(i);
this.items=[];
this.element.addClass("k-widget k-attribution");
},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(h,i){this._extent=h;
this._zoom=i;
this._render();
},add:function(h){if(b(h)){if(typeof h==="string"){h={text:h};
}this.items.push(h);
this._render();
}},remove:function(l){var k=[];
for(var h=0;
h<this.items.length;
h++){var j=this.items[h];
if(j.text!==l){k.push(j);
}}this.items=k;
this._render();
},clear:function(){this.items=[];
this.element.empty();
},_render:function(){var l=[];
var k=d(this.options.itemTemplate);
for(var h=0;
h<this.items.length;
h++){var j=this.items[h];
var m=this._itemText(j);
if(m!==""){l.push(k({text:m}));
}}if(l.length>0){this.element.empty().append(l.join(this.options.separator)).show();
}else{this.element.hide();
}},_itemText:function(j){var k="";
var i=this._inZoomLevel(j.minZoom,j.maxZoom);
var h=this._inArea(j.extent);
if(i&&h){k+=j.text;
}return k;
},_inZoomLevel:function(i,h){var j=true;
i=f(i,-Number.MAX_VALUE);
h=f(h,Number.MAX_VALUE);
j=this._zoom>i&&this._zoom<h;
return j;
},_inArea:function(h){var i=true;
if(h){i=h.contains(this._extent);
}return i;
}});
c.dataviz.ui.plugin(a);
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/navigator",["kendo.core"],b);
}(function(){(function(a){var d=window.kendo;
var i=d.ui.Widget;
var e=d.keys;
var h=a.proxy;
var g=".kendoNavigator";
function b(j){return d.format('<button class="k-button k-navigator-{0}" aria-label="move {0}"><span class="k-icon k-i-arrow-60-{0}"/></button>',j);
}var c=b("up")+b("right")+b("down")+b("left");
var f=i.extend({init:function(j,k){i.fn.init.call(this,j,k);
this._initOptions(k);
this.element.addClass("k-widget k-header k-shadow k-navigator").append(c).on("click"+g,".k-button",h(this,"_click"));
var l=this.element.parent().closest("["+d.attr("role")+"]");
this._keyroot=l.length>0?l:this.element;
this._tabindex(this._keyroot);
this._keydown=h(this._keydown,this);
this._keyroot.on("keydown",this._keydown);
},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown);
},_pan:function(k,l){var j=this.options.panStep;
this.trigger("pan",{x:k*j,y:l*j});
},_click:function(k){var l=0;
var m=0;
var j=a(k.currentTarget);
if(j.is(".k-navigator-up")){m=1;
}else{if(j.is(".k-navigator-down")){m=-1;
}else{if(j.is(".k-navigator-right")){l=1;
}else{if(j.is(".k-navigator-left")){l=-1;
}}}}this._pan(l,m);
k.preventDefault();
},_keydown:function(j){switch(j.which){case e.UP:this._pan(0,1);
j.preventDefault();
break;
case e.DOWN:this._pan(0,-1);
j.preventDefault();
break;
case e.RIGHT:this._pan(1,0);
j.preventDefault();
break;
case e.LEFT:this._pan(-1,0);
j.preventDefault();
break;
}}});
d.dataviz.ui.plugin(f);
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/zoom",["kendo.core"],b);
}(function(){(function(a){var f=window.kendo;
var l=f.ui.Widget;
var g=f.keys;
var k=a.proxy;
function b(n,o){return f.format('<button class="k-button k-zoom-{0}" title="zoom-{0}" aria-label="zoom-{0}"><span class="k-icon {1}"></span></button>',n,o);
}var i=".kendoZoomControl";
var c=b("in","k-i-plus")+b("out","k-i-minus");
var j=187;
var h=189;
var e=61;
var d=173;
var m=l.extend({init:function(n,o){l.fn.init.call(this,n,o);
this._initOptions(o);
this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal k-button-group k-group-horizontal").append(c).on("click"+i,".k-button",k(this,"_click"));
var p=this.element.parent().closest("["+f.attr("role")+"]");
this._keyroot=p.length>0?p:this.element;
this._tabindex(this._keyroot);
this._keydown=k(this._keydown,this);
this._keyroot.on("keydown",this._keydown);
},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(n){var o=this.options.zoomStep;
this.trigger("change",{delta:n*o});
},_click:function(p){var n=a(p.currentTarget);
var o=1;
if(n.is(".k-zoom-out")){o=-1;
}this._change(o);
p.preventDefault();
},_keydown:function(n){switch(n.which){case g.NUMPAD_PLUS:case j:case e:this._change(1);
break;
case g.NUMPAD_MINUS:case h:case d:this._change(-1);
break;
}}});
f.dataviz.ui.plugin(m);
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/crs",["dataviz/map/location","kendo.drawing"],b);
}(function(){(function(a,E){var t=Math,b=t.atan,m=t.exp,z=t.pow,B=t.sin,r=t.log,D=t.tan,o=window.kendo,c=o.Class,d=o.dataviz,e=o.deepExtend,n=o.geometry,y=n.Point,s=d.map,q=s.Location,F=o.drawing.util,A=F.rad,f=F.deg,p=F.limitValue;
var v=t.PI,w=v/2,x=v/4,h=v/180;
var G={a:6378137,b:6356752.314245179,f:0.003352810664747481,e:0.08181919084262149};
var u=c.extend({init:function(g){this._initOptions(g);
},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:G},forward:function(L,g){var N=this,M=N.options,H=M.datum,O=H.a,K=M.centralMeridian,I=p(L.lat,-N.MAX_LAT,N.MAX_LAT),J=g?p(L.lng,-N.MAX_LNG,N.MAX_LNG):L.lng,P=A(J-K)*O,Q=N._projectLat(I);
return new y(P,Q);
},_projectLat:function(J){var H=this.options.datum,I=H.e,L=H.a,N=A(J),M=D(x+N/2),g=I*B(N),K=z((1-g)/(1+g),I/2);
return L*r(M*K);
},inverse:function(M,g){var N=this,L=N.options,H=L.datum,O=H.a,K=L.centralMeridian,J=M.x/(h*O)+K,I=p(N._inverseY(M.y),-N.MAX_LAT,N.MAX_LAT);
if(g){J=p(J,-N.MAX_LNG,N.MAX_LNG);
}return new q(I,J);
},_inverseY:function(R){var O=this,H=O.options.datum,P=H.a,J=H.e,K=J/2,Q=m(-R/P),N=w-2*b(Q),L;
for(L=0;
L<=O.INVERSE_ITERATIONS;
L++){var g=J*B(N),M=z((1-g)/(1+g),K),I=w-2*b(Q*M)-N;
N+=I;
if(t.abs(I)<=O.INVERSE_CONVERGENCE){break;
}}return f(N);
}});
var C=u.extend({MAX_LAT:85.0511287798,_projectLat:function(g){var H=this.options.datum.a,J=A(g),I=D(x+J/2);
return H*r(I);
},_inverseY:function(I){var g=this.options.datum.a,H=m(-I/g);
return f(w-2*b(H));
}});
var l=c.extend({forward:function(g){return new y(g.lng,g.lat);
},inverse:function(g){return new q(g.y,g.x);
}});
var j=c.extend({init:function(){var H=this,I=H._proj=new C();
var g=this.c=2*v*I.options.datum.a;
this._tm=n.transform().translate(0.5,0.5).scale(1/g,-1/g);
this._itm=n.transform().scale(g,-g).translate(-0.5,-0.5);
},toPoint:function(H,J,g){var I=this._proj.forward(H,g);
return I.transform(this._tm).scale(J||1);
},toLocation:function(H,I,g){H=H.clone().scale(1/(I||1)).transform(this._itm);
return this._proj.inverse(H,g);
}});
var i=c.extend({init:function(){this._proj=new u();
},toPoint:function(g){return this._proj.forward(g);
},toLocation:function(g){return this._proj.inverse(g);
}});
var k=c.extend({init:function(){this._proj=new l();
},toPoint:function(g){return this._proj.forward(g);
},toLocation:function(g){return this._proj.inverse(g);
}});
e(d,{map:{crs:{EPSG3395:i,EPSG3857:j,EPSG4326:k},datums:{WGS84:G},projections:{Equirectangular:l,Mercator:u,SphericalMercator:C}}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/base",["kendo.core","dataviz/map/location"],b);
}(function(){(function(a,j){var i=a.proxy,g=window.kendo,b=g.Class,c=g.dataviz,d=g.deepExtend,f=c.map.Extent,k=g.drawing.util,e=k.defined;
var h=b.extend({init:function(l,m){this._initOptions(m);
this.map=l;
this.element=a("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(l.scrollElement);
this._beforeReset=i(this._beforeReset,this);
this._reset=i(this._reset,this);
this._resize=i(this._resize,this);
this._panEnd=i(this._panEnd,this);
this._activate();
this._updateAttribution();
},destroy:function(){this._deactivate();
},show:function(){this.reset();
this._activate();
this._applyExtent(true);
},hide:function(){this._deactivate();
this._setVisibility(false);
},reset:function(){this._beforeReset();
this._reset();
},_reset:function(){this._applyExtent();
},_beforeReset:a.noop,_resize:a.noop,_panEnd:function(){this._applyExtent();
},_applyExtent:function(){var p=this.options;
var q=this.map.zoom();
var o=!e(p.minZoom)||q>=p.minZoom;
var n=!e(p.maxZoom)||q<=p.maxZoom;
var l=f.create(p.extent);
var m=!l||l.overlaps(this.map.extent());
this._setVisibility(o&&n&&m);
},_setVisibility:function(l){this.element.css("display",l?"":"none");
},_activate:function(){var l=this.map;
this._deactivate();
l.bind("beforeReset",this._beforeReset);
l.bind("reset",this._reset);
l.bind("resize",this._resize);
l.bind("panEnd",this._panEnd);
},_deactivate:function(){var l=this.map;
l.unbind("beforeReset",this._beforeReset);
l.unbind("reset",this._reset);
l.unbind("resize",this._resize);
l.unbind("panEnd",this._panEnd);
},_updateAttribution:function(){var l=this.map.attribution;
if(l){l.add(this.options.attribution);
}}});
d(c,{map:{layers:{Layer:h}}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/shape",["dataviz/map/layers/base","dataviz/map/location"],b);
}(function(){(function(a,t){var r=a.proxy,m=window.kendo,b=m.Class,e=m.data.DataSource,f=m.dataviz,h=m.deepExtend,j=m.geometry,c=m.drawing,l=c.Group,n=c.util.last,i=c.util.defined,q=f.map,p=q.Location,o=q.layers.Layer;
var s=o.extend({init:function(d,g){this._pan=r(this._pan,this);
o.fn.init.call(this,d,g);
this.surface=c.Surface.create(this.element,{width:d.scrollElement.width(),height:d.scrollElement.height()});
this._initRoot();
this.movable=new m.ui.Movable(this.surface.element);
this._markers=[];
this._click=this._handler("shapeClick");
this.surface.bind("click",this._click);
this._mouseenter=this._handler("shapeMouseEnter");
this.surface.bind("mouseenter",this._mouseenter);
this._mouseleave=this._handler("shapeMouseLeave");
this.surface.bind("mouseleave",this._mouseleave);
this._initDataSource();
},options:{autoBind:true},destroy:function(){o.fn.destroy.call(this);
this.surface.destroy();
this.dataSource.unbind("change",this._dataChange);
},setDataSource:function(d){if(this.dataSource){this.dataSource.unbind("change",this._dataChange);
}this.dataSource=m.data.DataSource.create(d);
this.dataSource.bind("change",this._dataChange);
if(this.options.autoBind){this.dataSource.fetch();
}},_reset:function(){o.fn._reset.call(this);
this._translateSurface();
if(this._data){this._load(this._data);
}},_initRoot:function(){this._root=new l();
this.surface.draw(this._root);
},_beforeReset:function(){this.surface.clear();
this._initRoot();
},_resize:function(){this.surface.size(this.map.size());
},_initDataSource:function(){var d=this.options.dataSource;
this._dataChange=r(this._dataChange,this);
this.dataSource=e.create(d).bind("change",this._dataChange);
if(d&&this.options.autoBind){this.dataSource.fetch();
}},_dataChange:function(d){this._data=d.sender.view();
this._load(this._data);
},_load:function(g){this._clearMarkers();
if(!this._loader){this._loader=new k(this.map,this.options.style,this);
}var d=new l();
for(var u=0;
u<g.length;
u++){var v=this._loader.parse(g[u]);
if(v){d.append(v);
}}this._root.clear();
this._root.append(d);
},shapeCreated:function(u){var g=false;
if(u instanceof c.Circle){g=i(this._createMarker(u));
}if(!g){var d={layer:this,shape:u};
g=this.map.trigger("shapeCreated",d);
}return g;
},featureCreated:function(d){d.layer=this;
this.map.trigger("shapeFeatureCreated",d);
},_createMarker:function(g){var d=this.map.markers.bind({location:g.location},g.dataItem);
if(d){this._markers.push(d);
}return d;
},_clearMarkers:function(){for(var d=0;
d<this._markers.length;
d++){this.map.markers.remove(this._markers[d]);
}this._markers=[];
},_pan:function(){if(!this._panning){this._panning=true;
this.surface.suspendTracking();
}},_panEnd:function(d){o.fn._panEnd.call(this,d);
this._translateSurface();
this.surface.resumeTracking();
this._panning=false;
},_translateSurface:function(){var d=this.map;
var g=d.locationToView(d.extent().nw);
if(this.surface.translate){this.surface.translate(g);
this.movable.moveTo({x:g.x,y:g.y});
}},_handler:function(d){var g=this;
return function(v){if(v.element){var u={layer:g,shape:v.element,originalEvent:v.originalEvent};
g.map.trigger(d,u);
}};
},_activate:function(){o.fn._activate.call(this);
this.map.bind("pan",this._pan);
},_deactivate:function(){o.fn._deactivate.call(this);
this.map.unbind("pan",this._pan);
}});
var k=b.extend({init:function(g,d,u){this.observer=u;
this.locator=g;
this.style=d;
},parse:function(d){var g=new l();
var u=true;
if(d.type==="Feature"){u=false;
this._loadGeometryTo(g,d.geometry,d);
this._featureCreated(g,d);
}else{this._loadGeometryTo(g,d,d);
}if(u&&g.children.length<2){g=g.children[0];
}return g;
},_shapeCreated:function(g){var d=false;
if(this.observer&&this.observer.shapeCreated){d=this.observer.shapeCreated(g);
}return d;
},_featureCreated:function(g,d){if(this.observer&&this.observer.featureCreated){this.observer.featureCreated({group:g,dataItem:d,properties:d.properties});
}},_loadGeometryTo:function(d,v,u){var g=v.coordinates;
var w;
var x;
switch(v.type){case"LineString":x=this._loadPolygon(d,[g],u);
this._setLineFill(x);
break;
case"MultiLineString":for(w=0;
w<g.length;
w++){x=this._loadPolygon(d,[g[w]],u);
this._setLineFill(x);
}break;
case"Polygon":this._loadPolygon(d,g,u);
break;
case"MultiPolygon":for(w=0;
w<g.length;
w++){this._loadPolygon(d,g[w],u);
}break;
case"Point":this._loadPoint(d,g,u);
break;
case"MultiPoint":for(w=0;
w<g.length;
w++){this._loadPoint(d,g[w],u);
}break;
}},_setLineFill:function(d){var g=d.segments;
if(g.length<4||!g[0].anchor().equals(n(g).anchor())){d.options.fill=null;
}},_loadShape:function(d,g){if(!this._shapeCreated(g)){d.append(g);
}return g;
},_loadPolygon:function(d,u,g){var v=this._buildPolygon(u);
v.dataItem=g;
return this._loadShape(d,v);
},_buildPolygon:function(w){var x=w.length>1?c.MultiPath:c.Path;
var u=new x(this.style);
for(var d=0;
d<w.length;
d++){for(var g=0;
g<w[d].length;
g++){var v=this.locator.locationToView(p.fromLngLat(w[d][g]));
if(g===0){u.moveTo(v.x,v.y);
}else{u.lineTo(v.x,v.y);
}}}return u;
},_loadPoint:function(g,u,v){var w=p.fromLngLat(u);
var x=this.locator.locationToView(w);
var d=new j.Circle(x,10);
var y=new c.Circle(d,this.style);
y.dataItem=v;
y.location=w;
return this._loadShape(g,y);
}});
h(m.data,{schemas:{geojson:{type:"json",data:function(d){if(d.type==="FeatureCollection"){return d.features;
}if(d.type==="GeometryCollection"){return d.geometries;
}return d;
}}},transports:{geojson:{read:{dataType:"json"}}}});
h(f,{map:{layers:{shape:s,ShapeLayer:s},GeoJSONLoader:k}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/bubble",["dataviz/map/layers/shape"],b);
}(function(){(function(a,q){var k=window.kendo,j=k.getter,e=k.dataviz,f=k.deepExtend,i=k.geometry,c=k.drawing,r=c.util,h=r.defined,m=e.map,l=m.Location,n=m.layers.ShapeLayer;
var b=n.extend({options:{autoBind:true,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(g){this.surface.clear();
if(g.length===0){return;
}var w=this.options;
var t=j(w.valueField);
g=g.slice(0);
g.sort(function(C,D){return t(D)-t(C);
});
var y=this._scaleType();
var x;
for(var u=0;
u<g.length;
u++){var s=g[u];
var v=j(w.locationField)(s);
var B=j(w.valueField)(s);
if(h(v)&&h(B)){if(!x){x=new y([0,B],[w.minSize,w.maxSize]);
}v=l.create(v);
var d=this.map.locationToView(v);
var z=x.map(B);
var A=this._createSymbol({center:d,size:z,style:w.style,dataItem:s,location:v});
A.dataItem=s;
A.location=v;
A.value=B;
this._drawSymbol(A);
}}},_scaleType:function(){var d=this.options.scale;
if(k.isFunction(d)){return d;
}return e.map.scales[d];
},_createSymbol:function(d){var g=this.options.symbol;
if(!k.isFunction(g)){g=e.map.symbols[g];
}return g(d);
},_drawSymbol:function(s){var d={layer:this,shape:s};
var g=this.map.trigger("shapeCreated",d);
if(!g){this.surface.draw(s);
}}});
var o=k.Class.extend({init:function(d,t){this._domain=d;
this._range=t;
var g=Math.sqrt(d[1])-Math.sqrt(d[0]);
var s=t[1]-t[0];
this._ratio=s/g;
},map:function(g){var d=(Math.sqrt(g)-Math.sqrt(this._domain[0]))*this._ratio;
return this._range[0]+d;
}});
var p={circle:function(d){var g=new i.Circle(d.center,d.size/2);
return new c.Circle(g,d.style);
},square:function(d){var t=new c.Path(d.style);
var s=d.size/2;
var g=d.center;
t.moveTo(g.x-s,g.y-s).lineTo(g.x+s,g.y-s).lineTo(g.x+s,g.y+s).lineTo(g.x-s,g.y+s).close();
return t;
}};
f(e,{map:{layers:{bubble:b,BubbleLayer:b},scales:{sqrt:o},symbols:p}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/tile",["dataviz/map/layers/base","dataviz/map/location"],b);
}(function(){(function(a,v){var l=Math,n=a.proxy,i=window.kendo,b=i.Class,r=i.template,c=i.dataviz,d=i.deepExtend,f=i.geometry,m=f.Point,j=c.map.layers.Layer,w=i.util,o=w.renderSize,e=i.drawing.util,p=e.round,k=e.limitValue;
var s=j.extend({init:function(g,x){j.fn.init.call(this,g,x);
if(typeof this.options.subdomains==="string"){this.options.subdomains=this.options.subdomains.split("");
}var y=this._viewType();
this._view=new y(this.element,this.options);
},destroy:function(){j.fn.destroy.call(this);
this._view.destroy();
this._view=null;
},_beforeReset:function(){var g=this.map;
var x=g.locationToLayer(g.extent().nw).round();
this._view.viewOrigin(x);
},_reset:function(){j.fn._reset.call(this);
this._updateView();
this._view.reset();
},_viewType:function(){return u;
},_activate:function(){j.fn._activate.call(this);
if(!i.support.mobileOS){if(!this._pan){this._pan=i.throttle(n(this._render,this),100);
}this.map.bind("pan",this._pan);
}},_deactivate:function(){j.fn._deactivate.call(this);
if(this._pan){this.map.unbind("pan",this._pan);
}},_updateView:function(){var z=this._view,y=this.map,g=y.extent(),x={nw:y.locationToLayer(g.nw).round(),se:y.locationToLayer(g.se).round()};
z.center(y.locationToLayer(y.center()));
z.extent(x);
z.zoom(y.zoom());
},_resize:function(){this._render();
},_panEnd:function(g){j.fn._panEnd.call(this,g);
this._render();
},_render:function(){this._updateView();
this._view.render();
}});
var u=b.extend({init:function(g,x){this.element=g;
this._initOptions(x);
this.pool=new t();
},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(g){this._center=g;
},extent:function(g){this._extent=g;
},viewOrigin:function(g){this._viewOrigin=g;
},zoom:function(g){this._zoom=g;
},pointToTileIndex:function(g){return new m(l.floor(g.x/this.options.tileSize),l.floor(g.y/this.options.tileSize));
},tileCount:function(){var z=this.size(),g=this.pointToTileIndex(this._extent.nw),x=this._extent.nw,y=this.indexToPoint(g).translate(-x.x,-x.y);
return{x:l.ceil((l.abs(y.x)+z.width)/this.options.tileSize),y:l.ceil((l.abs(y.y)+z.height)/this.options.tileSize)};
},size:function(){var x=this._extent.nw,y=this._extent.se,g=y.clone().translate(-x.x,-x.y);
return{width:g.x,height:g.y};
},indexToPoint:function(g){var z=g.x,A=g.y;
return new m(z*this.options.tileSize,A*this.options.tileSize);
},subdomainText:function(){var g=this.options.subdomains;
return g[this.subdomainIndex++%g.length];
},destroy:function(){this.element.empty();
this.pool.empty();
},reset:function(){this.pool.reset();
this.subdomainIndex=0;
this.render();
},render:function(){var z=this.tileCount(),g=this.pointToTileIndex(this._extent.nw),A,B,C;
for(B=0;
B<z.x;
B++){for(C=0;
C<z.y;
C++){A=this.createTile({x:g.x+B,y:g.y+C});
if(!A.visible){A.show();
}}}},createTile:function(g){var x=this.tileOptions(g);
var y=this.pool.get(this._center,x);
if(y.element.parent().length===0){this.element.append(y.element);
}return y;
},tileOptions:function(g){var x=this.wrapIndex(g),A=this.indexToPoint(g),z=this._viewOrigin,y=A.clone().translate(-z.x,-z.y);
return{index:x,currentIndex:g,point:A,offset:q(y),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate};
},wrapIndex:function(x){var g=l.pow(2,this._zoom);
return{x:this.wrapValue(x.x,g),y:k(x.y,0,g-1)};
},wrapValue:function(y,g){var x=l.abs(y)%g;
if(y>=0){y=x;
}else{y=g-(x===0?g:x);
}return y;
}});
var h=b.extend({init:function(g,x){this.id=g;
this.visible=true;
this._initOptions(x);
this.createElement();
this.show();
},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=a("<img style='position: absolute; display: block;' alt='' />").css({width:this.options.size,height:this.options.size}).on("error",n(function(g){if(this.errorUrl()){g.target.setAttribute("src",this.errorUrl());
}else{g.target.removeAttribute("src");
}},this));
},show:function(){var g=this.element[0];
g.style.top=o(this.options.offset.y);
g.style.left=o(this.options.offset.x);
var x=this.url();
if(x){g.setAttribute("src",x);
}g.style.visibility="visible";
this.visible=true;
},hide:function(){this.element[0].style.visibility="hidden";
this.visible=false;
},url:function(){var g=r(this.options.urlTemplate);
return g(this.urlOptions());
},errorUrl:function(){var g=r(this.options.errorUrlTemplate);
return g(this.urlOptions());
},urlOptions:function(){var g=this.options;
return{zoom:g.zoom,subdomain:g.subdomain,z:g.zoom,x:g.index.x,y:g.index.y,s:g.subdomain,quadkey:g.quadkey,q:g.quadkey,culture:g.culture,c:g.culture};
},destroy:function(){if(this.element){this.element.remove();
this.element=null;
}}});
var t=b.extend({init:function(){this._items=[];
},options:{maxSize:100},get:function(g,x){if(this._items.length>=this.options.maxSize){this._remove(g);
}return this._create(x);
},empty:function(){var x=this._items;
for(var g=0;
g<x.length;
g++){x[g].destroy();
}this._items=[];
},reset:function(){var x=this._items;
for(var g=0;
g<x.length;
g++){x[g].hide();
}},_create:function(z){var y=this._items;
var A;
var x=w.hashKey(z.point.toString()+z.offset.toString()+z.zoom+z.urlTemplate);
for(var g=0;
g<y.length;
g++){if(y[g].id===x){A=y[g];
break;
}}if(A){A.show();
}else{A=new h(x,z);
this._items.push(A);
}return A;
},_remove:function(g){var A=this._items;
var B=-1;
var z=-1;
for(var y=0;
y<A.length;
y++){var x=A[y].options.point.distanceTo(g);
if(x>B&&!A[y].visible){z=y;
B=x;
}}if(z!==-1){A[z].destroy();
A.splice(z,1);
}}});
function q(g){return new m(p(g.x),p(g.y));
}d(c,{map:{layers:{tile:s,TileLayer:s,ImageTile:h,TilePool:t,TileView:u}}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/bing",["dataviz/map/layers/tile"],b);
}(function(){(function(a,l){var h=window.kendo,d=h.dataviz,e=h.deepExtend,f=h.drawing.util.defined,g=d.map.Extent,i=d.map.Location,j=d.map.layers.TileLayer,k=d.map.layers.TileView;
var b=j.extend({init:function(m,n){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/";
j.fn.init.call(this,m,n);
this._onMetadata=a.proxy(this._onMetadata,this);
this._fetchMetadata();
},options:{imagerySet:"road"},_fetchMetadata:function(){var m=this.options;
if(!m.key){throw new Error("Bing tile layer: API key is required");
}a.ajax({url:m.baseUrl+m.imagerySet,data:{output:"json",include:"ImageryProviders",key:m.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata});
},_scheme:function(m){m=m||window.location.protocol;
return m.replace(":","")==="https"?"https":"http";
},_onMetadata:function(m){if(m&&m.resourceSets.length){var o=this.resource=m.resourceSets[0].resources[0];
e(this._view.options,{urlTemplate:o.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:o.imageUrlSubdomains});
var n=this.options;
if(!f(n.minZoom)){n.minZoom=o.zoomMin;
}if(!f(n.maxZoom)){n.maxZoom=o.zoomMax;
}this._addAttribution();
if(this.element.css("display")!=="none"){this._reset();
}}},_viewType:function(){return c;
},_addAttribution:function(){var n=this.map.attribution;
if(n){var q=this.resource.imageryProviders;
if(q){for(var o=0;
o<q.length;
o++){var p=q[o];
for(var r=0;
r<p.coverageAreas.length;
r++){var m=p.coverageAreas[r];
n.add({text:p.attribution,minZoom:m.zoomMin,maxZoom:m.zoomMax,extent:new g(new i(m.bbox[2],m.bbox[1]),new i(m.bbox[0],m.bbox[3]))});
}}}}},imagerySet:function(m){if(m){this.options.imagerySet=m;
this.map.attribution.clear();
this._fetchMetadata();
}else{return this.options.imagerySet;
}}});
var c=k.extend({options:{culture:"en-US"},tileOptions:function(m){var n=k.fn.tileOptions.call(this,m);
n.culture=this.options.culture;
n.quadkey=this.tileQuadKey(this.wrapIndex(m));
return n;
},tileQuadKey:function(o){var q="",m,p,n;
for(n=this._zoom;
n>0;
n--){m=0;
p=1<<n-1;
if((o.x&p)!==0){m++;
}if((o.y&p)!==0){m+=2;
}q+=m;
}return q;
}});
e(d,{map:{layers:{bing:b,BingLayer:b,BingView:c}}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/layers/marker",["dataviz/map/layers/base","dataviz/map/location","kendo.data","kendo.tooltip"],b);
}(function(){(function(a,q){var f=document,n=Math,g=a.inArray,o=a.proxy,h=window.kendo,b=h.Class,c=h.data.DataSource,p=h.ui.Tooltip,d=h.dataviz,e=h.deepExtend,k=d.map,j=k.Location,i=k.layers.Layer;
var m=i.extend({init:function(r,s){i.fn.init.call(this,r,s);
this._markerClick=o(this._markerClick,this);
this.element.on("click",".k-marker",this._markerClick);
this.items=[];
this._initDataSource();
},destroy:function(){i.fn.destroy.call(this);
this.element.off("click",".k-marker",this._markerClick);
this.dataSource.unbind("change",this._dataChange);
this.clear();
},options:{zIndex:1000,autoBind:true,dataSource:{},locationField:"location",titleField:"title"},add:function(r){if(a.isArray(r)){for(var s=0;
s<r.length;
s++){this._addOne(r[s]);
}}else{return this._addOne(r);
}},remove:function(s){s.destroy();
var r=g(s,this.items);
if(r>-1){this.items.splice(r,1);
}},clear:function(){for(var r=0;
r<this.items.length;
r++){this.items[r].destroy();
}this.items=[];
},update:function(t){var s=t.location();
if(s){t.showAt(this.map.locationToView(s));
var r={marker:t,layer:this};
this.map.trigger("markerActivate",r);
}},_reset:function(){i.fn._reset.call(this);
var s=this.items;
for(var r=0;
r<s.length;
r++){this.update(s[r]);
}},bind:function(v,t){var u=k.Marker.create(v,this.options);
u.dataItem=t;
var r={marker:u,layer:this};
var s=this.map.trigger("markerCreated",r);
if(!s){this.add(u);
return u;
}},setDataSource:function(r){if(this.dataSource){this.dataSource.unbind("change",this._dataChange);
}this.dataSource=h.data.DataSource.create(r);
this.dataSource.bind("change",this._dataChange);
if(this.options.autoBind){this.dataSource.fetch();
}},_addOne:function(r){var s=l.create(r,this.options);
s.addTo(this);
return s;
},_initDataSource:function(){var r=this.options.dataSource;
this._dataChange=o(this._dataChange,this);
this.dataSource=c.create(r).bind("change",this._dataChange);
if(r&&this.options.autoBind){this.dataSource.fetch();
}},_dataChange:function(r){this._load(r.sender.view());
},_load:function(r){this._data=r;
this.clear();
var t=h.getter(this.options.locationField);
var u=h.getter(this.options.titleField);
for(var v=0;
v<r.length;
v++){var s=r[v];
this.bind({location:t(s),title:u(s)},s);
}},_markerClick:function(s){var r={marker:a(s.target).data("kendoMarker"),layer:this};
this.map.trigger("markerClick",r);
}});
var l=b.extend({init:function(r){this.options=r||{};
},addTo:function(r){this.layer=r.markers||r;
this.layer.items.push(this);
this.layer.update(this);
},location:function(r){if(r){this.options.location=j.create(r).toArray();
if(this.layer){this.layer.update(this);
}return this;
}else{return j.create(this.options.location);
}},showAt:function(r){this.render();
this.element.css({left:n.round(r.x),top:n.round(r.y)});
if(this.tooltip&&this.tooltip.popup){this.tooltip.popup._position();
}},hide:function(){if(this.element){this.element.remove();
this.element=null;
}if(this.tooltip){this.tooltip.destroy();
this.tooltip=null;
}},destroy:function(){this.layer=null;
this.hide();
},render:function(){if(!this.element){var s=this.options;
var r=this.layer;
this.element=a(f.createElement("span")).addClass("k-marker k-icon k-i-marker-"+h.toHyphens(s.shape||"pin")).attr("title",s.title).attr(s.attributes||{}).data("kendoMarker",this).css("zIndex",s.zIndex);
if(r){r.element.append(this.element);
}this.renderTooltip();
}},renderTooltip:function(){var s=this;
var v=s.options.title;
var t=s.options.tooltip||{};
if(t&&p){var u=t.template;
if(u){var r=h.template(u);
t.content=function(w){w.location=s.location();
w.marker=s;
return r(w);
};
}if(v||t.content||t.contentUrl){this.tooltip=new p(this.element,t);
this.tooltip.marker=this;
}}}});
l.create=function(r,s){if(r instanceof l){return r;
}return new l(e({},s,r));
};
e(d,{map:{layers:{marker:m,MarkerLayer:m},Marker:l}});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("dataviz/map/main",["dataviz/map/crs","dataviz/map/location"],b);
}(function(){(function(a,B){var h=document,t=Math,u=t.min,x=t.pow,y=a.proxy,o=window.kendo,F=o.ui.Widget,d=o.deepExtend,c=o.dataviz,A=c.ui,n=o.geometry,w=n.Point,r=c.map,k=r.Extent,q=r.Location,j=r.crs.EPSG3857,C=o.util,z=C.renderPos,i=o.drawing.util,f=i.defined,p=i.limitValue,D=i.valueOrDefault;
var b="k-",l=0.9,m=0.9300000000000001,v="DOMMouseScroll mousewheel",E=5,e=1;
var s=F.extend({init:function(g,G){o.destroy(g);
F.fn.init.call(this,g);
this._initOptions(G);
this.bind(this.events,G);
this.crs=new j();
this.element.addClass(b+this.options.name.toLowerCase()).css("position","relative").empty().append(h.createElement("div"));
this._viewOrigin=this._getOrigin();
this._initScroller();
this._initMarkers();
this._initControls();
this._initLayers();
this._reset();
this._mousewheel=y(this._mousewheel,this);
this.element.bind(v,this._mousewheel);
},options:{name:"Map",controls:{attribution:true,navigator:{panStep:100},zoom:true},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:0.5}}},bubble:{style:{fill:{color:"#fff",opacity:0.5},stroke:{color:"#aaa",width:0.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:true},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function(){this.scroller.destroy();
if(this.navigator){this.navigator.destroy();
}if(this.attribution){this.attribution.destroy();
}if(this.zoomControl){this.zoomControl.destroy();
}this.markers.destroy();
for(var g=0;
g<this.layers.length;
g++){this.layers[g].destroy();
}F.fn.destroy.call(this);
},zoom:function(g){var G=this.options;
if(f(g)){g=t.round(p(g,G.minZoom,G.maxZoom));
if(G.zoom!==g){G.zoom=g;
this._reset();
}return this;
}else{return G.zoom;
}},center:function(g){if(g){this.options.center=q.create(g).toArray();
this._reset();
return this;
}else{return q.create(this.options.center);
}},extent:function(g){if(g){this._setExtent(g);
return this;
}else{return this._getExtent();
}},setOptions:function(g){F.fn.setOptions.call(this,g);
this._reset();
},locationToLayer:function(G,H){var g=!this.options.wraparound;
G=q.create(G);
return this.crs.toPoint(G,this._layerSize(H),g);
},layerToLocation:function(G,H){var g=!this.options.wraparound;
G=w.create(G);
return this.crs.toLocation(G,this._layerSize(H),g);
},locationToView:function(g){g=q.create(g);
var G=this.locationToLayer(this._viewOrigin);
var H=this.locationToLayer(g);
return H.translateWith(G.scale(-1));
},viewToLocation:function(G,H){var g=this.locationToLayer(this._getOrigin(),H);
G=w.create(G);
G=G.clone().translateWith(g);
return this.layerToLocation(G,H);
},eventOffset:function(g){var J;
var K;
var L;
var I=this.element.offset();
if(g.x||g.y){var H="location";
K=g.x[H]-I.left;
L=g.y[H]-I.top;
J=new n.Point(K,L);
}else{var G=g.originalEvent||g;
K=D(G.pageX,G.clientX)-I.left;
L=D(G.pageY,G.clientY)-I.top;
J=new n.Point(K,L);
}return J;
},eventToView:function(G){var g=this.eventOffset(G);
return this.locationToView(this.viewToLocation(g));
},eventToLayer:function(g){return this.locationToLayer(this.eventToLocation(g));
},eventToLocation:function(G){var g=this.eventOffset(G);
return this.viewToLocation(g);
},viewSize:function(){var g=this.element;
var G=this._layerSize();
var H=g.width();
if(!this.options.wraparound){H=u(G,H);
}return{width:H,height:u(G,g.height())};
},exportVisual:function(){this._reset();
return false;
},_setOrigin:function(g,I){var G=this.viewSize(),H;
g=this._origin=q.create(g);
H=this.locationToLayer(g,I);
H.x+=G.width/2;
H.y+=G.height/2;
this.options.center=this.layerToLocation(H,I).toArray();
return this;
},_getOrigin:function(g){var G=this.viewSize(),H;
if(g||!this._origin){H=this.locationToLayer(this.center());
H.x-=G.width/2;
H.y-=G.height/2;
this._origin=this.layerToLocation(H);
}return this._origin;
},_setExtent:function(G){var K=k.create(G);
var L=K.se.clone();
if(this.options.wraparound&&L.lng<0&&G.nw.lng>0){L.lng=180+(180+L.lng);
}G=new k(K.nw,L);
this.center(G.center());
var N=this.element.width();
var H=this.element.height();
for(var O=this.options.maxZoom;
O>=this.options.minZoom;
O--){var M=this.locationToLayer(G.nw,O);
var g=this.locationToLayer(G.se,O);
var J=t.abs(g.x-M.x);
var I=t.abs(g.y-M.y);
if(J<=N&&I<=H){break;
}}this.zoom(O);
},_getExtent:function(){var G=this._getOrigin();
var g=this.locationToLayer(G);
var I=this.viewSize();
g.x+=I.width;
g.y+=I.height;
var H=this.layerToLocation(g);
return new k(G,H);
},_zoomAround:function(G,g){this._setOrigin(this.layerToLocation(G,g),g);
this.zoom(g);
},_initControls:function(){var g=this.options.controls;
if(A.Attribution&&g.attribution){this._createAttribution(g.attribution);
}if(!o.support.mobileOS){if(A.Navigator&&g.navigator){this._createNavigator(g.navigator);
}if(A.ZoomControl&&g.zoom){this._createZoomControl(g.zoom);
}}},_createControlElement:function(G,g){var H=G.position||g;
var I="."+z(H).replace(" ",".");
var J=a(".k-map-controls"+I,this.element);
if(J.length===0){J=a("<div>").addClass("k-map-controls "+z(H)).appendTo(this.element);
}return a("<div>").appendTo(J);
},_createAttribution:function(G){var g=this._createControlElement(G,"bottomRight");
this.attribution=new A.Attribution(g,G);
},_createNavigator:function(H){var g=this._createControlElement(H,"topLeft");
var G=this.navigator=new A.Navigator(g,H);
this._navigatorPan=y(this._navigatorPan,this);
G.bind("pan",this._navigatorPan);
this._navigatorCenter=y(this._navigatorCenter,this);
G.bind("center",this._navigatorCenter);
},_navigatorPan:function(G){var I=this;
var J=I.scroller;
var L=J.scrollLeft+G.x;
var M=J.scrollTop-G.y;
var g=this._virtualSize;
var H=this.element.height();
var K=this.element.width();
L=p(L,g.x.min,g.x.max-K);
M=p(M,g.y.min,g.y.max-H);
I.scroller.one("scroll",function(N){I._scrollEnd(N);
});
I.scroller.scrollTo(-L,-M);
},_navigatorCenter:function(){this.center(this.options.center);
},_createZoomControl:function(G){var g=this._createControlElement(G,"topLeft");
var H=this.zoomControl=new A.ZoomControl(g,G);
this._zoomControlChange=y(this._zoomControlChange,this);
H.bind("change",this._zoomControlChange);
},_zoomControlChange:function(g){if(!this.trigger("zoomStart",{originalEvent:g})){this.zoom(this.zoom()+g.delta);
this.trigger("zoomEnd",{originalEvent:g});
}},_initScroller:function(){var g=o.support.mobileOS?m:l;
var H=this.options.zoomable!==false;
var G=this.scroller=new o.mobile.ui.Scroller(this.element.children(0),{friction:g,velocityMultiplier:E,zoom:H,mousewheelScrolling:false,supportDoubleTap:true});
G.bind("scroll",y(this._scroll,this));
G.bind("scrollEnd",y(this._scrollEnd,this));
G.userEvents.bind("gesturestart",y(this._scaleStart,this));
G.userEvents.bind("gestureend",y(this._scale,this));
G.userEvents.bind("doubleTap",y(this._doubleTap,this));
G.userEvents.bind("tap",y(this._tap,this));
this.scrollElement=G.scrollElement;
},_initLayers:function(){var G=this.options.layers,J=this.layers=[];
for(var H=0;
H<G.length;
H++){var K=G[H];
var L=K.type||"shape";
var g=this.options.layerDefaults[L];
var I=c.map.layers[L];
J.push(new I(this,d({},g,K)));
}},_initMarkers:function(){this.markers=new r.layers.MarkerLayer(this,this.options.markerDefaults);
this.markers.add(this.options.markers);
},_scroll:function(g){var I=this.locationToLayer(this._viewOrigin).round();
var G=g.sender.movable;
var H=new n.Point(G.x,G.y).scale(-1).scale(1/G.scale);
I.x+=H.x;
I.y+=H.y;
this._scrollOffset=H;
this._setOrigin(this.layerToLocation(I));
this.trigger("pan",{originalEvent:g,origin:this._getOrigin(),center:this.center()});
},_scrollEnd:function(g){if(!this._scrollOffset||!this._panComplete()){return;
}this._scrollOffset=null;
this._panEndTS=new Date();
this.trigger("panEnd",{originalEvent:g,origin:this._getOrigin(),center:this.center()});
},_panComplete:function(){return new Date()-(this._panEndTS||0)>50;
},_scaleStart:function(g){if(this.trigger("zoomStart",{originalEvent:g})){var G=g.touches[1];
if(G){G.cancel();
}}},_scale:function(H){var K=this.scroller.movable.scale;
var L=this._scaleToZoom(K);
var I=new n.Point(H.center.x,H.center.y);
var g=this.viewToLocation(I,L);
var G=this.locationToLayer(g,L);
var J=G.translate(-I.x,-I.y);
this._zoomAround(J,L);
this.trigger("zoomEnd",{originalEvent:H});
},_scaleToZoom:function(G){var g=this._layerSize()*G;
var H=g/this.options.minSize;
var I=t.log(H)/t.log(2);
return t.round(I);
},_reset:function(){if(this.attribution){this.attribution.filter(this.center(),this.zoom());
}this._viewOrigin=this._getOrigin(true);
this._resetScroller();
this.trigger("beforeReset");
this.trigger("reset");
},_resetScroller:function(){var H=this.scroller;
var K=H.dimensions.x;
var M=H.dimensions.y;
var G=this._layerSize();
var g=this.extent().nw;
var I=this.locationToLayer(g).round();
H.movable.round=true;
H.reset();
H.userEvents.cancel();
var O=this.zoom();
H.dimensions.forcedMinScale=x(2,this.options.minZoom-O);
H.dimensions.maxScale=x(2,this.options.maxZoom-O);
var L={min:-I.x,max:G-I.x};
var N={min:-I.y,max:G-I.y};
if(this.options.wraparound){L.max=20*G;
L.min=-L.max;
}if(this.options.pannable===false){var J=this.viewSize();
L.min=N.min=0;
L.max=J.width;
N.max=J.height;
}K.makeVirtual();
M.makeVirtual();
K.virtualSize(L.min,L.max);
M.virtualSize(N.min,N.max);
this._virtualSize={x:L,y:N};
},_renderLayers:function(){var G=this.options.layers,J=this.layers=[],L=this.scrollWrap;
L.empty();
for(var H=0;
H<G.length;
H++){var K=G[H];
var M=K.type||"shape";
var g=this.options.layerDefaults[M];
var I=c.map.layers[M];
J.push(new I(this,d({},g,K)));
}},_layerSize:function(g){g=D(g,this.options.zoom);
return this.options.minSize*x(2,g);
},_tap:function(G){if(!this._panComplete()){return;
}var g=this.eventOffset(G);
this.trigger("click",{originalEvent:G,location:this.viewToLocation(g)});
},_doubleTap:function(G){var I=this.options;
if(I.zoomable!==false){if(!this.trigger("zoomStart",{originalEvent:G})){var L=this.zoom()+e;
var g=this.eventOffset(G);
var H=this.viewToLocation(g);
var K=this.locationToLayer(H,L);
var J=K.translate(-g.x,-g.y);
this._zoomAround(J,L);
this.trigger("zoomEnd",{originalEvent:G});
}}},_mousewheel:function(H){H.preventDefault();
var G=c.mwDelta(H)>0?-1:1;
var K=this.options;
var I=this.zoom();
var N=p(I+G,K.minZoom,K.maxZoom);
if(K.zoomable!==false&&N!==I){if(!this.trigger("zoomStart",{originalEvent:H})){var g=this.eventOffset(H);
var J=this.viewToLocation(g);
var M=this.locationToLayer(J,N);
var L=M.translate(-g.x,-g.y);
this._zoomAround(L,N);
this.trigger("zoomEnd",{originalEvent:H});
}}}});
c.ui.plugin(s);
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("kendo.dataviz.map",["kendo.data","kendo.userevents","kendo.tooltip","kendo.mobile.scroller","kendo.draganddrop","kendo.dataviz.core","dataviz/map/location","dataviz/map/attribution","dataviz/map/navigator","dataviz/map/zoom","dataviz/map/crs","dataviz/map/layers/base","dataviz/map/layers/shape","dataviz/map/layers/bubble","dataviz/map/layers/tile","dataviz/map/layers/bing","dataviz/map/layers/marker","dataviz/map/main"],b);
}(function(){var a={id:"dataviz.map",name:"Map",category:"dataviz",description:"The Kendo DataViz Map displays spatial data",depends:["data","userevents","tooltip","dataviz.core","drawing","mobile.scroller"]};
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
