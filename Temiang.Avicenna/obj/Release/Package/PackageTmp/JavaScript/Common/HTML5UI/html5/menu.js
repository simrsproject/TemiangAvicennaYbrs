(function(b,a){a("kendo.menu",["kendo.popup","kendo.data"],b);
}(function(){var a={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]};
(function(b,aU){var S=window.kendo,aT=S.ui,d=S._activeElement,aQ=S.support.touch&&S.support.mobileOS,N=b.isArray,I=S.data.HierarchicalDataSource,ad="mousedown",k="click",r=30,aG=50,z=b.extend,aA=b.proxy,v=b.each,aN=S.template,U=S.keys,aZ=aT.Widget,x=/^(ul|a|div)$/i,ak=".kendoMenu",M="img",an="open",ab="k-menu",X="k-link k-menu-link",Y=".k-link",K=".k-menu-expand-arrow",V="k-last",l="close",aP="timer",A="k-first",L="k-image",aI="select",a0="zIndex",c="activate",p="deactivate",ar="touchstart"+ak+" MSPointerDown"+ak+" pointerdown"+ak,at=S.support.pointers,ai=S.support.msPointers,f=ai||at,j="change",w="error",aS=S.support.touch?"touchstart":"",ae=at?"pointerover":ai?"MSPointerOver":"mouseenter",af=at?"pointerout":ai?"MSPointerOut":"mouseleave",ag="DOMMouseScroll"+ak+" mousewheel"+ak,aD=S.support.resize+ak,aH="scrollWidth",aF="scrollHeight",am="offsetWidth",al="offsetHeight",au="group",av="groupparent",u=b(document.documentElement),T="kendoPopup",q="k-state-default",J="k-state-hover",B="k-state-focused",t="k-state-disabled",aJ="k-state-selected",ac=".k-menu",H=".k-menu-group",g=".k-animation-container",az=H+","+g,e=":not(.k-list) > .k-item",s=".k-item.k-state-disabled",R=".k-item",h=".k-item:not(.k-state-disabled)",Z=".k-item:not(.k-state-disabled) > .k-link",y=":not(.k-item.k-separator)",aj=R+y+":eq(0)",W=R+y+":last",aO="div:not(.k-animation-container,.k-list-container)",aE=".k-menu-scroll-button",aR={"2":1,touch:1},aM="string",o="dataBound",i={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},aC={wrapperCssClass:function(a1,a3){var a4="k-item",a2=a3.index;
if(a3.enabled===false){a4+=" k-state-disabled";
}else{a4+=" k-state-default";
}if(a1.firstLevel&&a2===0){a4+=" k-first";
}if(a2==a1.length-1){a4+=" k-last";
}if(a3.cssClass){a4+=" "+a3.cssClass;
}if(a3.attr&&a3.attr.hasOwnProperty("class")){a4+=" "+a3.attr["class"];
}if(a3.selected){a4+=" "+aJ;
}return a4;
},itemCssAttributes:function(a3){var a4="";
var a2=a3.attr||{};
for(var a1 in a2){if(a2.hasOwnProperty(a1)&&a1!=="class"){a4+=a1+'="'+a2[a1]+'" ';
}}return a4;
},imageCssAttributes:function(a3){var a4="";
var a2=a3&&a3.toJSON?a3.toJSON():{};
if(!a2["class"]){a2["class"]=L;
}else{a2["class"]+=" "+L;
}for(var a1 in a2){if(a2.hasOwnProperty(a1)){a4+=a1+'="'+a2[a1]+'" ';
}}return a4;
},contentCssAttributes:function(a4){var a5="";
var a2=a4.contentAttr||{};
var a3="k-content k-group k-menu-group";
if(!a2["class"]){a2["class"]=a3;
}else{a2["class"]+=" "+a3;
}for(var a1 in a2){if(a2.hasOwnProperty(a1)){a5+=a1+'="'+a2[a1]+'" ';
}}return a5;
},textClass:function(){return X;
},arrowClass:function(a2,a1){var a3="k-icon";
if(a1.horizontal){a3+=" k-i-arrow-60-down";
}else{a3+=" k-i-arrow-60-right";
}return a3;
},groupAttributes:function(a1){return a1.expanded!==true?" style='display:none'":"";
},groupCssClass:function(){return"k-group k-menu-group";
},content:function(a1){return a1.content?a1.content:"&nbsp;";
}};
function E(a1,a2){a1=a1.split(" ")[!a2+0]||a1;
return a1.replace("top","up").replace("bottom","down");
}function aq(a1,a5,a3){a1=a1.split(" ")[!a5+0]||a1;
var a4={origin:["bottom",a3?"right":"left"],position:["top",a3?"right":"left"]},a2=/left|right/.test(a1);
if(a2){a4.origin=["top",a1];
a4.position[1]=S.directions[a1].reverse;
}else{a4.origin[0]=a1;
a4.position[0]=S.directions[a1].reverse;
}a4.origin=a4.origin.join(" ");
a4.position=a4.position.join(" ");
return a4;
}function m(a3,a1){try{return b.contains(a3,a1);
}catch(a2){return false;
}}function aY(a1){a1=b(a1);
a1.addClass("k-item").children(M).addClass(L);
a1.children("a").addClass(X).children(M).addClass(L);
a1.filter(":not([disabled])").addClass(q);
a1.filter(".k-separator").empty().append("&nbsp;");
a1.filter("li[disabled]").addClass(t).removeAttr("disabled").attr("aria-disabled",true);
if(!a1.filter("[role]").length){a1.attr("role","menuitem");
}if(!a1.children(Y).length){a1.contents().filter(function(){return !this.nodeName.match(x)&&!(this.nodeType==3&&!b.trim(this.nodeValue));
}).wrapAll("<span class='"+X+"'/>");
}aV(a1);
aW(a1);
}function aV(a1){a1=b(a1);
a1.find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove();
a1.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var a3=b(this),a2=C(a3);
a3.append("<span class='k-icon"+a2+" k-menu-expand-arrow'/>");
});
}function C(a3){var a1,a4=a3.parent().parent(),a2=S.support.isRtl(a4);
if(a4.hasClass(ab+"-horizontal")){a1=" k-i-arrow-60-down";
}else{if(a2){a1=" k-i-arrow-60-left";
}else{a1=" k-i-arrow-60-right";
}}return a1;
}function aW(a1){a1=b(a1);
a1.filter(".k-first:not(:first-child)").removeClass(A);
a1.filter(".k-last:not(:last-child)").removeClass(V);
a1.filter(":first-child").addClass(A);
a1.filter(":last-child").addClass(V);
}function aX(a3){if(a3&&a3.length){for(var a1 in a3){var a2=a3.eq(a1);
if(a2.find("ul").length){a2.attr("aria-haspopup",true);
}else{a2.removeAttr("aria-haspopup");
}}}}function G(a1){if(!a1.hasClass(ab)){return a1.parentsUntil("."+ab,"li");
}}function aL(a1,a2){var a3=F(a2);
if(a3){aK(a1,a3);
}if(a2.items){b(a1).children("ul").children("li").each(function(a4){aL(this,a2.items[a4]);
});
}}function aK(a1,a2){b(a1).children(".k-link").data({selectHandler:a2});
}function F(a2){var a3=a2.select,a1=S.isFunction;
if(a3&&a1(a3)){return a3;
}return null;
}function ax(a1){return a1?"li[data-groupparent='"+a1+"']":"li[data-groupparent]";
}function aw(a1){return a1?"ul[data-group='"+a1+"']":"ul[data-group]";
}function D(a2,a3){var a1=a2.find(ax());
var a4=[];
a1.each(function(a5,a6){a6=b(a6);
var a8=a6.data(av);
var a7=a2;
while(a8){a7=a3.find(aw(a8)+":visible");
if(a7.length){a4.push(a7);
}a6=a7.find(ax());
a8=a6.data(av);
}});
return a4;
}function ay(a2,a1){var a3=a2.data(au);
return a3?a1.find(ax(a3)):b([]);
}function Q(a1,a2){var a3=a1.data(av);
return a3?a2.children(g).children(aw(a3)):b([]);
}function ao(a1,a5){var a6=[];
var a3=function(a8){while(a8.parentNode&&!a5.is(a8.parentNode)){a6.push(a8.parentNode);
a8=a8.parentNode;
}};
var a2=a1[0]||a1;
a3(a2);
var a4=a6[a6.length-1];
while(b(a4).is(g)){var a7=b(a4).children("ul");
a2=ay(a7,a5)[0];
if(!a2){break;
}a6.push(a2);
a3(a2);
a4=a6[a6.length-1];
}return a6;
}function ah(a2){var a1=0;
if(a2.wheelDelta){a1=-a2.wheelDelta/120;
a1=a1>0?Math.ceil(a1):Math.floor(a1);
}if(a2.detail){a1=Math.round(a2.detail/3);
}return a1;
}function ap(a1,a4){var a3=0;
var a2=a1.parentNode;
while(a2&&!isNaN(a2[a4])){a3+=a2[a4];
a2=a2.parentNode;
}return a3;
}function O(a1){return f&&a1.originalEvent&&a1.originalEvent.pointerType in aR;
}function P(a1){var a2=a1.originalEvent;
return aQ&&/touch/i.test(a2.type||"");
}function aB(a1){a1.contents().filter(function(){return this.nodeName!="LI";
}).remove();
}var aa=S.ui.DataBoundWidget.extend({init:function(a1,a2){var a3=this;
aZ.fn.init.call(a3,a1,a2);
a1=a3.wrapper=a3.element;
a2=a3.options;
a3._accessors();
a3._templates();
a3._dataSource();
a3._updateClasses();
a3._animations(a2);
a3.nextItemZIndex=100;
a3._tabindex();
a3._initOverflow(a2);
a3._attachMenuEventsHandlers();
if(a2.openOnClick){a3.clicked=false;
}a1.attr("role","menubar");
if(a1[0].id){a3._ariaId=S.format("{0}_mn_active",a1[0].id);
}S.notify(a3);
},events:[an,l,c,p,aI,o],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,scrollable:false,popupCollision:aU},_initData:function(){var a1=this;
if(a1.dataSource){a1.angular("cleanup",function(){return{elements:a1.element.children()};
});
a1.element.empty();
a1.append(a1.dataSource.view(),a1.element);
a1.angular("compile",function(){return{elements:a1.element.children()};
});
}},_attachMenuEventsHandlers:function(){var a4=this;
var a1=a4.element;
var a2=a4.options;
var a3=a4._overflowWrapper();
(a3||a1).on(ar,R,aA(a4._focusHandler,a4)).on(k+ak,s,false).on(k+ak,R,aA(a4._click,a4)).on(ar+" "+ad+ak,".k-content",aA(a4._preventClose,a4)).on(ae+ak,h,aA(a4._mouseenter,a4)).on(af+ak,h,aA(a4._mouseleave,a4)).on(ad+ak,h,aA(a4._mousedown,a4)).on(aS+ak+" "+ae+ak+" "+af+ak+" "+ad+ak+" "+k+ak,Z,aA(a4._toggleHover,a4));
a1.on("keydown"+ak,aA(a4._keydown,a4)).on("focus"+ak,aA(a4._focus,a4)).on("focus"+ak,".k-content",aA(a4._focus,a4)).on("blur"+ak,aA(a4._removeHoverItem,a4)).on("blur"+ak,"[tabindex]",aA(a4._checkActiveElement,a4));
if(a3){a3.on(af+ak,az,aA(a4._mouseleavePopup,a4)).on(ae+ak,az,aA(a4._mouseenterPopup,a4));
}if(a2.openOnClick){a4._documentClickHandler=aA(a4._documentClick,a4);
b(document).click(a4._documentClickHandler);
}},_detachMenuEventsHandlers:function(){var a2=this;
var a1=a2._overflowWrapper();
if(a1){a1.off(ak);
}a2.element.off(ak);
if(a2._documentClickHandler){b(document).unbind("click",a2._documentClickHandler);
}},_initOverflow:function(a6){var a7=this;
var a5=a6.orientation=="horizontal";
var a1,a2;
if(a6.scrollable){a7._openedPopups={};
a7._scrollWrapper=a7.element.wrap("<div class='k-menu-scroll-wrapper "+a6.orientation+"'></div>").parent();
if(a5){aB(a7.element);
}a1=b(a7.templates.scrollButton({direction:a5?"left":"up"}));
a2=b(a7.templates.scrollButton({direction:a5?"right":"down"}));
a1.add(a2).appendTo(a7._scrollWrapper);
a7._initScrolling(a7.element,a1,a2,a5);
var a4=a7.element.outerWidth();
var a3=a7.element[0].style.width;
a3=a3==="auto"?"":a3;
if(a5){b(window).on(aD,S.throttle(function(){a7._setOverflowWrapperWidth(a4,a3);
a7._toggleScrollButtons(a7.element,a1,a2,a5);
},100));
}a7._setOverflowWrapperWidth(a4,a3);
a7._toggleScrollButtons(a7.element,a1,a2,a5);
}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper;
},_setOverflowWrapperWidth:function(a3,a2){var a5=this;
var a7=a5._scrollWrapper.css("width");
a5._scrollWrapper.css({width:""});
var a8=a5._scrollWrapper.outerWidth();
a5._scrollWrapper.css({width:a7});
var a4=a5.element.outerWidth();
var a1=a5.element[0].offsetWidth-a5.element[0].clientWidth;
if(a4!=a8&&a8>0){var a6=a2?Math.min(a3,a8):a8;
a5.element.width(a6-a1);
a5._scrollWrapper.width(a6);
}},_reinitOverflow:function(a1){var a3=this;
var a2=a1.scrollable&&!a3.options.scrollable||!a1.scrollable&&a3.options.scrollable||a1.scrollable&&a3.options.scrollable&&a1.scrollable.distance!=a3.options.scrollable.distance||a1.orientation!=a3.options.orientation;
if(a2){a3._detachMenuEventsHandlers();
a3._destroyOverflow();
a3._initOverflow(a1);
a3._attachMenuEventsHandlers();
}},_destroyOverflow:function(){var a2=this;
var a1=a2._overflowWrapper();
if(a1){a1.off(ak);
a1.find(aE).off(ak).remove();
a1.children(g).each(function(a3,a5){var a6=b(a5).children(H);
a6.off(ag);
var a4=ay(a6,a1);
if(a4.length){a4.append(a5);
}});
a1.find(ax()).removeAttr("data-groupparent");
a1.find(aw()).removeAttr("data-group");
a2.element.off(ag);
b(window).off(aD);
a1.contents().unwrap();
a2._scrollWrapper=a2._popupsWrapper=a2._openedPopups=aU;
}},_initScrolling:function(be,a2,a6,a8){var bg=this;
var bd=bg.options.scrollable;
var a4=b.isNumeric(bd.distance)?bd.distance:aG;
var bb=a4/2;
var a1="-="+a4;
var a5="+="+a4;
var a3="-="+a4*2;
var a7="+="+a4*2;
var bf=false;
var bh=false;
var bc=function(bj){var bi=a8?{scrollLeft:bj}:{scrollTop:bj};
be.finish().animate(bi,"fast","linear",function(){if(bf){bc(bj);
}});
bg._toggleScrollButtons(be,a2,a6,a8);
};
var ba=function(bi){if(!bf&&!bh){bc(bi.data.direction);
bf=true;
}};
var a9=function(bi){var bj=a8?{scrollLeft:bi.data.direction}:{scrollTop:bi.data.direction};
bh=P(bi)||O(bi);
be.stop().animate(bj,"fast","linear",function(){if(!bh){b(bi.currentTarget).trigger(ae);
}else{bg._toggleScrollButtons(be,a2,a6,a8);
bf=true;
}});
bf=false;
bi.stopPropagation();
bi.preventDefault();
};
a2.on(ae+ak,{direction:a1},ba).on(S.eventMap.down+ak,{direction:a3},a9);
a6.on(ae+ak,{direction:a5},ba).on(S.eventMap.down+ak,{direction:a7},a9);
a2.add(a6).on(af+ak,function(){be.stop();
bf=false;
bg._toggleScrollButtons(be,a2,a6,a8);
});
be.on(ag,function(bi){if(!bi.ctrlKey&&!bi.shiftKey&&!bi.altKey){var bm=ah(bi.originalEvent);
var bj=Math.abs(bm)*bb;
var bl=(bm>0?"+=":"-=")+bj;
var bk=a8?{scrollLeft:bl}:{scrollTop:bl};
bg._closeChildPopups(be);
be.finish().animate(bk,"fast","linear",function(){bg._toggleScrollButtons(be,a2,a6,a8);
});
bi.preventDefault();
}});
},_toggleScrollButtons:function(a6,a1,a3,a4){var a2=a4?a6.scrollLeft():a6.scrollTop();
var a7=a4?aH:aF;
var a5=a4?am:al;
a1.toggle(a2!==0);
a3.toggle(a2<a6[0][a7]-a6[0][a5]-1);
},setOptions:function(a2){var a1=this.options.animation;
this._animations(a2);
a2.animation=z(true,a1,a2.animation);
if("dataSource" in a2){this._dataSource(a2);
}this._updateClasses();
this._reinitOverflow(a2);
aZ.fn.setOptions.call(this,a2);
},destroy:function(){var a1=this;
aZ.fn.destroy.call(a1);
a1._detachMenuEventsHandlers();
a1._destroyOverflow();
S.destroy(a1.element);
},enable:function(a1,a2){this._toggleDisabled(a1,a2!==false);
return this;
},disable:function(a1){this._toggleDisabled(a1,false);
return this;
},attemptGetItem:function(a1){a1=a1||this.element;
var a2=this.element.find(a1);
var a3=this._overflowWrapper();
if(a2.length||a1===this.element){return a2;
}else{if(a3){return a3.find(a1);
}else{return b();
}}},append:function(a2,a3){a3=this.attemptGetItem(a3);
var a1=this._insert(a2,a3,a3.length?a3.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);
v(a1.items,function(a4){a1.group.append(this);
aV(this);
aL(this,a2[a4]||a2);
});
aV(a3);
aW(a1.group.find(".k-first, .k-last").add(a1.items));
aX(G(a1.group));
return this;
},insertBefore:function(a2,a3){a3=this.attemptGetItem(a3);
var a1=this._insert(a2,a3,a3.parent());
v(a1.items,function(a4){a3.before(this);
aV(this);
aW(this);
aL(this,a2[a4]||a2);
});
aW(a3);
return this;
},insertAfter:function(a2,a3){a3=this.attemptGetItem(a3);
var a1=this._insert(a2,a3,a3.parent());
v(a1.items,function(a4){a3.after(this);
aV(this);
aW(this);
aL(this,a2[a4]||a2);
});
aW(a3);
return this;
},_insert:function(a3,a7,a5){var a8=this,a4,a2;
if(!a7||!a7.length){a5=a8.element;
}var a6=b.isPlainObject(a3)||a3 instanceof S.data.ObservableObject,a1={firstLevel:a5.hasClass(ab),horizontal:a5.hasClass(ab+"-horizontal"),expanded:true,length:a5.children().length};
if(a7&&!a5.length){a5=b(a8.renderGroup({group:a1,options:a8.options})).appendTo(a7);
}if(a6||N(a3)||a3 instanceof S.data.ObservableArray){a4=b(b.map(a6?[a3]:a3,function(ba,a9){if(typeof ba==="string"){return b(ba).get();
}else{return b(a8.renderItem({group:a1,item:z(ba,{index:a9})})).get();
}}));
}else{if(typeof a3=="string"&&a3.charAt(0)!="<"){a4=a8.element.find(a3);
}else{a4=b(a3);
}a2=a4.find("> ul").addClass("k-menu-group").attr("role","menu");
a4=a4.filter("li");
a4.add(a2.find("> li")).each(function(){aY(this);
});
}return{items:a4,group:a5};
},remove:function(a2){a2=this.attemptGetItem(a2);
var a6=this,a4=a2.parentsUntil(a6.element,e),a3=a2.parent("ul:not(.k-menu)");
a2.remove();
if(a3&&!a3.children(e).length){var a5=G(a3);
var a1=a3.parent(g);
if(a1.length){a1.remove();
}else{a3.remove();
}aX(a5);
}if(a4.length){a4=a4.eq(0);
aV(a4);
aW(a4);
}return a6;
},_openAfterLoad:function(a2,a1){var a3=this;
if(a1.loaded()){a3.open(a2);
a3._loading=false;
}else{a1.one(j,function(){a2.find(K).removeClass("k-i-loading");
if(a3._loading){a3.open(a2);
a3._loading=false;
}});
}},open:function(a4){var a9=this;
var a7=a9.options;
var a5=a7.orientation=="horizontal";
var a3=a7.direction;
var a6=S.support.isRtl(a9.wrapper);
var a8=a9._overflowWrapper();
a4=(a8||a9.element).find(a4);
var a2=a9.dataSource&&a9.dataSource.getByUid(a4.data(S.ns+"uid"));
if(a2&&a2.hasChildren&&!a2.loaded()&&!a9._loading){a9._loading=true;
a4.find(K).addClass("k-i-loading");
a2.load();
a9._openAfterLoad(a4,a2);
return;
}if(/^(top|bottom|default)$/.test(a3)){if(a6){a3=a5?(a3+" left").replace("default","bottom"):"left";
}else{a3=a5?(a3+" right").replace("default","bottom"):"right";
}}var ba=">.k-popup:visible,>.k-animation-container>.k-popup:visible";
var a1=function(){var bb=b(this).data(T);
if(bb){a9.close(b(this).closest("li.k-item"),true);
}};
a4.siblings().find(ba).each(a1);
if(a8){a4.find(ba).each(a1);
}if(a9.options.openOnClick){a9.clicked=true;
}a4.each(function(){var bb=b(this);
clearTimeout(bb.data(aP));
bb.data(aP,setTimeout(function(){var bl=bb.find(".k-menu-group:first:hidden");
var bi;
var bg;
if(!bl[0]&&a8){bg=a9._getPopup(bb);
bl=bg&&bg.element;
}if(bl.is(":visible")){return;
}if(bl[0]&&a9._triggerEvent({item:bb[0],type:an})===false){if(!bl.find(".k-menu-group")[0]&&bl.children(".k-item").length>1){var bm=b(window).height(),bk=function(){bl.css({maxHeight:bm-(S._outerHeight(bl)-bl.height())-S.getShadows(bl).bottom,overflow:"auto"});
};
if(S.support.browser.msie&&S.support.browser.version<=7){setTimeout(bk,0);
}else{bk();
}}else{bl.css({maxHeight:"",overflow:""});
}bb.data(a0,bb.css(a0));
var be=a9.nextItemZIndex++;
bb.css(a0,be);
if(a9.options.scrollable){bb.parent().siblings(aE).css({zIndex:++be});
}bi=bl.data(T);
var bj=bb.parent().hasClass(ab),bh=bj&&a5,bc=aq(a3,bj,a6),bd=a7.animation.open.effects,bf=bd!==aU?bd:"slideIn:"+E(a3,bj);
if(!bi){bi=bl.kendoPopup({activate:function(){a9._triggerEvent({item:this.wrapper.parent(),type:c});
},deactivate:function(bn){a9._closing=false;
bn.sender.element.removeData("targetTransform").css({opacity:""});
a9._triggerEvent({item:this.wrapper.parent(),type:p});
},origin:bc.origin,position:bc.position,collision:a7.popupCollision!==aU?a7.popupCollision:bh?"fit":"fit flip",anchor:bb,appendTo:a8||bb,animation:{open:z(true,{effects:bf},a7.animation.open),close:a7.animation.close},open:aA(a9._popupOpen,a9),close:function(bn){a9._closing=true;
var bo=bn.sender.wrapper.parent();
if(a8){var bp=bn.sender.element.data(au);
if(bp){bo=(a8||a9.element).find(ax(bp));
}bn.sender.wrapper.children(aE).hide();
}if(!a9._triggerEvent({item:bo[0],type:l})){bo.css(a0,bo.data(a0));
bo.removeData(a0);
if(a9.options.scrollable){bo.parent().siblings(aE).css({zIndex:""});
}if(aQ||f||S.support.mouseAndTouchPresent){bo.removeClass(J);
a9._removeHoverItem();
}}else{bn.preventDefault();
}}}).data(T);
}else{bi=bl.data(T);
bi.options.origin=bc.origin;
bi.options.position=bc.position;
bi.options.animation.open.effects=bf;
}bl.removeAttr("aria-hidden");
a9._configurePopupOverflow(bi,bb);
bi._hovered=true;
bi.open();
a9._initPopupScrolling(bi);
}},a9.options.hoverDelay));
});
return a9;
},_configurePopupOverflow:function(a2,a3){var a4=this;
if(a4.options.scrollable){a4._wrapPopupElement(a2);
if(!a3.attr("data-groupparent")){var a1=new Date().getTime();
a3.attr("data-groupparent",a1);
a2.element.attr("data-group",a1);
}}},_wrapPopupElement:function(a1){if(!a1.element.parent().is(g)){a1.wrapper=S.wrap(a1.element,a1.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"});
}},_initPopupScrolling:function(a2,a1,a3){var a4=this;
if(a4.options.scrollable&&a2.element[0].scrollHeight>a2.element[0].offsetHeight){a4._initPopupScrollButtons(a2,a1,a3);
}},_initPopupScrollButtons:function(a3,a2,a5){var a6=this;
var a4=a3.wrapper.children(aE);
var a1=a6.options.animation;
var a7=(a1&&a1.open&&a1.open.duration||0)+r;
setTimeout(function(){if(!a4.length){var a8=b(a6.templates.scrollButton({direction:a2?"left":"up"}));
var a9=b(a6.templates.scrollButton({direction:a2?"right":"down"}));
a4=a8.add(a9).appendTo(a3.wrapper);
a6._initScrolling(a3.element,a8,a9,a2);
if(!a5){a4.on(ae+ak,function(){var ba=a6._overflowWrapper();
b(D(a3.element,ba)).each(function(bb,bc){var bd=ba.find(ax(bc.data(au)));
a6.close(bd);
});
}).on(af+ak,function(){setTimeout(function(){if(b.isEmptyObject(a6._openedPopups)){a6._closeParentPopups(a3.element);
}},r);
});
}}a6._toggleScrollButtons(a3.element,a4.first(),a4.last(),a2);
},a7);
},_popupOpen:function(a1){if(!this._keyTriggered){a1.sender.element.children("."+B).removeClass(B);
}if(this.options.scrollable){this._setPopupHeight(a1.sender);
}},_setPopupHeight:function(a7,a4){var a8=a7.element;
var bb=a8.add(a8.parent(g));
bb.height(a8.hasClass(ab)&&this._initialHeight||"");
var a5=a7._location(a4);
var bd=b(window).height();
var ba=a5.height;
var a9=a4?0:Math.max(a5.top,0);
var bc=a4?0:ap(this._overflowWrapper()[0],"scrollTop");
var a1=window.innerHeight-bd;
var a6=bd-S.getShadows(a8).bottom+a1;
var a2=a6+bc>ba+a9;
if(!a2){var a3=Math.min(a6,a6-a9+bc);
bb.css({overflow:"hidden",height:a3+"px"});
}},close:function(a5,a1){var a7=this;
var a6=a7._overflowWrapper();
var a2=a6||a7.element;
a5=a2.find(a5);
if(!a5.length){a5=a2.find(">.k-item");
}var a3=function(a8){var a9=false;
if(b.isEmptyObject(a7._openedPopups)){return a9;
}b(D(a8,a6)).each(function(ba,bb){a9=!!a7._openedPopups[bb.data(au).toString()];
return !a9;
});
return a9;
};
var a4=function(a9){var a8=a9.data(av);
return !a6||!a8||!a7._openedPopups[a8.toString()];
};
a5.each(function(){var a8=b(this);
if(!a1&&a7._isRootItem(a8)){a7.clicked=false;
}clearTimeout(a8.data(aP));
a8.data(aP,setTimeout(function(){var a9=a7._getPopup(a8);
if(a9&&(a4(a8)||a7._forceClose)){if(!a7._forceClose&&a3(a9.element)){return;
}a9.close();
a9.element.attr("aria-hidden",true);
if(a6){if(a7._forceClose&&a5.last().is(a8[0])){delete a7._forceClose;
}}}},a7.options.hoverDelay));
});
return a7;
},_getPopup:function(a2){var a6=this;
var a4=a2.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(T);
var a3=a6._overflowWrapper();
if(!a4&&a3){var a1=a2.data(av);
if(a1){var a5=a3.find(aw(a1));
a4=a5.data(T);
}}return a4;
},_toggleDisabled:function(a2,a1){this.element.find(a2).each(function(){b(this).toggleClass(q,a1).toggleClass(t,!a1).attr("aria-disabled",!a1);
});
},_toggleHover:function(a1){var a3=b(S.eventTarget(a1)||a1.target).closest(e),a2=a1.type==ae||ad.indexOf(a1.type)!==-1;
a3.siblings().removeClass(J);
if(!a3.parents("li."+t).length){a3.toggleClass(J,a2||a1.type=="mousedown"||a1.type=="pointerover"||a1.type==aS);
}this._removeHoverItem();
},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true;
}},_checkActiveElement:function(a1){var a4=this,a2=b(a1?a1.currentTarget:this._hoverItem()),a3=a4._findRootParent(a2)[0];
if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||!m(a3,S._activeElement())&&a1&&!m(a3,a1.currentTarget)){a4.close(a3);
}},0);
}this._closurePrevented=false;
},_removeHoverItem:function(){var a1=this._hoverItem();
if(a1&&a1.hasClass(B)){a1.removeClass(B);
this._oldHoverItem=null;
}},_updateClasses:function(){var a1=this.element,a3=".k-menu-init div ul",a2;
a1.removeClass("k-menu-horizontal k-menu-vertical");
a1.addClass("k-widget k-reset k-header k-menu-init "+ab).addClass(ab+"-"+this.options.orientation);
a1.find("li > ul").filter(function(){return !S.support.matchesSelector.call(this,a3);
}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",a1.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1");
a2=a1.find("> li,.k-menu-group > li");
a1.removeClass("k-menu-init");
a2.each(function(){aY(this);
});
},_mouseenter:function(a1){var a6=this;
var a2=b(a1.currentTarget);
var a3=a6._itemHasChildren(a2);
var a5=a2.data(av)||a2.parent().data(au);
var a4=O(a1);
if(a5){a6._openedPopups[a5.toString()]=true;
}if(a6._closing||a1.delegateTarget!=a2.parents(ac)[0]&&a1.delegateTarget!=a2.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]){return;
}a6._keyTriggered=false;
if(a6.options.openOnClick.rootMenuItems&&a6._isRootItem(a2.closest(e))||a6.options.openOnClick.subMenuItems&&!a6._isRootItem(a2.closest(e))){return;
}if((a6.options.openOnClick===false||a6.options.openOnClick.rootMenuItems===false&&a6._isRootItem(a2.closest(e))||a6.options.openOnClick.subMenuItems===false&&!a6._isRootItem(a2.closest(e))||a6.clicked)&&!aQ&&!(a4&&a6._isRootItem(a2.closest(e)))){if(!m(a1.currentTarget,a1.relatedTarget)&&a3){a6.open(a2);
}}if(a6.options.openOnClick===true&&a6.clicked||aQ){a2.siblings().each(aA(function(a7,a8){a6.close(a8,true);
},a6));
}},_mousedown:function(a1){var a3=this;
var a2=b(a1.currentTarget);
if(a3.options.openOnClick.subMenuItems&&!a3._isRootItem(a2)||aQ){a2.siblings().each(aA(function(a4,a5){a3.close(a5,true);
},a3));
}},_mouseleave:function(a2){var a6=this;
var a3=b(a2.currentTarget);
var a5=a3.data(av);
var a4=a3.children(g).length||a3.children(H).length||a5;
var a1=b(window);
if(a5){delete a6._openedPopups[a5.toString()];
}if(a3.parentsUntil(g,".k-list-container,.k-calendar-container")[0]){a2.stopImmediatePropagation();
return;
}if((a6.options.openOnClick===false||!a6.options.openOnClick.rootMenuItems&&a6._isRootItem(a3)||!a6.options.openOnClick.subMenuItems&&!a6._isRootItem(a3))&&!aQ&&!O(a2)&&!m(a2.currentTarget,a2.relatedTarget||a2.target)&&a4&&!m(a2.currentTarget,S._activeElement())){a6.close(a3,true);
a6._loading=false;
return;
}if(S.support.browser.msie&&!a2.toElement&&!a2.relatedTarget&&!O(a2)||a2.clientX<0||a2.clientY<0||a2.clientY>a1.height()||a2.clientX>a1.width()){a6.close(a3);
}},_mouseenterPopup:function(a1){var a4=this;
var a2=b(a1.currentTarget);
if(a2.parent().is(g)){return;
}a2=a2.children("ul");
var a3=a2.data(au);
if(a3){a4._openedPopups[a3.toString()]=true;
}},_mouseleavePopup:function(a1){var a3=this;
var a2=b(a1.currentTarget);
if(!O(a1)&&a2.is(g)){a3._closePopups(a2.children("ul"));
}},_closePopups:function(a4){var a5=this;
var a2=a5._overflowWrapper();
var a3=a4.data(au);
if(a3){delete a5._openedPopups[a3.toString()];
var a1=a2.find(ax(a3));
setTimeout(function(){if(a5.options.openOnClick){a5._closeChildPopups(a4);
}else{if(b.isEmptyObject(a5._openedPopups)){var a6=a5._innerPopup(a4);
a5._closeParentPopups(a6);
}else{a5.close(a1,true);
}}},0);
}},_closeChildPopups:function(a1){var a3=this;
var a2=a3._overflowWrapper();
b(D(a1,a2)).each(function(){var a4=a2.find(ax(this.data(au)));
a3.close(a4,true);
});
},_innerPopup:function(a1){var a2=this._overflowWrapper();
var a3=D(a1,a2);
return a3[a3.length-1]||a1;
},_closeParentPopups:function(a1){var a5=this;
var a2=a5._overflowWrapper();
var a3=a1.data(au);
var a4=a2.find(ax(a3));
a3=a4.parent().data(au);
a5.close(a4,true);
while(a3&&!a5._openedPopups[a3]){if(a4.parent().is(ac)){break;
}a4=a2.find(ax(a3));
a5.close(a4,true);
a3=a4.parent().data(au);
}},_click:function(a4){var bn=this,bf,bg=bn.options,bk=b(S.eventTarget(a4)),bl=bk[0],be=bk[0]?bk[0].nodeName.toUpperCase():"",a6=be=="INPUT"||be=="SELECT"||be=="BUTTON"||be=="LABEL",bd=bk.closest(Y),a5=bk.closest(e),bc=a5[0],a7=bd.attr("href"),a1,a2,bm=bk.attr("href"),bi=b("<a href='#' />").attr("href"),a8=!!a7&&a7!==bi,a9=a8&&!!a7.match(/^#/),ba=!!bm&&bm!==bi,bh=bn._overflowWrapper(),bj;
while(bl&&bl.parentNode!=bc){bl=bl.parentNode;
}if(b(bl).is(aO)){return;
}if(a5.hasClass(t)){a4.preventDefault();
return;
}if(!a4.handled&&bn._triggerSelect(bk,bc)&&!a6){a4.preventDefault();
}a4.handled=true;
a1=a5.children(az);
if(bh){var a3=a5.data(av);
if(a3){a1=bh.find(aw(a3));
}}a2=a1.is(":visible");
bj=bg.openOnClick&&a2&&bn._isRootItem(a5);
if(bg.closeOnClick&&(!a8||a9)&&(!a1.length||bj)){a5.removeClass(J).css("height");
bn._oldHoverItem=bn._findRootParent(a5);
var bb=bn._parentsUntil(bd,bn.element,e);
bn._forceClose=!!bh;
bn.close(bb);
bn.clicked=false;
if("MSPointerUp".indexOf(a4.type)!=-1){a4.preventDefault();
}return;
}if(a8&&a4.enterKey){bd[0].click();
}if((!bn._isRootItem(a5)||bg.openOnClick===false)&&!bg.openOnClick.subMenuItems&&!S.support.touch&&!(O(a4)&&bn._isRootItem(a5.closest(e)))){return;
}if(!a8&&!a6&&!ba){a4.preventDefault();
}bn.clicked=true;
bf=a1.is(":visible")?l:an;
if(!bg.closeOnClick&&bf==l){return;
}bn[bf](a5);
},_parentsUntil:function(a1,a6,a5){var a2=this._overflowWrapper();
if(!a2){return a1.parentsUntil(a6,a5);
}else{var a3=ao(a1,a2);
var a4=[];
b(a3).each(function(){var a7=b(this);
if(a7.is(a6)){return false;
}if(a7.is(a5)){a4.push(this);
}});
return b(a4);
}},_triggerSelect:function(a6,a3){a6=a6.is(".k-link")?a6:a6.closest(".k-link");
var a5=a6.data("selectHandler"),a4;
if(a5){a4=this._getEventData(a6);
a5.call(this,a4);
}var a2=a4&&a4.isDefaultPrevented();
var a1=this._triggerEvent({item:a3,type:aI});
return a2||a1;
},_getEventData:function(a2){var a1={sender:this,target:a2,_defaultPrevented:false,preventDefault:function(){this._defaultPrevented=true;
},isDefaultPrevented:function(){return this._defaultPrevented;
}};
return a1;
},_documentClick:function(a1){var a2=this;
if(m((a2._overflowWrapper()||a2.element)[0],a1.target)){return;
}a2.clicked=false;
},_focus:function(a2){var a5=this,a4=a2.target,a3=a5._hoverItem(),a1=d();
if(a4!=a5.wrapper[0]&&!b(a4).is(":kendoFocusable")){a2.stopPropagation();
b(a4).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(B);
a5.wrapper.focus();
return;
}if(a1===a2.currentTarget){if(a3.length){a5._moveHover([],a3);
}else{if(!a5._oldHoverItem){a5._moveHover([],a5.wrapper.children().first());
}}}},_keydown:function(a2){var a8=this,a6=a2.keyCode,a4=a8._oldHoverItem,a7,a1,a3,a5=S.support.isRtl(a8.wrapper);
if(a2.target!=a2.currentTarget&&a6!=U.ESC){return;
}if(!a4){a4=a8._oldHoverItem=a8._hoverItem();
}a1=a8._itemBelongsToVertival(a4);
a3=a8._itemHasChildren(a4);
a8._keyTriggered=true;
if(a6==U.RIGHT){a7=a8[a5?"_itemLeft":"_itemRight"](a4,a1,a3);
}else{if(a6==U.LEFT){a7=a8[a5?"_itemRight":"_itemLeft"](a4,a1,a3);
}else{if(a6==U.DOWN){a7=a8._itemDown(a4,a1,a3);
}else{if(a6==U.UP){a7=a8._itemUp(a4,a1,a3);
}else{if(a6==U.HOME){a8._moveHover(a4,a4.parent().children().first());
a2.preventDefault();
}else{if(a6==U.END){a8._moveHover(a4,a4.parent().children().last());
a2.preventDefault();
}else{if(a6==U.ESC){a7=a8._itemEsc(a4,a1);
}else{if(a6==U.ENTER||a6==U.SPACEBAR){a7=a4.children(".k-link");
if(a7.length>0){a8._click({target:a7[0],preventDefault:function(){},enterKey:true});
if(a3&&!a4.hasClass(t)){a8.open(a4);
a8._moveHover(a4,a8._childPopupElement(a4).children().first());
}else{a8._moveHover(a4,a8._findRootParent(a4));
}}}else{if(a6==U.TAB){a7=a8._findRootParent(a4);
a8._moveHover(a4,a7);
a8._checkActiveElement();
return;
}}}}}}}}}if(a7&&a7[0]){a2.preventDefault();
a2.stopPropagation();
}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible");
},_itemBelongsToVertival:function(a1){var a2=this.wrapper.hasClass("k-menu-vertical");
if(!a1.length){return a2;
}return a1.parent().hasClass("k-menu-group")||a2;
},_itemHasChildren:function(a1){if(!a1||!a1.length||!a1[0].nodeType){return false;
}return a1.children(".k-menu-group, div.k-animation-container").length>0||!!a1.data(av)&&!!this._overflowWrapper().children(aw(a1.data(av)));
},_moveHover:function(a2,a3){var a4=this,a1=a4._ariaId;
if(a2.length&&a3.length){a2.removeClass(B);
}if(a3.length){if(a3[0].id){a1=a3[0].id;
}a3.addClass(B);
a4._oldHoverItem=a3;
if(a1){a4.element.removeAttr("aria-activedescendant");
b("#"+a1).removeAttr("id");
a3.attr("id",a1);
a4.element.attr("aria-activedescendant",a1);
}a4._scrollToItem(a3);
}},_findRootParent:function(a1){if(this._isRootItem(a1)){return a1;
}else{return this._parentsUntil(a1,ac,"li.k-item").last();
}},_isRootItem:function(a1){return a1.parent().hasClass(ab);
},_itemRight:function(a3,a1,a2){var a8=this,a4,a6,a5;
if(!a1){a4=a3.nextAll(aj);
if(!a4.length){a4=a3.prevAll(W);
}a8.close(a3);
}else{if(a2&&!a3.hasClass(t)){a8.open(a3);
a4=a8._childPopupElement(a3).children().first();
}else{if(a8.options.orientation=="horizontal"){a6=a8._findRootParent(a3);
a5=a8._overflowWrapper();
if(a5){var a7=Q(a6,a5);
a8._closeChildPopups(a7);
}a8.close(a6);
a4=a6.nextAll(aj);
}}}if(a4&&!a4.length){a4=a8.wrapper.children(".k-item").first();
}else{if(!a4){a4=[];
}}a8._moveHover(a3,a4);
return a4;
},_itemLeft:function(a2,a1){var a5=this,a3,a4;
if(!a1){a3=a2.prevAll(aj);
if(!a3.length){a3=a2.nextAll(W);
}a5.close(a2);
}else{a3=a2.parent().closest(".k-item");
a4=a5._overflowWrapper();
if(!a3.length&&a4){a3=ay(a2.parent(),a4);
}a5.close(a3);
if(a5._isRootItem(a3)&&a5.options.orientation=="horizontal"){a3=a3.prevAll(aj);
}}if(!a3.length){a3=a5.wrapper.children(".k-item").last();
}a5._moveHover(a2,a3);
return a3;
},_itemDown:function(a3,a1,a2){var a5=this,a4;
if(!a1){if(!a2||a3.hasClass(t)){return;
}else{a5.open(a3);
a4=a5._childPopupElement(a3).children().first();
}}else{a4=a3.nextAll(aj);
}if(!a4.length&&a3.length){a4=a3.parent().children().first();
}else{if(!a3.length){a4=a5.wrapper.children(".k-item").first();
}}a5._moveHover(a3,a4);
return a4;
},_itemUp:function(a2,a1){var a4=this,a3;
if(!a1){return;
}else{a3=a2.prevAll(aj);
}if(!a3.length&&a2.length){a3=a2.parent().children().last();
}else{if(!a2.length){a3=a4.wrapper.children(".k-item").last();
}}a4._moveHover(a2,a3);
return a3;
},_scrollToItem:function(a4){var bc=this;
if(bc.options.scrollable&&a4&&a4.length){var bd=a4.parent();
var a3=bd.hasClass(ab)?bc.options.orientation=="horizontal":false;
var ba=a3?"scrollLeft":"scrollTop";
var a2=a3?S._outerWidth:S._outerHeight;
var a1=bd[ba]();
var a7=a2(a4);
var a5=a4[0][a3?"offsetLeft":"offsetTop"];
var be=a2(bd);
var a8=bd.siblings(aE);
var a9=a8.length?a2(a8.first()):0;
var a6;
if(a1+be<a5+a7+a9){a6=a5+a7-be+a9;
}else{if(a1>a5-a9){a6=a5-a9;
}}if(!isNaN(a6)){var bb={};
bb[ba]=a6;
bd.finish().animate(bb,"fast","linear",function(){bc._toggleScrollButtons(bd,a8.first(),a8.last(),a3);
});
}}},_itemEsc:function(a2,a1){var a4=this,a3;
if(!a1){return a2;
}else{a3=a2.parent().closest(".k-item");
a4.close(a3);
a4._moveHover(a2,a3);
}return a3;
},_childPopupElement:function(a1){var a2=a1.find(".k-menu-group");
var a3=this._overflowWrapper();
if(!a2.length&&a3){a2=Q(a1,a3);
}return a2;
},_triggerEvent:function(a1){var a2=this;
return a2.trigger(a1.type,{type:a1.type,item:a1.item});
},_focusHandler:function(a1){var a3=this,a2=b(S.eventTarget(a1)).closest(e);
if(a2.hasClass(t)){return;
}setTimeout(function(){a3._moveHover([],a2);
if(a2.children(".k-content")[0]){a2.parent().closest(".k-item").removeClass(B);
}},200);
},_animations:function(a1){if(a1&&"animation" in a1&&!a1.animation){a1.animation={open:{effects:{}},close:{hide:true,effects:{}}};
}},_dataSource:function(a2){var a3=this,a1=a2?a2.dataSource:a3.options.dataSource;
if(!a1){return;
}a1=N(a1)?{data:a1}:a1;
a3._unbindDataSource();
if(!a1.fields){a1.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}];
}a3.dataSource=I.create(a1);
a3._bindDataSource();
a3.dataSource.fetch();
},_bindDataSource:function(){this._refreshHandler=aA(this.refresh,this);
this._errorHandler=aA(this._error,this);
this.dataSource.bind(j,this._refreshHandler);
this.dataSource.bind(w,this._errorHandler);
},_unbindDataSource:function(){var a1=this.dataSource;
if(a1){a1.unbind(j,this._refreshHandler);
a1.unbind(w,this._errorHandler);
}},_error:function(){},findByUid:function(a1){var a2=this._overflowWrapper()||this.element;
return a2.find("["+S.attr("uid")+"="+a1+"]");
},refresh:function(a2){var a8=this;
var a5=a2.node;
var a1=a2.action;
var a6=a5?a8.findByUid(a5.uid):a8.element;
var a4=a2.items;
var a3=a2.index;
var a9=b.proxy(a8._updateItem,a8);
var a7=b.proxy(a8._removeItem,a8);
if(a1=="add"){a8._appendItems(a4,a3,a6);
}else{if(a1=="remove"){a4.forEach(a7);
}else{if(a1=="itemchange"){a4.forEach(a9);
}else{if(a1==="itemloaded"){a8.append(a2.items,a6);
}else{this._initData();
}}}}this.trigger(o,{item:a6,dataItem:a5});
},_appendItems:function(a2,a1,a3){var a5=this;
var a4=a3.find(R).eq(a1);
if(a4.length){a5.insertBefore(a2,a4);
}else{a5.append(a2,a3);
}},_removeItem:function(a2){var a3=this;
var a1=a3.findByUid(a2.uid);
a3.remove(a1);
},_updateItem:function(a2){var a5=this;
var a1=a5.findByUid(a2.uid);
var a3=a1.next();
var a4=a2.parentNode();
a5.remove(a1);
if(a3.length){a5.insertBefore(a2,a3);
}else{a5.append(a2,a4&&a5.findByUid(a4.uid));
}},_accessors:function(){var a6=this,a4=a6.options,a3,a2,a5,a1=a6.element;
for(a3 in i){a2=a4[i[a3]];
a5=a1.attr(S.attr(a3+"-field"));
if(!a2&&a5){a2=a5;
}if(!a2){a2=a3;
}if(!N(a2)){a2=[a2];
}a4[i[a3]]=a2;
}},_fieldAccessor:function(a3){var a2=this.options[i[a3]]||[],a1=a2.length,a4="(function(item) {";
if(a1===0){a4+="return item['"+a3+"'];";
}else{a4+="var levels = ["+b.map(a2,function(a5){return"function(d){ return "+S.expr(a5)+"}";
}).join(",")+"];";
a4+="if(item.level){return levels[Math.min(item.level(), "+a1+"-1)](item);}else";
a4+="{return levels["+a1+"-1](item)}";
}a4+="})";
return a4;
},_templates:function(){var a3=this,a2=a3.options,a1=aA(a3._fieldAccessor,a3);
if(a2.template&&typeof a2.template==aM){a2.template=aN(a2.template);
}else{if(!a2.template){a2.template=aN("# var text = "+a1("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #");
}}a3.templates={content:aN("#var contentHtml = "+a1("content")+"(item);#<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:aN("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:aN("# var url = "+a1("url")+"(item); ## var imageUrl = "+a1("imageUrl")+"(item); ## var imgAttributes = "+a1("imageAttr")+"(item);## var tag = url ? 'a' : 'span' #<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#># if (imageUrl) { #<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' /># } ##= sprite(item) ##= data.menu.options.template(data) ##= arrow(data) #</#= tag #>"),item:aN("#var contentHtml = "+a1("content")+"(item);#<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#"+S.attr("uid")+"='#= item.uid #' >#= itemWrapper(data) ##if (item.hasChildren || item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl || contentHtml) { ##= renderContent(data) ## } #</li>"),scrollButton:aN("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),arrow:aN("<span class='#= arrowClass(item, group) #'></span>"),sprite:aN("# var spriteCssClass = "+a1("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:aN("")};
},renderItem:function(a3){var a4=this;
a3=z({menu:a4,group:{}},a3);
var a1=a4.templates.empty,a2=a3.item;
return a4.templates.item(z(a3,{sprite:a4.templates.sprite,itemWrapper:a4.templates.itemWrapper,renderContent:a4.renderContent,arrow:a2.items||a2.content||a2[a4.options.dataContentField[0]]?a4.templates.arrow:a1,subGroup:a4.renderGroup},aC));
},renderGroup:function(a1){var a3=this;
var a2=a3.templates||a1.menu.templates;
return a2.group(z({renderItems:function(a9){var a5="",a6=0,a7=a9.items,a8=a7?a7.length:0,a4=z({length:a8},a9.group);
for(;
a6<a8;
a6++){a5+=a9.menu.renderItem(z(a9,{group:a4,item:z({index:a6},a7[a6])}));
}return a5;
}},a1,aC));
},renderContent:function(a1){return a1.menu.templates.content(z(a1,aC));
}});
var n=aa.extend({init:function(a1,a2){var a3=this;
aa.fn.init.call(a3,a1,a2);
a3._marker=S.guid().substring(0,8);
a3.target=b(a3.options.target);
a3._popup();
a3._wire();
},_initOverflow:function(a1){var a2=this;
if(a1.scrollable&&!a2._overflowWrapper()){a2._openedPopups={};
a2._popupsWrapper=(a2.element.parent().is(g)?a2.element.parent():a2.element).wrap("<div class='k-popups-wrapper "+a1.orientation+"'></div>").parent();
if(a2.options.orientation=="horizontal"){aB(a2.element);
}if(a1.appendTo){a1.appendTo.append(a2._popupsWrapper);
}a2._initialHeight=a2.element[0].style.height;
a2._initialWidth=a2.element[0].style.width;
}},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,copyAnchorStyles:true,target:"body"},events:[an,l,c,p,aI],setOptions:function(a1){var a2=this;
aa.fn.setOptions.call(a2,a1);
a2.target.off(a2.showOn+ak+a2._marker,a2._showProxy);
if(a2.userEvents){a2.userEvents.destroy();
}a2.target=b(a2.options.target);
if(a1.orientation&&a2.popup.wrapper[0]){a2.popup.element.unwrap();
}a2._wire();
aa.fn.setOptions.call(this,a1);
},destroy:function(){var a1=this;
a1.target.off(a1.options.showOn+ak+a1._marker);
u.off(S.support.mousedown+ak+a1._marker,a1._closeProxy);
if(a1.userEvents){a1.userEvents.destroy();
}aa.fn.destroy.call(a1);
},open:function(a4,a5){var a3=this;
a4=b(a4)[0];
if(m(a3.element[0],b(a4)[0])||a3._itemHasChildren(b(a4))){aa.fn.open.call(a3,a4);
}else{if(a3._triggerEvent({item:a3.element,type:an})===false){if(a3.popup.visible()&&a3.options.filter){a3.popup.close(true);
a3.popup.element.kendoStop(true);
}if(a5!==aU){var a2=a3._overflowWrapper();
if(a2){var a1=a2.offset();
a4-=a1.left;
a5-=a1.top;
}a3.popup.wrapper.hide();
a3._configurePopupScrolling(a4,a5);
a3.popup.open(a4,a5);
}else{a3.popup.options.anchor=(a4?a4:a3.popup.anchor)||a3.target;
a3.popup.element.kendoStop(true);
a3._configurePopupScrolling();
a3.popup.open();
}u.off(a3.popup.downEvent,a3.popup._mousedownProxy);
u.on(S.support.mousedown+ak+a3._marker,a3._closeProxy);
}}return a3;
},_configurePopupScrolling:function(a4,a5){var a3=this;
var a2=a3.popup;
var a1=a3.options.orientation=="horizontal";
if(a3.options.scrollable){a3._wrapPopupElement(a2);
a2.element.parent().css({position:"",height:""});
a2.element.css({visibility:"hidden",display:"",position:""});
if(a1){a3._setPopupWidth(a2,isNaN(a4)?aU:{isFixed:true,x:a4,y:a5});
}else{a3._setPopupHeight(a2,isNaN(a4)?aU:{isFixed:true,x:a4,y:a5});
}a2.element.css({visibility:"",display:"none",position:"absolute"});
a3._initPopupScrollButtons(a2,a1,true);
a2.element.siblings(aE).hide();
}},_setPopupWidth:function(a5,a2){var a6=a5.element;
var a9=a6.add(a6.parent(g));
a9.width(this._initialWidth||"");
var a3=a5._location(a2);
var bc=b(window).width();
var a8=a3.width;
var a7=Math.max(a3.left,0);
var ba=a2?0:ap(this._overflowWrapper()[0],"scrollLeft");
var bb=S.getShadows(a6);
var a4=bc-bb.left-bb.right;
var a1=a4+ba>a8+a7;
if(!a1){a9.css({overflow:"hidden",width:a4-a7+ba+"px"});
}},close:function(){var a1=this;
if(m(a1.element[0],b(arguments[0])[0])||a1._itemHasChildren(arguments[0])){aa.fn.close.call(a1,arguments[0]);
}else{if(a1.popup.visible()){if(a1._triggerEvent({item:a1.element,type:l})===false){a1.popup.close();
u.off(S.support.mousedown+ak+a1._marker,a1._closeProxy);
a1.unbind(aI,a1._closeTimeoutProxy);
}}}},_showHandler:function(a1){var a2=a1,a3,a6=this,a4=a6.options,a5=S.support.mobileOS?b(a2.target):b(a2.currentTarget);
if(a1.event){a2=a1.event;
a2.pageX=a1.x.location;
a2.pageY=a1.y.location;
}if(m(a6.element[0],a1.relatedTarget||a1.target)){return;
}a6._eventOrigin=a2;
a2.preventDefault();
a2.stopImmediatePropagation();
a6.element.find("."+B).removeClass(B);
if(a4.filter&&a5.is(a4.filter)||!a4.filter){if(a4.alignToAnchor){a6.popup.options.anchor=a2.currentTarget;
a6.open(a2.currentTarget);
}else{a6.popup.options.anchor=a2.currentTarget;
if(a6._targetChild){a3=a6.target.offset();
a6.open(a2.pageX-a3.left,a2.pageY-a3.top);
}else{a6.open(a2.pageX,a2.pageY);
}}}},_closeHandler:function(a3){var a9=this,a8=b(a3.relatedTarget||a3.target),a7=a8.closest(a9.target.selector)[0]==a9.target[0],a4=a8.closest(R),a1=a9._itemHasChildren(a4),a6=a9._overflowWrapper(),a2=m(a9.element[0],a8[0])||a6&&m(a6[0],a8[0]);
a9._eventOrigin=a3;
var a5=a3.which!==3;
if(a9.popup.visible()&&(a5&&a7||!a7)&&(a9.options.closeOnClick&&!a1&&a2||!a2)){if(a2){this.unbind(aI,this._closeTimeoutProxy);
a9.bind(aI,a9._closeTimeoutProxy);
}else{a9.close();
}}},_wire:function(){var a3=this,a1=a3.options,a2=a3.target;
a3._showProxy=aA(a3._showHandler,a3);
a3._closeProxy=aA(a3._closeHandler,a3);
a3._closeTimeoutProxy=aA(a3.close,a3);
if(a2[0]){if(S.support.mobileOS&&a1.showOn=="contextmenu"){a3.userEvents=new S.UserEvents(a2,{filter:a1.filter,allowSelection:false});
a2.on(a1.showOn+ak+a3._marker,false);
a3.userEvents.bind("hold",a3._showProxy);
}else{if(a1.filter){a2.on(a1.showOn+ak+a3._marker,a1.filter,a3._showProxy);
}else{a2.on(a1.showOn+ak+a3._marker,a3._showProxy);
}}}},_triggerEvent:function(a2){var a4=this,a1=b(a4.popup.options.anchor)[0],a3=a4._eventOrigin;
a4._eventOrigin=aU;
return a4.trigger(a2.type,z({type:a2.type,item:a2.item||this.element[0],target:a1},a3?{event:a3}:{}));
},_popup:function(){var a2=this;
var a1=a2._overflowWrapper();
a2._triggerProxy=aA(a2._triggerEvent,a2);
a2.popup=a2.element.addClass("k-context-menu").kendoPopup({autosize:a2.options.orientation==="horizontal",anchor:a2.target||"body",copyAnchorStyles:a2.options.copyAnchorStyles,collision:a2.options.popupCollision||"fit",animation:a2.options.animation,activate:a2._triggerProxy,deactivate:a2._triggerProxy,appendTo:a1||a2.options.appendTo,close:!a1?b.noop:function(a3){b(D(a3.sender.element,a1)).each(function(a4,a5){var a6=a5.data(T);
if(a6){a6.close(true);
}});
}}).data(T);
a2._targetChild=m(a2.target[0],a2.popup.element[0]);
}});
aT.plugin(aa);
aT.plugin(n);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
