(function(b,a){a("kendo.userevents",["kendo.core"],b);
}(function(){var a={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true};
(function(b,H){var s=window.kendo,B=s.support,d=s.Class,v=s.Observable,u=b.now,k=b.extend,w=B.mobileOS,r=w&&w.android,f=800,e=300,g=B.browser.msie?5:0,x="press",q="hold",z="select",A="start",t="move",j="end",c="cancel",C="tap",h="doubleTap",y="release",n="gesturestart",l="gesturechange",m="gestureend",o="gesturetap";
var D={api:0,touch:0,mouse:9,pointer:9};
var i=!B.touch||B.mouseAndTouchPresent;
function G(M,N){var O=M.x.location,Q=M.y.location,P=N.x.location,R=N.y.location,K=O-P,L=Q-R;
return{center:{x:(O+P)/2,y:(Q+R)/2},distance:Math.sqrt(K*K+L*L)};
}function p(M){var R=[],P=M.originalEvent,L=M.currentTarget,N=0,O,K,Q;
if(M.api){R.push({id:2,event:M,target:M.target,currentTarget:M.target,location:M,type:"api"});
}else{if(M.type.match(/touch/)){K=P?P.changedTouches:[];
for(O=K.length;
N<O;
N++){Q=K[N];
R.push({location:Q,event:M,target:Q.target,currentTarget:L,id:Q.identifier,type:"touch"});
}}else{if(B.pointers||B.msPointers){R.push({location:P,event:M,target:M.target,currentTarget:L,id:P.pointerId,type:"pointer"});
}else{R.push({id:1,event:M,target:M.target,currentTarget:L,location:M,type:"mouse"});
}}}return R;
}var F=d.extend({init:function(K,L){var M=this;
M.axis=K;
M._updateLocationData(L);
M.startLocation=M.location;
M.velocity=M.delta=0;
M.timeStamp=u();
},move:function(K){var M=this,L=K["page"+M.axis],O=u(),N=O-M.timeStamp||1;
if(!L&&r){return;
}M.delta=L-M.location;
M._updateLocationData(K);
M.initialDelta=L-M.startLocation;
M.velocity=M.delta/N;
M.timeStamp=O;
},_updateLocationData:function(L){var M=this,K=M.axis;
M.location=L["page"+K];
M.client=L["client"+K];
M.screen=L["screen"+K];
}});
var E=d.extend({init:function(M,K,L){k(this,{x:new F("X",L.location),y:new F("Y",L.location),type:L.type,useClickAsTap:M.useClickAsTap,threshold:M.threshold||D[L.type],userEvents:M,target:K,currentTarget:L.currentTarget,initialTouch:L.target,id:L.id,pressEvent:L,_clicks:M._clicks,supportDoubleTap:M.supportDoubleTap,_moved:false,_finished:false});
},press:function(){this._holdTimeout=setTimeout(b.proxy(this,"_hold"),this.userEvents.minHold);
this._trigger(x,this.pressEvent);
},_tap:function(L){var K=this;
K.userEvents._clicks++;
if(K.userEvents._clicks==1){K._clickTimeout=setTimeout(function(){if(K.userEvents._clicks==1){K._trigger(C,L);
}else{K._trigger(h,L);
}K.userEvents._clicks=0;
},e);
}},_hold:function(){this._trigger(q,this.pressEvent);
},move:function(M){var L=this;
var K=M.type!=="api"&&L.userEvents._shouldNotMove;
if(L._finished||K){return;
}L.x.move(M.location);
L.y.move(M.location);
if(!L._moved){if(L._withinIgnoreThreshold()){return;
}if(!I.current||I.current===L.userEvents){L._start(M);
}else{return L.dispose();
}}if(!L._finished){L._trigger(t,M);
}},end:function(K){this.endTime=u();
if(this._finished){return;
}this._finished=true;
this._trigger(y,K);
if(this._moved){this._trigger(j,K);
}else{if(!this.useClickAsTap){if(this.supportDoubleTap){this._tap(K);
}else{this._trigger(C,K);
}}}clearTimeout(this._holdTimeout);
this.dispose();
},dispose:function(){var L=this.userEvents,K=L.touches;
this._finished=true;
this.pressEvent=null;
clearTimeout(this._holdTimeout);
K.splice(b.inArray(this,K),1);
},skip:function(){this.dispose();
},cancel:function(){this.dispose();
},isMoved:function(){return this._moved;
},_start:function(K){clearTimeout(this._holdTimeout);
this.startTime=u();
this._moved=true;
this._trigger(A,K);
},_trigger:function(M,O){var N=this,L=O.event,K={touch:N,x:N.x,y:N.y,target:N.target,event:L};
if(N.userEvents.notify(M,K)){L.preventDefault();
}},_withinIgnoreThreshold:function(){var K=this.x.initialDelta,L=this.y.initialDelta;
return Math.sqrt(K*K+L*L)<=this.threshold;
}});
function J(K){var L=s.eventMap.up.split(" "),M=0,N=L.length;
for(;
M<N;
M++){K(L[M]);
}}var I=v.extend({init:function(L,O){var R=this,M,N=s.guid();
O=O||{};
M=R.filter=O.filter;
R.threshold=O.threshold||g;
R.minHold=O.minHold||f;
R.touches=[];
R._maxTouches=O.multiTouch?2:1;
R.allowSelection=O.allowSelection;
R.captureUpIfMoved=O.captureUpIfMoved;
R.useClickAsTap=!O.fastTap&&!B.delayedClick();
R.eventNS=N;
R._clicks=0;
R.supportDoubleTap=O.supportDoubleTap;
L=b(L).handler(R);
v.fn.init.call(R);
k(R,{element:L,surface:O.global&&i?b(L[0].ownerDocument.documentElement):b(O.surface||L),stopPropagation:O.stopPropagation,pressed:false});
R.surface.handler(R).on(s.applyEventMap("move",N),"_move").on(s.applyEventMap("up cancel",N),"_end");
L.on(s.applyEventMap("down",N),M,"_start");
if(R.useClickAsTap){L.on(s.applyEventMap("click",N),M,"_click");
}if(B.pointers||B.msPointers){if(B.browser.version<11){var K="pinch-zoom double-tap-zoom";
L.css("-ms-touch-action",O.touchAction&&O.touchAction!="none"?K+" "+O.touchAction:K);
}else{L.css("touch-action",O.touchAction||"none");
}}if(O.preventDragEvent){L.on(s.applyEventMap("dragstart",N),s.preventDefault);
}L.on(s.applyEventMap("mousedown",N),M,{root:L},"_select");
if(R.captureUpIfMoved&&B.eventCapture){var Q=R.surface[0],P=b.proxy(R.preventIfMoving,R);
J(function(S){Q.addEventListener(S,P,true);
});
}R.bind([x,q,C,h,A,t,j,y,c,n,l,m,o,z],O);
},preventIfMoving:function(K){if(this._isMoved()){K.preventDefault();
}},destroy:function(){var L=this;
if(L._destroyed){return;
}L._destroyed=true;
if(L.captureUpIfMoved&&B.eventCapture){var K=L.surface[0];
J(function(M){K.removeEventListener(M,L.preventIfMoving);
});
}L.element.kendoDestroy(L.eventNS);
L.surface.kendoDestroy(L.eventNS);
L.element.removeData("handler");
L.surface.removeData("handler");
L._disposeAll();
L.unbind();
delete L.surface;
delete L.element;
delete L.currentTarget;
},capture:function(){I.current=this;
},cancel:function(){this._disposeAll();
this.trigger(c);
},notify:function(L,K){var M=this,N=M.touches;
if(this._isMultiTouch()){switch(L){case t:L=l;
break;
case j:L=m;
break;
case C:L=o;
break;
}k(K,{touches:N},G(N[0],N[1]));
}return this.trigger(L,k(K,{type:L}));
},press:function(L,M,K){this._apiCall("_start",L,M,K);
},move:function(K,L){this._apiCall("_move",K,L);
},end:function(K,L){this._apiCall("_end",K,L);
},_isMultiTouch:function(){return this.touches.length>1;
},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches;
},_disposeAll:function(){var K=this.touches;
while(K.length>0){K.pop().dispose();
}},_isMoved:function(){return b.grep(this.touches,function(K){return K.isMoved();
}).length;
},_select:function(K){if(!this.allowSelection||this.trigger(z,{event:K})){K.preventDefault();
}},_start:function(K){var P=this,M=0,L=P.filter,O,R=p(K),N=R.length,Q,S=K.which;
if(S&&S>1||P._maxTouchesReached()){return;
}I.current=null;
P.currentTarget=K.currentTarget;
if(P.stopPropagation){K.stopPropagation();
}for(;
M<N;
M++){if(P._maxTouchesReached()){break;
}Q=R[M];
if(L){O=b(Q.currentTarget);
}else{O=P.element;
}if(!O.length){continue;
}Q=new E(P,O,Q);
P.touches.push(Q);
Q.press();
if(P._isMultiTouch()){P.notify("gesturestart",{});
}}},_move:function(K){this._eachTouch("move",K);
},_end:function(K){this._eachTouch("end",K);
},_click:function(L){var K={touch:{initialTouch:L.target,target:b(L.currentTarget),endTime:u(),x:{location:L.pageX,client:L.clientX},y:{location:L.pageY,client:L.clientY}},x:L.pageX,y:L.pageY,target:b(L.currentTarget),event:L,type:"tap"};
if(this.trigger("tap",K)){L.preventDefault();
}},_eachTouch:function(P,M){var Q=this,L={},S=p(M),K=Q.touches,N,R,T,O;
for(N=0;
N<K.length;
N++){R=K[N];
L[R.id]=R;
}for(N=0;
N<S.length;
N++){T=S[N];
O=L[T.id];
if(O){O[P](T);
}}},_apiCall:function(L,M,N,K){this[L]({api:true,pageX:M,pageY:N,clientX:M,clientY:N,target:b(K||this.element)[0],stopPropagation:b.noop,preventDefault:b.noop});
}});
I.defaultThreshold=function(K){g=K;
};
I.minHold=function(K){f=K;
};
s.getTouches=p;
s.touchDelta=G;
s.UserEvents=I;
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
