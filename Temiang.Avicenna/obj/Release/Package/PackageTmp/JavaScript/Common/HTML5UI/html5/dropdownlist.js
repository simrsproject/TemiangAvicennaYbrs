(function(b,a){a("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],b);
}(function(){var a={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};
(function(b,E){var m=window.kendo,D=m.ui,o=D.List,x=D.Select,B=m.support,c=m._activeElement,t=m.data.ObservableObject,n=m.keys,r=".kendoDropDownList",s=r+"FocusEvent",i="disabled",v="readonly",f="change",k="k-state-focused",h="k-state-default",A="k-state-disabled",d="aria-disabled",g="click"+r+" touchend"+r,l="mouseenter"+r+" mouseleave"+r,C="tabindex",z="filter",y="accept",p="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",u=b.proxy;
var j=x.extend({init:function(G,J){var L=this;
var H=J&&J.index;
var I,K,F;
L.ns=r;
J=b.isArray(J)?{dataSource:J}:J;
x.fn.init.call(L,G,J);
J=L.options;
G=L.element.on("focus"+r,u(L._focusHandler,L));
L._focusInputHandler=b.proxy(L._focusInput,L);
L.optionLabel=b();
L._optionLabel();
L._inputTemplate();
L._reset();
L._prev="";
L._word="";
L._wrapper();
L._tabindex();
L.wrapper.data(C,L.wrapper.attr(C));
L._span();
L._popup();
L._mobile();
L._dataSource();
L._ignoreCase();
L._filterHeader();
L._aria();
L.wrapper.attr("aria-live","polite");
L._enable();
L._attachFocusHandlers();
L._oldIndex=L.selectedIndex=-1;
if(H!==E){J.index=H;
}L._initialIndex=J.index;
L.requireValueMapper(L.options);
L._initList();
L._cascade();
L.one("set",function(M){if(!M.sender.listView.bound()&&L.hasOptionLabel()){L._textAccessor(L._optionLabelText());
}});
if(J.autoBind){L.dataSource.fetch();
}else{if(L.selectedIndex===-1){K=J.text||"";
if(!K){I=J.optionLabel;
if(I&&J.index===0){K=I;
}else{if(L._isSelect){K=G.children(":selected").text();
}}}L._textAccessor(K);
}}F=b(L.element).parents("fieldset").is(":disabled");
if(F){L.enable(false);
}L.listView.bind("click",function(M){M.preventDefault();
});
m.notify(L);
},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,enforceMinLength:false,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:false,popup:null},events:["open","close",f,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(F){x.fn.setOptions.call(this,F);
this.listView.setOptions(this._listOptions(F));
this._optionLabel();
this._inputTemplate();
this._accessors();
this._filterHeader();
this._enable();
this._aria();
if(!this.value()&&this.hasOptionLabel()){this.select(0);
}},destroy:function(){var F=this;
x.fn.destroy.call(F);
F.wrapper.off(r);
F.wrapper.off(s);
F.element.off(r);
F._inputWrapper.off(r);
F._arrow.off();
F._arrow=null;
F._arrowIcon=null;
F.optionLabel.off();
if(F.filterInput){F.filterInput.off(s);
}},open:function(){var G=this;
var F=G.dataSource.filter()?G.dataSource.filter().filters.length>0:false;
if(G.popup.visible()){return;
}if(!G.listView.bound()||G._state===y){G._open=true;
G._state="rebind";
if(G.filterInput){G.filterInput.val("");
G._prev="";
}if(G.filterInput&&G.options.minLength!==1&&!F){G.refresh();
G.popup.one("activate",G._focusInputHandler);
G.popup.open();
G._resizeFilterInput();
}else{G._filterSource();
}}else{if(G._allowOpening()){G._focusFilter=true;
G.popup.one("activate",G._focusInputHandler);
G.popup._hovered=true;
G.popup.open();
G._resizeFilterInput();
G._focusItem();
}}},_focusInput:function(){this._focusElement(this.filterInput);
},_resizeFilterInput:function(){var G=this.filterInput;
var I=this._prevent;
if(!G){return;
}var H=this.filterInput[0]===c();
var F=m.caret(this.filterInput[0])[0];
this._prevent=true;
G.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block");
if(H){G.focus();
m.caret(G[0],F);
}this._prevent=I;
},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||x.fn._allowOpening.call(this);
},toggle:function(F){this._toggle(F,true);
},current:function(F){var G;
if(F===E){G=this.listView.focus();
if(!G&&this.selectedIndex===0&&this.hasOptionLabel()){return this.optionLabel;
}return G;
}this._focus(F);
},dataItem:function(G){var H=this;
var F=null;
if(G===null){return G;
}if(G===E){F=H.listView.selectedDataItems()[0];
}else{if(typeof G!=="number"){if(H.options.virtual){return H.dataSource.getByUid(b(G).data("uid"));
}if(G.hasClass("k-list-optionlabel")){G=-1;
}else{G=b(H.items()).index(G);
}}else{if(H.hasOptionLabel()){G-=1;
}}F=H.dataSource.flatView()[G];
}if(!F){F=H._optionLabelDataItem();
}return F;
},refresh:function(){this.listView.refresh();
},text:function(H){var I=this;
var G;
var F=I.options.ignoreCase;
H=H===null?"":H;
if(H!==E){if(typeof H!=="string"){I._textAccessor(H);
return;
}G=F?H.toLowerCase():H;
I._select(function(J){J=I._text(J);
if(F){J=(J+"").toLowerCase();
}return J===G;
}).done(function(){I._textAccessor(I.dataItem()||H);
});
}else{return I._textAccessor();
}},_clearFilter:function(){b(this.filterInput).val("");
x.fn._clearFilter.call(this);
},value:function(I){var H=this;
var G=H.listView;
var F=H.dataSource;
if(I===E){I=H._accessor()||H.listView.value()[0];
return I===E||I===null?"":I;
}H.requireValueMapper(H.options,I);
if(I||!H.hasOptionLabel()){H._initialIndex=null;
}this.trigger("set",{value:I});
if(H._request&&H.options.cascadeFrom&&H.listView.bound()){if(H._valueSetter){F.unbind(f,H._valueSetter);
}H._valueSetter=u(function(){H.value(I);
},H);
F.one(f,H._valueSetter);
return;
}if(H._isFilterEnabled()&&G.bound()&&G.isFiltered()){H._clearFilter();
}else{H._fetchData();
}G.value(I).done(function(){H._old=H._valueBeforeCascade=H._accessor();
H._oldIndex=H.selectedIndex;
});
},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0];
},_optionLabel:function(){var I=this;
var G=I.options;
var F=G.optionLabel;
var H=G.optionLabelTemplate;
if(!F){I.optionLabel.off().remove();
I.optionLabel=b();
return;
}if(!H){H="#:";
if(typeof F==="string"){H+="data";
}else{H+=m.expr(G.dataTextField,"data");
}H+="#";
}if(typeof H!=="function"){H=m.template(H);
}I.optionLabelTemplate=H;
if(!I.hasOptionLabel()){I.optionLabel=b('<div class="k-list-optionlabel"></div>').prependTo(I.list);
}I.optionLabel.html(H(F)).off().on(g,u(I._click,I)).on(l,I._toggleHover);
I.angular("compile",function(){return{elements:I.optionLabel,data:[{dataItem:I._optionLabelDataItem()}]};
});
},_optionLabelText:function(){var F=this.options.optionLabel;
return typeof F==="string"?F:this._text(F);
},_optionLabelDataItem:function(){var G=this;
var F=G.options.optionLabel;
if(G.hasOptionLabel()){return b.isPlainObject(F)?new t(F):G._assignInstance(G._optionLabelText(),"");
}return E;
},_buildOptions:function(F){var I=this;
if(!I._isSelect){return;
}var J=I.listView.value()[0];
var G=I._optionLabelDataItem();
var H=G&&I._value(G);
if(J===E||J===null){J="";
}if(G){if(H===E||H===null){H="";
}G='<option value="'+H+'">'+I._text(G)+"</option>";
}I._options(F,G,J);
if(J!==o.unifyType(I._accessor(),typeof J)){I._customOption=null;
I._custom(J);
}},_listBound:function(){var J=this;
var I=J._initialIndex;
var H=J._state===z;
var F=J.dataSource.flatView();
var G;
J._presetValue=false;
J._renderFooter();
J._renderNoData();
J._toggleNoData(!F.length);
J._resizePopup(true);
J.popup.position();
J._buildOptions(F);
J._makeUnselectable();
if(!H){if(J._open){J.toggle(J._allowOpening());
}J._open=false;
if(!J._fetch){if(F.length){if(!J.listView.value().length&&I>-1&&I!==null){J.select(I);
}J._initialIndex=null;
G=J.listView.selectedDataItems()[0];
if(G&&J.text()!==J._text(G)){J._selectValue(G);
}}else{if(J._textAccessor()!==J._optionLabelText()){J.listView.value("");
J._selectValue(null);
J._oldIndex=J.selectedIndex;
}}}}J._hideBusy();
J.trigger("dataBound");
},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);
if(this._presetValue||this._old&&this._oldIndex===-1){this._oldIndex=this.selectedIndex;
}},_filterPaste:function(){this._search();
},_attachFocusHandlers:function(){var F=this;
var G=F.wrapper;
G.on("focusin"+s,u(F._focusinHandler,F)).on("focusout"+s,u(F._focusoutHandler,F));
if(F.filterInput){F.filterInput.on("focusin"+s,u(F._focusinHandler,F)).on("focusout"+s,u(F._focusoutHandler,F));
}},_focusHandler:function(){this.wrapper.focus();
},_focusinHandler:function(){this._inputWrapper.addClass(k);
this._prevent=false;
},_focusoutHandler:function(){var G=this;
var F=window.self!==window.top;
if(!G._prevent){clearTimeout(G._typingTimeout);
if(B.mobileOS.ios&&F){G._change();
}else{G._blur();
}G._inputWrapper.removeClass(k);
G._prevent=true;
G._open=false;
G.element.blur();
}},_wrapperMousedown:function(){this._prevent=!!this.filterInput;
},_wrapperClick:function(F){F.preventDefault();
this.popup.unbind("activate",this._focusInputHandler);
this._focused=this.wrapper;
this._prevent=false;
this._toggle();
},_editable:function(I){var K=this;
var H=K.element;
var F=I.disable;
var J=I.readonly;
var L=K.wrapper.add(K.filterInput).off(r);
var G=K._inputWrapper.off(l);
if(!J&&!F){H.removeAttr(i).removeAttr(v);
G.addClass(h).removeClass(A).on(l,K._toggleHover);
L.attr(C,L.data(C)).attr(d,false).on("keydown"+r,u(K._keydown,K)).on(m.support.mousedown+r,u(K._wrapperMousedown,K)).on("paste"+r,u(K._filterPaste,K));
K.wrapper.on("click"+r,u(K._wrapperClick,K));
if(!K.filterInput){L.on("keypress"+r,u(K._keypress,K));
}else{L.on("input"+r,u(K._search,K));
}}else{if(F){L.removeAttr(C);
G.addClass(A).removeClass(h);
}else{G.addClass(h).removeClass(A);
}}H.attr(i,F).attr(v,J);
L.attr(d,F);
},_keydown:function(H){var M=this;
var L=H.keyCode;
var F=H.altKey;
var J;
var I;
var K=M.popup.visible();
if(M.filterInput){J=M.filterInput[0]===c();
}if(L===n.LEFT){L=n.UP;
I=true;
}else{if(L===n.RIGHT){L=n.DOWN;
I=true;
}}if(I&&J){return;
}H.keyCode=L;
if(F&&L===n.UP||L===n.ESC){M._focusElement(M.wrapper);
}if(M._state===z&&L===n.ESC){M._clearFilter();
M._open=false;
M._state=y;
}if(L===n.ENTER&&M._typingTimeout&&M.filterInput&&K){H.preventDefault();
return;
}if(L===n.SPACEBAR&&!J){M.toggle(!K);
H.preventDefault();
}I=M._move(H);
if(I){return;
}if(!K||!M.filterInput){var G=M._focus();
if(L===n.HOME){I=true;
M._firstItem();
}else{if(L===n.END){I=true;
M._lastItem();
}}if(I){if(M.trigger("select",{dataItem:M._getElementDataItem(M._focus()),item:M._focus()})){M._focus(G);
return;
}M._select(M._focus(),true).done(function(){if(!K){M._blur();
}});
H.preventDefault();
}}if(!F&&!I&&M.filterInput){M._search();
}},_matchText:function(G,H){var F=this.options.ignoreCase;
if(G===E||G===null){return false;
}G=G+"";
if(F){G=G.toLowerCase();
}return G.indexOf(H)===0;
},_shuffleData:function(F,H){var G=this._optionLabelDataItem();
if(G){F=[G].concat(F);
}return F.slice(H).concat(F.slice(0,H));
},_selectNext:function(){var M=this;
var F=M.dataSource.flatView();
var G=F.length+(M.hasOptionLabel()?1:0);
var I=w(M._word,M._last);
var K=M.selectedIndex;
var J;
var L;
if(K===-1){K=0;
}else{K+=I?1:0;
K=q(K,G);
}F=F.toJSON?F.toJSON():F.slice();
F=M._shuffleData(F,K);
for(var H=0;
H<G;
H++){L=M._text(F[H]);
if(I&&M._matchText(L,M._last)){break;
}else{if(M._matchText(L,M._word)){break;
}}}if(H!==G){J=M._focus();
M._select(q(K+H,G)).done(function(){var N=function(){if(!M.popup.visible()){M._change();
}};
if(M.trigger("select",{dataItem:M._getElementDataItem(M._focus()),item:M._focus()})){M._select(J).done(N);
}else{N();
}});
}},_keypress:function(G){var H=this;
if(G.which===0||G.keyCode===m.keys.ENTER){return;
}var F=String.fromCharCode(G.charCode||G.keyCode);
if(H.options.ignoreCase){F=F.toLowerCase();
}if(F===" "){G.preventDefault();
}H._word+=F;
H._last=F;
H._search();
},_popupOpen:function(){var F=this.popup;
F.wrapper=m.wrap(F.element);
if(F.element.closest(".km-root")[0]){F.wrapper.addClass("km-popup km-widget");
this.wrapper.addClass("km-widget");
}},_popup:function(){x.fn._popup.call(this);
this.popup.one("open",u(this._popupOpen,this));
},_getElementDataItem:function(F){if(!F||!F[0]){return null;
}if(F[0]===this.optionLabel[0]){return this._optionLabelDataItem();
}return this.listView.dataItemByIndex(this.listView.getElementIndex(F));
},_click:function(F){var H=this;
var G=F.item||b(F.currentTarget);
F.preventDefault();
if(H.trigger("select",{dataItem:H._getElementDataItem(G),item:G})){H.close();
return;
}H._userTriggered=true;
H._select(G).done(function(){H._blur();
H._focusElement(H.wrapper);
});
},_focusElement:function(H){var F=c();
var K=this.wrapper;
var I=this.filterInput;
var G=H===I?K:I;
var J=B.mobileOS&&(B.touch||B.MSPointers||B.pointers);
if(I&&I[0]===H[0]&&J){return;
}if(I&&(G[0]===F||this._focusFilter)){this._focusFilter=false;
this._prevent=true;
this._focused=H.focus();
}},_searchByWord:function(H){if(!H){return;
}var G=this;
var F=G.options.ignoreCase;
if(F){H=H.toLowerCase();
}G._select(function(I){return G._matchText(G._text(I),H);
});
},_inputValue:function(){return this.text();
},_search:function(){var G=this;
var F=G.dataSource;
clearTimeout(G._typingTimeout);
if(G._isFilterEnabled()){G._typingTimeout=setTimeout(function(){var H=G.filterInput.val();
if(G._prev!==H){G._prev=H;
G.search(H);
G._resizeFilterInput();
}G._typingTimeout=null;
},G.options.delay);
}else{G._typingTimeout=setTimeout(function(){G._word="";
},G.options.delay);
if(!G.listView.bound()){F.fetch().done(function(){G._selectNext();
});
return;
}G._selectNext();
}},_get:function(F){var G,H,I;
var J=typeof F==="function";
var K=!J?b(F):b();
if(this.hasOptionLabel()){if(typeof F==="number"){if(F>-1){F-=1;
}}else{if(K.hasClass("k-list-optionlabel")){F=-1;
}}}if(J){G=this.dataSource.flatView();
for(I=0;
I<G.length;
I++){if(F(G[I])){F=I;
H=true;
break;
}}if(!H){F=-1;
}}return F;
},_firstItem:function(){if(this.hasOptionLabel()){this._focus(this.optionLabel);
}else{this.listView.focusFirst();
}},_lastItem:function(){this._resetOptionLabel();
this.listView.focusLast();
},_nextItem:function(){if(this.optionLabel.hasClass("k-state-focused")){this._resetOptionLabel();
this.listView.focusFirst();
}else{this.listView.focusNext();
}},_prevItem:function(){if(this.optionLabel.hasClass("k-state-focused")){return;
}this.listView.focusPrev();
if(!this.listView.focus()){this._focus(this.optionLabel);
}},_focusItem:function(){var I=this.options;
var H=this.listView;
var F=H.focus();
var G=H.select();
G=G[G.length-1];
if(G===E&&I.highlightFirst&&!F){G=0;
}if(G!==E){H.focus(G);
}else{if(I.optionLabel&&(!I.virtual||I.virtual.mapValueTo!=="dataItem")){this._focus(this.optionLabel);
this._select(this.optionLabel);
this.listView.content.scrollTop(0);
}else{H.scrollToIndex(0);
}}},_resetOptionLabel:function(F){this.optionLabel.removeClass("k-state-focused"+(F||"")).removeAttr("id");
},_focus:function(F){var G=this.listView;
var H=this.optionLabel;
if(F===E){F=G.focus();
if(!F&&H.hasClass("k-state-focused")){F=H;
}return F;
}this._resetOptionLabel();
F=this._get(F);
G.focus(F);
if(F===-1){H.addClass("k-state-focused").attr("id",G._optionID);
this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",G._optionID);
}},_select:function(F,G){var H=this;
F=H._get(F);
return H.listView.select(F).done(function(){if(!G&&H._state===z){H._state=y;
}if(F===-1){H._selectValue(null);
}});
},_selectValue:function(F){var J=this;
var H=J.options.optionLabel;
var G=J.listView.select();
var K="";
var I="";
G=G[G.length-1];
if(G===E){G=-1;
}this._resetOptionLabel(" k-state-selected");
if(F||F===0){I=F;
K=J._dataValue(F);
if(H){G+=1;
}}else{if(H){J._focus(J.optionLabel.addClass("k-state-selected"));
I=J._optionLabelText();
if(typeof H==="string"){K="";
}else{K=J._value(H);
}G=0;
}}J.selectedIndex=G;
if(K===null){K="";
}J._textAccessor(I);
J._accessor(K,G);
J._triggerCascade();
},_mobile:function(){var I=this,G=I.popup,F=B.mobileOS,H=G.element.parents(".km-root").eq(0);
if(H.length&&F){G.options.animation.open.effects=F.android||F.meego?"fadeIn":F.ios||F.wp?"slideIn:up":G.options.animation.open.effects;
}},_filterHeader:function(){var F;
if(this.filterInput){this.filterInput.off(r).parent().remove();
this.filterInput=null;
}if(this._isFilterEnabled()){F='<span class="k-icon k-i-zoom"></span>';
this.filterInput=b('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":true,"aria-expanded":false});
this.list.prepend(b('<span class="k-list-filter" />').append(this.filterInput.add(F)));
}},_span:function(){var H=this,I=H.wrapper,F="span.k-input",G;
G=I.find(F);
if(!G[0]){I.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(H.element);
G=I.find(F);
}H.span=G;
H._inputWrapper=b(I[0].firstChild);
H._arrow=I.find(".k-select");
H._arrowIcon=H._arrow.find(".k-icon");
},_wrapper:function(){var H=this,G=H.element,F=G[0],I;
I=G.parent();
if(!I.is("span.k-widget")){I=G.wrap("<span />").parent();
I[0].style.cssText=F.style.cssText;
I[0].title=F.title;
}H._focused=H.wrapper=I.addClass("k-widget k-dropdown").addClass(F.className).css("display","").attr({accesskey:G.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false});
G.hide().removeAttr("accesskey");
},_clearSelection:function(F){this.select(F.value()?0:-1);
},_inputTemplate:function(){var H=this,G=H.options.valueTemplate;
if(!G){G=b.proxy(m.template("#:this._text(data)#",{useWithBlock:false}),H);
}else{G=m.template(G);
}H.valueTemplate=G;
if(H.hasOptionLabel()&&!H.options.optionLabelTemplate){try{H.valueTemplate(H._optionLabelDataItem());
}catch(F){throw new Error(p);
}}},_textAccessor:function(L){var F=null;
var K=this.valueTemplate;
var I=this._optionLabelText();
var J=this.span;
if(L===E){return J.text();
}if(b.isPlainObject(L)||L instanceof t){F=L;
}else{if(I&&I===L){F=this.options.optionLabel;
}}if(!F){F=this._assignInstance(L,this._accessor());
}if(this.hasOptionLabel()){if(F===I||this._text(F)===I){K=this.optionLabelTemplate;
if(typeof this.options.optionLabel==="string"&&!this.options.optionLabelTemplate){F=I;
}}}var H=function(){return{elements:J.get(),data:[{dataItem:F}]};
};
this.angular("cleanup",H);
try{J.html(K(F));
}catch(G){J.html("");
}this.angular("compile",H);
},_preselect:function(G,F){if(!G&&!F){F=this._optionLabelText();
}this._accessor(G);
this._textAccessor(F);
this._old=this._accessor();
this._oldIndex=this.selectedIndex;
this.listView.setValue(G);
this._initialIndex=null;
this._presetValue=true;
},_assignInstance:function(H,I){var G=this.options.dataTextField;
var F={};
if(G){e(F,G.split("."),H);
e(F,this.options.dataValueField.split("."),I);
F=new t(F);
}else{F=H;
}return F;
}});
function e(I,G,K){var H=0,J=G.length-1,F;
for(;
H<J;
++H){F=G[H];
if(!(F in I)){I[F]={};
}I=I[F];
}I[G[J]]=K;
}function q(F,G){if(F>=G){F-=G;
}return F;
}function w(H,F){for(var G=0;
G<H.length;
G++){if(H.charAt(G)!==F){return false;
}}return true;
}D.plugin(j);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
