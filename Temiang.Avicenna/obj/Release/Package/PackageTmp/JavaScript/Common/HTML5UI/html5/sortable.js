(function(b,a){a("kendo.sortable",["kendo.draganddrop"],b);
}(function(){var a={id:"sortable",name:"Sortable",category:"framework",depends:["draganddrop"]};
(function(b,u){var n=window.kendo,v=n.ui.Widget,r=n._outerWidth,q=n._outerHeight,t="start",f="beforeMove",p="move",m="end",h="change",g="cancel",e="sort",d="remove",c="receive",j=">*",o=-1;
function i(y,w){try{return b.contains(y,w)||y==w;
}catch(x){return false;
}}function k(w){return w.clone();
}function l(w){return w.clone().removeAttr("id").css("visibility","hidden");
}var s=v.extend({init:function(w,x){var y=this;
v.fn.init.call(y,w,x);
if(!y.options.placeholder){y.options.placeholder=l;
}if(!y.options.hint){y.options.hint=k;
}y.draggable=y._createDraggable();
},events:[t,f,p,m,h,g],options:{name:"Sortable",hint:null,placeholder:null,filter:j,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto",moveOnDragEnter:false},destroy:function(){this.draggable.destroy();
v.fn.destroy.call(this);
},_createDraggable:function(){var y=this,w=y.element,x=y.options;
return new n.ui.Draggable(w,{filter:x.filter,hint:n.isFunction(x.hint)?x.hint:b(x.hint),holdToDrag:x.holdToDrag,container:x.container?b(x.container):null,cursorOffset:x.cursorOffset,axis:x.axis,ignore:x.ignore,autoScroll:x.autoScroll,dragstart:b.proxy(y._dragstart,y),dragcancel:b.proxy(y._dragcancel,y),drag:b.proxy(y._drag,y),dragend:b.proxy(y._dragend,y)});
},_dragstart:function(z){var y=this.draggedElement=z.currentTarget,x=this.options.disabled,A=this.options.handler,w=this.options.placeholder,B=this.placeholder=n.isFunction(w)?b(w.call(this,y)):b(w);
if(x&&y.is(x)){z.preventDefault();
}else{if(A&&!b(z.initialTarget).is(A)){z.preventDefault();
}else{if(this.trigger(t,{item:y,draggableEvent:z})){z.preventDefault();
}else{y.css("display","none");
y.before(B);
this._setCursor();
}}}},_dragcancel:function(){this._cancel();
this.trigger(g,{item:this.draggedElement});
this._resetCursor();
},_drag:function(B){var A=this.draggedElement,H=this._findTarget(B),I,y={left:B.x.location,top:B.y.location},F,x={x:B.x.delta,y:B.y.delta},z,G,D,w=this.options.axis,E=this.options.moveOnDragEnter,C={item:A,list:this,draggableEvent:B};
if(w==="x"||w==="y"){this._movementByAxis(w,y,x[w],C);
return;
}if(H){I=this._getElementCenter(H.element);
F={left:Math.round(y.left-I.left),top:Math.round(y.top-I.top)};
b.extend(C,{target:H.element});
if(H.appendToBottom){this._movePlaceholder(H,null,C);
return;
}if(H.appendAfterHidden){this._movePlaceholder(H,"next",C);
}if(this._isFloating(H.element)){if(x.x<0&&E||!E&&F.left<0){z="prev";
}else{if(x.x>0&&E||!E&&F.left>0){z="next";
}}}else{if(x.y<0&&E||!E&&F.top<0){z="prev";
}else{if(x.y>0&&E||!E&&F.top>0){z="next";
}}}if(z){D=z==="prev"?jQuery.fn.prev:jQuery.fn.next;
G=D.call(H.element);
while(G.length&&!G.is(":visible")){G=D.call(G);
}if(G[0]!=this.placeholder[0]){this._movePlaceholder(H,z,C);
}}}},_dragend:function(B){var E=this.placeholder,z=this.draggedElement,A=this.indexOf(z),F=this.indexOf(E),y=this.options.connectWith,w,D,C,x;
this._resetCursor();
C={action:e,item:z,oldIndex:A,newIndex:F,draggableEvent:B};
if(F>=0){D=this.trigger(m,C);
}else{w=E.parents(y).getKendoSortable();
C.action=d;
x=b.extend({},C,{action:c,oldIndex:o,newIndex:w.indexOf(E)});
D=!(!this.trigger(m,C)&&!w.trigger(m,x));
}if(D||F===A){this._cancel();
return;
}E.replaceWith(z);
z.show();
this.draggable.dropped=true;
C={action:this.indexOf(z)!=o?e:d,item:z,oldIndex:A,newIndex:this.indexOf(z),draggableEvent:B};
this.trigger(h,C);
if(w){x=b.extend({},C,{action:c,oldIndex:o,newIndex:w.indexOf(z)});
w.trigger(h,x);
}},_findTarget:function(x){var y=this._findElementUnderCursor(x),z,w=this.options.connectWith,A;
if(b.contains(this.element[0],y)){z=this.items();
A=z.filter(y)[0]||z.has(y)[0];
return A?{element:b(A),sortable:this}:null;
}else{if(this.element[0]==y&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true};
}else{if(this.element[0]==y&&this._isLastHidden()){A=this.items().eq(0);
return{element:A,sortable:this,appendAfterHidden:true};
}else{if(w){return this._searchConnectedTargets(y,x);
}}}}},_findElementUnderCursor:function(x){var y=n.elementUnderCursor(x),w=x.sender;
if(i(w.hint[0],y)){w.hint.hide();
y=n.elementUnderCursor(x);
if(!y){y=n.elementUnderCursor(x);
}w.hint.show();
}return y;
},_searchConnectedTargets:function(y,x){var w=b(this.options.connectWith),C,A,B;
for(var z=0;
z<w.length;
z++){C=w.eq(z).getKendoSortable();
if(b.contains(w[z],y)){if(C){A=C.items();
B=A.filter(y)[0]||A.has(y)[0];
if(B){C.placeholder=this.placeholder;
return{element:b(B),sortable:C};
}else{return null;
}}}else{if(w[z]==y){if(C&&C._isEmpty()){return{element:w.eq(z),sortable:C,appendToBottom:true};
}else{if(this._isCursorAfterLast(C,x)){B=C.items().last();
return{element:B,sortable:C};
}}}}}},_isCursorAfterLast:function(B,y){var z=B.items().last(),w={left:y.x.location,top:y.y.location},A,x;
A=n.getOffset(z);
A.top+=q(z);
A.left+=r(z);
if(this._isFloating(z)){x=A.left-w.left;
}else{x=A.top-w.top;
}return x<0?true:false;
},_movementByAxis:function(w,x,z,A){var y=w==="x"?x.left:x.top,C=z<0?this.placeholder.prev():this.placeholder.next(),B=this.items(),D;
if(C.length&&!C.is(":visible")){C=z<0?C.prev():C.next();
}if(!B.filter(C).length){return;
}b.extend(A,{target:C});
D=this._getElementCenter(C);
if(D){D=w==="x"?D.left:D.top;
}if(C.length&&z<0&&y-D<0){this._movePlaceholder({element:C,sortable:this},"prev",A);
}else{if(C.length&&z>0&&y-D>0){this._movePlaceholder({element:C,sortable:this},"next",A);
}}},_movePlaceholder:function(z,w,x){var y=this.placeholder;
if(!z.sortable.trigger(f,x)){if(!w){z.element.append(y);
}else{if(w==="prev"){z.element.before(y);
}else{if(w==="next"){z.element.after(y);
}}}z.sortable.trigger(p,x);
}},_setCursor:function(){var x=this.options.cursor,w;
if(x&&x!=="auto"){w=b(document.body);
this._originalCursorType=w.css("cursor");
w.css({cursor:x});
if(!this._cursorStylesheet){this._cursorStylesheet=b("<style>* { cursor: "+x+" !important; }</style>");
}this._cursorStylesheet.appendTo(w);
}},_resetCursor:function(){if(this._originalCursorType){b(document.body).css("cursor",this._originalCursorType);
this._originalCursorType=null;
this._cursorStylesheet.remove();
}},_getElementCenter:function(x){var w=x.length?n.getOffset(x):null;
if(w){w.top+=q(x)/2;
w.left+=r(x)/2;
}return w;
},_isFloating:function(z){var w=/left|right/.test(z.css("float"));
var y=/inline|table-cell/.test(z.css("display"));
var x=/flex/.test(z.parent().css("display"))&&(/row|row-reverse/.test(z.parent().css("flex-direction"))||!z.parent().css("flex-direction"));
return w||y||x;
},_cancel:function(){this.draggedElement.show();
this.placeholder.remove();
},_items:function(){var w=this.options.filter,x;
if(w){x=this.element.find(w);
}else{x=this.element.children();
}return x;
},indexOf:function(x){var y=this._items(),z=this.placeholder,w=this.draggedElement;
if(z&&x[0]==z[0]){return y.not(w).index(x);
}else{return y.not(z).index(x);
}},items:function(){var x=this.placeholder,w=this._items();
if(x){w=w.not(x);
}return w;
},_isEmpty:function(){return !this.items().length;
},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden");
}});
n.ui.plugin(s);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
