@using Temiang.Avicenna.Common;

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>@ViewBag.Brand.Name</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="@(ViewBag.UrlRoot)/Bootstrap/plugins/fontawesome-free-5.13/css/all.min.css" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="@(ViewBag.UrlRoot)/Bootstrap/adminlte/css/adminlte.min.css" />
    <!-- JQuery UI -->
    <link rel="stylesheet" href="@(ViewBag.UrlRoot)/Bootstrap/plugins/jquery-ui/jquery-ui.min.css" />

    <link href="@(ViewBag.UrlRoot)/Bootstrap/plugins/sweetalert2/sweetalert2.min.css" rel="stylesheet" />
    <link href="@(ViewBag.UrlRoot)/Bootstrap/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css" rel="stylesheet" />
    <!-- keyboard widget css & script (required) -->
    <link href="@(ViewBag.UrlRoot)/Bootstrap/plugins/keyboard/css/keyboard.css" rel="stylesheet">
    <style>
        .hideoverflowbar {
            overflow: hidden;
        }

        .fa-spin {
            -webkit-animation: fa-spin 0.75s infinite linear;
            animation: fa-spin 0.75s infinite linear;
        }
    </style>
</head>
<body class="hold-transition sidebar-mini">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Top navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#"><i class="fa fa-bars"></i></a>
                </li>
                <li>
                    <h3>
                        <span id="spanPageTitle"></span>
                    </h3>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li>
                    <span style="font-size:x-small">Powered by <a href="@ViewBag.Brand.Website">@ViewBag.Brand.VendorName</a></span>
                </li>
            </ul>

            <!-- Top navbar links -->
        </nav>
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-warning elevation-4 hideoverflowbar">
            <!-- Brand Logo -->
            <a href="javascript:void(0);" onclick="javascript: backToHomepage();" class="brand-link">
                <img src="@(ViewBag.UrlRoot)/Images/LogoRS.jpg" alt="Logo" class="brand-image elevation-3" style="opacity: .8">
                <div>
                    <span class="brand-text font-weight-light">@ViewData["AppParam_HealthcareInitial"]</span>
                </div>
            </a>
            <!-- Sidebar -->
            <div class="sidebar hideoverflowbar">
                <div class="info mt-3 pb-3 mb-3">
                    <div style="width:230px;">
                        <a>
                            <p>
                                <span class="brand-text font-weight-light">
                                    @ViewData["Healthcare_HealthcareName"]
                                </span>
                            </p>
                            <span class="brand-text font-weight-light d-none">
                                @ViewData["Healthcare_Address"]
                            </span>
                        </a>
                    </div>
                </div>
                <div id="navLeftCustom">

                </div>
                <!-- Sidebar Menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <!-- /.content-header -->
            <!-- Main content -->
            <section class="content px-0 py-0">
                <div class="container-fluid">
                    <!-- Main row -->
                    @RenderBody()
                    <!-- /.row -->
                </div>
                <!-- /.container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
            bla bla bal
            bal
        </aside>
        <!-- /.control-sidebar -->
    </div>
    <!-- ./wrapper -->
    <!-- jQuery -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/jQueryUI/jquery-migrate-3.0.0.min.js"></script>  -->
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button)
    </script>
    <!-- Bootstrap 4 -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/sweetalert2/sweetalert2.min.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/moment/moment.min.js"></script>

    <!-- Keyyboard -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/keyboard/js/jquery.keyboard.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/keyboard/js/lang/id.js"></script>

    <!-- QRCode Scanner -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/qrcode/js/qrcodelib.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/plugins/qrcode/js/webcodecamjquery.js"></script>

    <!-- AdminLTE App -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/adminlte/js/adminlte.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="@(ViewBag.UrlRoot)/Bootstrap/adminlte/js/demo.js"></script>

    <script src="@(ViewBag.UrlRoot)/Bootstrap/js/settings.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/js/core.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/js/tic.js"></script>
    <script src="@(ViewBag.UrlRoot)/Bootstrap/js/qrcode.js"></script>

    <script language="javascript">
        var BaseURL = '@ViewBag.UrlRoot';

        $(document).ready(function () {
            $.ajaxSetup({
                beforeSend: function (xhr) {
                    if (xhr.overrideMimeType) {
                        xhr.overrideMimeType("application/json");
                    }
                }
            });
        });

        const Toast = Swal.mixin({
            toast: true,
            position: 'top',
            showConfirmButton: false,
            timer: 2000
        });

        function DisplayToast(msg, type) {
            if (msg == undefined) msg = " Server Disconnected!";
            Toast.fire({
                type: type,
                title: msg
            });
        }

        var curCounter = "";
        var _fnGetAjaxCounterIsRunning = false;
        function GetAjaxCounter() {
            if (_fnGetAjaxCounterIsRunning == true) return;

            _fnGetAjaxCounterIsRunning = true;

            var url = BaseURL + '/WebService/KioskQueue.asmx/GetAjaxCounter';

            $.ajax({
                type: 'POST',
                url: url,
                data: {},
                success: function (ret) {
                    if (ret.status === 'OK') {
                        if (curCounter == '') {
                            curCounter = ret.data;
                        } else if (curCounter == ret.data) {
                            // nothing to do
                        } else {
                            // refresh page;
                            location.reload(true);
                        }
                    } else {
                        DisplayToast(ret.data, "error");
                    }

                    _fnGetAjaxCounterIsRunning = false;
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    _fnGetAjaxCounterIsRunning = false;
                    DisplayToast(xhr.responseText, "error");
                },
                dataType: 'json'
            });
        }
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
